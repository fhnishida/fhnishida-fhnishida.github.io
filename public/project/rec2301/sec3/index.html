<!DOCTYPE html>
<!-- This site was created with Wowchemy. https://www.wowchemy.com -->
<!-- Last Published: July 24, 2023 --><html lang="en-us" >


<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  
  
    <meta name="generator" content="Wowchemy 5.7.0 for Hugo" />
  

  
  












  
  










  







  
  
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  

  
  
  
    
      
      <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media="print" onload="this.media='all'">
    
  

  
  

  
  
    
    <script src="/js/mathjax-config.js"></script>
  

  

  <link rel="stylesheet" href="/css/vendor-bundle.min.16f785cdb553c8c4431db6775122af35.css" media="print" onload="this.media='all'">

  
  
  
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.2/css/academicons.min.css" integrity="sha512-KlJCpRsLf+KKu2VQa5vmRuClRFjxc5lXO03ixZt82HZUk41+1I0bD8KBSA0fY290ayMfWYI9udIqeOWSu1/uZg==" crossorigin="anonymous" media="print" onload="this.media='all'">
    

    
    
    
    
      
      
    
    
    

    
    
    

    

    
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" integrity="" crossorigin="anonymous" async></script>
      
    
      
      

      
      

      
    
      
      

      
      

      
    
  

  
  
  
  
  
  
  <link rel="stylesheet" href="/css/wowchemy.0f229d4b7ebad1917a9a357cba2effab.css" />

  
  
  

  
  
  
  
  
  
  
    
    
    <link rel="stylesheet" href="/css/libs/chroma/github-light.min.css" title="hl-light" media="print" onload="this.media='all'" >
    <link rel="stylesheet" href="/css/libs/chroma/dracula.min.css" title="hl-dark" media="print" onload="this.media='all'" disabled>
  

  
  


























  
  
  






  <meta name="author" content="Fábio Nishida" />





  

<meta name="description" content="Learn how to use Wowchemy&#39;s docs layout for publishing online courses, software documentation, and tutorials." />



<link rel="alternate" hreflang="en-us" href="https://fhnishida.netlify.app/project/rec2301/sec3/" />
<link rel="canonical" href="https://fhnishida.netlify.app/project/rec2301/sec3/" />



  <link rel="manifest" href="/manifest.webmanifest" />



<link rel="icon" type="image/png" href="/media/icon_hu47f6d4834e8bfd33c99c8c5b57562587_11044_32x32_fill_lanczos_center_3.png" />
<link rel="apple-touch-icon" type="image/png" href="/media/icon_hu47f6d4834e8bfd33c99c8c5b57562587_11044_180x180_fill_lanczos_center_3.png" />

<meta name="theme-color" content="#1565c0" />










  
  






<meta property="twitter:card" content="summary" />

  <meta property="twitter:site" content="@wowchemy" />
  <meta property="twitter:creator" content="@wowchemy" />
<meta property="twitter:image" content="https://fhnishida.netlify.app/media/icon_hu47f6d4834e8bfd33c99c8c5b57562587_11044_512x512_fill_lanczos_center_3.png" />
<meta property="og:site_name" content="Fábio Nishida" />
<meta property="og:url" content="https://fhnishida.netlify.app/project/rec2301/sec3/" />
<meta property="og:title" content="Manipulação de Dados | Fábio Nishida" />
<meta property="og:description" content="Learn how to use Wowchemy&#39;s docs layout for publishing online courses, software documentation, and tutorials." /><meta property="og:image" content="https://fhnishida.netlify.app/media/icon_hu47f6d4834e8bfd33c99c8c5b57562587_11044_512x512_fill_lanczos_center_3.png" /><meta property="og:locale" content="en-us" />

  
    <meta property="og:updated_time" content="2018-09-09T00:00:00&#43;00:00" />
  










  
  
  

  
  
    <link rel="alternate" href="/project/rec2301/sec3/index.xml" type="application/rss+xml" title="Fábio Nishida" />
  

  


  
  <title>Manipulação de Dados | Fábio Nishida</title>

  
  
  
  











</head>


<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class="page-wrapper   " data-wc-page-id="50e31a74b4bde40fc9df302d067c52ae" >

  
  
  
  
  
  
  
  
  
  <script src="/js/wowchemy-init.min.ec9d49ca50e4b80bdb08f0417a28ed84.js"></script>

  


<aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#" aria-label="Close"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control"
        aria-label="Search...">
        
      </div>

      
      

      

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>



  <div class="page-header header--fixed">
  
  
  
  
  












<header>
  <nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
    <div class="container-xl">

      
      <div class="d-none d-lg-inline-flex">
        <a class="navbar-brand" href="/">Fábio Nishida</a>
      </div>
      

      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar-content" aria-controls="navbar-content" aria-expanded="false" aria-label="Toggle navigation">
      <span><i class="fas fa-bars"></i></span>
      </button>
      

      
      <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
        <a class="navbar-brand" href="/">Fábio Nishida</a>
      </div>
      

      
      
      <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

        
        <ul class="navbar-nav d-md-inline-flex">
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#about"><span>Home</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#projects"><span>Teaching Assistance</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#featured"><span>Publications</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#contact"><span>Contact</span></a>
          </li>

          
          

        

          
        </ul>
      </div>

      <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">

        
        
          
            
            <li class="nav-item d-none d-lg-inline-flex">
              <a class="nav-link" href="/#contact"  aria-label="envelope">
                <i class="fas fa-envelope" aria-hidden="true"></i>
              </a>
            </li>
          
        

        
        
        
        <li class="nav-item">
          <a class="nav-link js-search" href="#" aria-label="Search"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        
        
        
        <li class="nav-item dropdown theme-dropdown">
          <a href="#" class="nav-link" data-toggle="dropdown" aria-haspopup="true" aria-label="Display preferences">
            <i class="fas fa-moon" aria-hidden="true"></i>
          </a>
          <div class="dropdown-menu">
            <a href="#" class="dropdown-item js-set-theme-light">
              <span>Light</span>
            </a>
            <a href="#" class="dropdown-item js-set-theme-dark">
              <span>Dark</span>
            </a>
            <a href="#" class="dropdown-item js-set-theme-auto">
              <span>Automatic</span>
            </a>
          </div>
        </li>
        

        
        

      </ul>

    </div>
  </nav>
</header>


  </div>

  <div class="page-body">
    
    
    

    




<div class="container-fluid docs">
  <div class="row flex-xl-nowrap">
    <div class="col-12 col-md-3 col-xl-2 docs-sidebar">
      <form class="docs-search d-flex align-items-center">
  <button class="btn docs-toggle d-md-none p-0 mr-md-3 w-100" type="button" data-toggle="collapse" data-target="#docs-nav" aria-controls="docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    <div class="d-flex">
      <span class="d-md-none pl-1 flex-grow-1 text-left overflow-hidden">
        
        
          Principal
        
      </span>
      <span><i class="fas fa-chevron-down"></i></span>
    </div>
  </button>

  
  <button class="form-control sidebar-search js-search d-none d-md-flex">
    <i class="fas fa-search pr-2"></i>
    <span class="sidebar-search-text">Search...</span>
    <span class="sidebar-search-shortcut">/</span>
  </button>
  
</form>

<nav class="collapse docs-links" id="docs-nav">
  
  
  
  
  
  

  
  
    

    
      

      <ul class="nav docs-sidenav">
        <li><a href="/project/"><i class="fas fa-arrow-left pr-1"></i>Projects</a></li>
      </ul>

      
      
        
          
        
      


  
    
    
    
    
      
    
    

    
      <div class="docs-toc-item">
        <a class="docs-toc-link " href="/project/rec2301/"><i class="fas fa-book pr-1"></i>Principal</a>
    
      
        <ul class="nav docs-sidenav">
      


  <li class=""><a href="/project/rec2301/">----------------------</a></li>



  
    
    
    
    
      
    
    

    
      <div class="docs-toc-item">
        <a class="docs-toc-link " href="/project/rec2301/sec1/">Ferramentas do R</a>
    

    
      </div>
    



  
    
    
    
    
      
    
    

    
      <div class="docs-toc-item">
        <a class="docs-toc-link " href="/project/rec2301/sec2/">Programação em R</a>
    

    
      </div>
    



  
    
    
    
    
      
    
    

    
      <div class="docs-toc-item">
        <a class="docs-toc-link  active" href="/project/rec2301/sec3/">Manipulação de Dados</a>
    

    
      </div>
    



  
    
    
    
    
      
    
    

    
      <div class="docs-toc-item">
        <a class="docs-toc-link " href="/project/rec2301/sec4/">Manipulação via dplyr</a>
    

    
      </div>
    



  
    
    
    
    
      
    
    

    
      <div class="docs-toc-item">
        <a class="docs-toc-link " href="/project/rec2301/sec6/">Distribuições</a>
    

    
      </div>
    



  
    
    
    
    
      
    
    

    
      <div class="docs-toc-item">
        <a class="docs-toc-link " href="/project/rec2301/sec5/">Visualização de Dados</a>
    

    
      </div>
    



  
    
    
    
    
      
    
    

    
      <div class="docs-toc-item">
        <a class="docs-toc-link " href="/project/rec2301/sec7/">Regressão Simples</a>
    

    
      </div>
    



  
    
    
    
    
      
    
    

    
      <div class="docs-toc-item">
        <a class="docs-toc-link " href="/project/rec2301/sec8/">Regressão Múltipla</a>
    

    
      </div>
    



  
    
    
    
    
      
    
    

    
      <div class="docs-toc-item">
        <a class="docs-toc-link " href="/project/rec2301/sec9/">Testes de Hipótese</a>
    

    
      </div>
    



  
    
    
    
    
      
    
    

    
      <div class="docs-toc-item">
        <a class="docs-toc-link " href="/project/rec2301/sec10/">Otimização Numérica</a>
    

    
      </div>
    

      
        </ul>
      
    

    
      </div>
    

    
  
</nav>

    </div>

    
    
    <div class="d-none d-xl-block col-xl-2 docs-toc">
      












      <ul class="nav toc-top">
        <li><a href="#" id="back_to_top" class="docs-toc-title">Contents</a></li>
      </ul>

      <nav id="TableOfContents">
  <ul>
    <li><a href="#resumindo-dados">Resumindo dados</a>
      <ul>
        <li><a href="#funções-básicas">Funções básicas</a></li>
        <li><a href="#família-de-funções-_apply_">Família de funções <em>apply</em></a></li>
      </ul>
    </li>
    <li><a href="#manipulando-dados">Manipulando dados</a>
      <ul>
        <li><a href="#extração-de-subconjuntos">Extração de subconjuntos</a></li>
        <li><a href="#ordenação">Ordenação</a></li>
        <li><a href="#inclusão-de-novas-colunasvariáveis">Inclusão de novas colunas/variáveis</a></li>
        <li><a href="#juntando-bases-de-dados">Juntando bases de dados</a></li>
      </ul>
    </li>
  </ul>
</nav>

      











    </div>
    

    <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 docs-content" role="main">

      <div class="docs-article-container">
        
      </div>

      
      
      

      <div class="docs-article-container">
        
        <h1>Manipulação de Dados</h1>

        <article class="article-style">

          
          

          <h2 id="resumindo-dados">Resumindo dados</h2>
<h3 id="funções-básicas">Funções básicas</h3>
<ul>
<li><a href="https://www.coursera.org/learn/data-cleaning/lecture/e5qVi/summarizing-data" target="_blank" rel="noopener">Summarizing data (John Hopkins/Coursera)</a></li>
<li>Para esta seção, usaremos a base de dados <code>airquality</code>, já presente no R.</li>
<li>Verificaremos o <strong>dimensões</strong> da base com <code>dim()</code> e visualizaremos as 6 <strong>primeiras</strong> e <strong>últimas</strong> linhas da base via <code>head()</code> e <code>tail()</code>, respectivamente.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># data() # lista de base de dados presentes no R</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">dim</span><span class="p">(</span><span class="n">airquality</span><span class="p">)</span> <span class="c1"># Verificar tamanho da base (linhas x colunas)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1] 153   6
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">head</span><span class="p">(</span><span class="n">airquality</span><span class="p">)</span> <span class="c1"># Visualizando as 6 primeiras linhas</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##   Ozone Solar.R Wind Temp Month Day
</span></span><span class="line"><span class="cl">## 1    41     190  7.4   67     5   1
</span></span><span class="line"><span class="cl">## 2    36     118  8.0   72     5   2
</span></span><span class="line"><span class="cl">## 3    12     149 12.6   74     5   3
</span></span><span class="line"><span class="cl">## 4    18     313 11.5   62     5   4
</span></span><span class="line"><span class="cl">## 5    NA      NA 14.3   56     5   5
</span></span><span class="line"><span class="cl">## 6    28      NA 14.9   66     5   6
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">tail</span><span class="p">(</span><span class="n">airquality</span><span class="p">)</span> <span class="c1"># Visualizando as 6 últimas linhas</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##     Ozone Solar.R Wind Temp Month Day
</span></span><span class="line"><span class="cl">## 148    14      20 16.6   63     9  25
</span></span><span class="line"><span class="cl">## 149    30     193  6.9   70     9  26
</span></span><span class="line"><span class="cl">## 150    NA     145 13.2   77     9  27
</span></span><span class="line"><span class="cl">## 151    14     191 14.3   75     9  28
</span></span><span class="line"><span class="cl">## 152    18     131  8.0   76     9  29
</span></span><span class="line"><span class="cl">## 153    20     223 11.5   68     9  30
</span></span></code></pre></div><ul>
<li>Usando <code>str()</code>, podemos visualizar a <strong>estrutura</strong> da base:
<ul>
<li>todas a variáveis (colunas),</li>
<li>a classe de cada uma delas e</li>
<li>algumas de suas observações.</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">str</span><span class="p">(</span><span class="n">airquality</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## &#39;data.frame&#39;:	153 obs. of  6 variables:
</span></span><span class="line"><span class="cl">##  $ Ozone  : int  41 36 12 18 NA 28 23 19 8 NA ...
</span></span><span class="line"><span class="cl">##  $ Solar.R: int  190 118 149 313 NA NA 299 99 19 194 ...
</span></span><span class="line"><span class="cl">##  $ Wind   : num  7.4 8 12.6 11.5 14.3 14.9 8.6 13.8 20.1 8.6 ...
</span></span><span class="line"><span class="cl">##  $ Temp   : int  67 72 74 62 56 66 65 59 61 69 ...
</span></span><span class="line"><span class="cl">##  $ Month  : int  5 5 5 5 5 5 5 5 5 5 ...
</span></span><span class="line"><span class="cl">##  $ Day    : int  1 2 3 4 5 6 7 8 9 10 ...
</span></span></code></pre></div><ul>
<li>Para fazer um <strong>resumo</strong> de todas as variáveis da base, podemos usar a função <code>summary()</code> que, para variáveis numéricas, calcula a média e os quartis, e mostra a quantidade de <code>NA</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">summary</span><span class="p">(</span><span class="n">airquality</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##      Ozone           Solar.R           Wind             Temp      
</span></span><span class="line"><span class="cl">##  Min.   :  1.00   Min.   :  7.0   Min.   : 1.700   Min.   :56.00  
</span></span><span class="line"><span class="cl">##  1st Qu.: 18.00   1st Qu.:115.8   1st Qu.: 7.400   1st Qu.:72.00  
</span></span><span class="line"><span class="cl">##  Median : 31.50   Median :205.0   Median : 9.700   Median :79.00  
</span></span><span class="line"><span class="cl">##  Mean   : 42.13   Mean   :185.9   Mean   : 9.958   Mean   :77.88  
</span></span><span class="line"><span class="cl">##  3rd Qu.: 63.25   3rd Qu.:258.8   3rd Qu.:11.500   3rd Qu.:85.00  
</span></span><span class="line"><span class="cl">##  Max.   :168.00   Max.   :334.0   Max.   :20.700   Max.   :97.00  
</span></span><span class="line"><span class="cl">##  NA&#39;s   :37       NA&#39;s   :7                                       
</span></span><span class="line"><span class="cl">##      Month            Day      
</span></span><span class="line"><span class="cl">##  Min.   :5.000   Min.   : 1.0  
</span></span><span class="line"><span class="cl">##  1st Qu.:6.000   1st Qu.: 8.0  
</span></span><span class="line"><span class="cl">##  Median :7.000   Median :16.0  
</span></span><span class="line"><span class="cl">##  Mean   :6.993   Mean   :15.8  
</span></span><span class="line"><span class="cl">##  3rd Qu.:8.000   3rd Qu.:23.0  
</span></span><span class="line"><span class="cl">##  Max.   :9.000   Max.   :31.0  
</span></span><span class="line"><span class="cl">## 
</span></span></code></pre></div><ul>
<li>Também podemos calcular os <strong>quantis</strong> via <code>quantile()</code></li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">quantile</span><span class="p">(</span><span class="n">airquality</span><span class="o">$</span><span class="n">Ozone</span><span class="p">,</span> <span class="n">probs</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">.25</span><span class="p">,</span> <span class="m">.5</span> <span class="p">,</span> <span class="m">.75</span><span class="p">,</span> <span class="m">1</span><span class="p">),</span> <span class="n">na.rm</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##     0%    25%    50%    75%   100% 
</span></span><span class="line"><span class="cl">##   1.00  18.00  31.50  63.25 168.00
</span></span></code></pre></div><ul>
<li>Note que, para variáveis lógicas, de texto ou categóricas (factor), aparecem a contagem de cada categoria/possível valor:</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">summary</span><span class="p">(</span><span class="n">CO2</span><span class="p">)</span> <span class="c1"># base de dados &#39;Carbon Dioxide Uptake in Grass Plants&#39;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##      Plant             Type         Treatment       conc          uptake     
</span></span><span class="line"><span class="cl">##  Qn1    : 7   Quebec     :42   nonchilled:42   Min.   :  95   Min.   : 7.70  
</span></span><span class="line"><span class="cl">##  Qn2    : 7   Mississippi:42   chilled   :42   1st Qu.: 175   1st Qu.:17.90  
</span></span><span class="line"><span class="cl">##  Qn3    : 7                                    Median : 350   Median :28.30  
</span></span><span class="line"><span class="cl">##  Qc1    : 7                                    Mean   : 435   Mean   :27.21  
</span></span><span class="line"><span class="cl">##  Qc3    : 7                                    3rd Qu.: 675   3rd Qu.:37.12  
</span></span><span class="line"><span class="cl">##  Qc2    : 7                                    Max.   :1000   Max.   :45.50  
</span></span><span class="line"><span class="cl">##  (Other):42
</span></span></code></pre></div><ul>
<li>Para variáveis de texto, pode ser interessante fazer uma <strong>tabela com a contagem</strong> de cada possível categoria de uma variável. Isto é possível por meio da função <code>table()</code> e aplicaremos <code>prop.table(table())</code> para visualizar em <strong>percentuais</strong>.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">table</span><span class="p">(</span><span class="n">CO2</span><span class="o">$</span><span class="n">Type</span><span class="p">)</span> <span class="c1"># contagem</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">##      Quebec Mississippi 
</span></span><span class="line"><span class="cl">##          42          42
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">prop.table</span><span class="p">(</span><span class="nf">table</span><span class="p">(</span><span class="n">CO2</span><span class="o">$</span><span class="n">Type</span><span class="p">))</span> <span class="c1"># percentual</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">##      Quebec Mississippi 
</span></span><span class="line"><span class="cl">##         0.5         0.5
</span></span></code></pre></div><ul>
<li>Também podemos incluir mais uma variável em <code>table()</code> para visualizar a contagem considerando 2 variáveis:</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">table</span><span class="p">(</span><span class="n">CO2</span><span class="o">$</span><span class="n">Type</span><span class="p">,</span> <span class="n">CO2</span><span class="o">$</span><span class="n">Treatment</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##              
</span></span><span class="line"><span class="cl">##               nonchilled chilled
</span></span><span class="line"><span class="cl">##   Quebec              21      21
</span></span><span class="line"><span class="cl">##   Mississippi         21      21
</span></span></code></pre></div><h3 id="família-de-funções-_apply_">Família de funções <em>apply</em></h3>
<p>Veremos uma família de funções <em>apply</em> que permitem executar comandos em loop de maneira compacta:</p>
<ul>
<li><code>apply</code>: aplica uma função sobre as margens (linha ou coluna) de uma matrix/array</li>
<li><code>lapply</code>: loop sobre uma lista e avalia uma função em cada elemento
<ul>
<li>função auxiliar <code>split</code> é útil ao ser utilizada em conjunto da <code>lapply</code></li>
</ul>
</li>
<li><code>sapply</code>: mesmo que o <code>lapply</code>, mas simplifica o resultado</li>
</ul>
<h4 id="função-apply">Função <code>apply()</code></h4>
<ul>
<li><a href="https://www.coursera.org/learn/r-programming/lecture/IUUhK/loop-functions-apply" target="_blank" rel="noopener">Loop functions - apply (John Hopkins/Coursera)</a></li>
<li>Usado para avaliar, por meio de uma função, margens de um array</li>
<li>Frequentemente é utilizado para aplicar uma função a linhas ou a colunas de uma matriz</li>
<li>Não é mais rápido do que escrever um loop, mas funciona em uma única linha</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="l">apply(X, MARGIN, FUN, ...)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">X: an array, including a matrix.MARGIN</span><span class="p">:</span><span class="w"> </span><span class="l">a vector giving the subscripts which the function will be applied over. E.g., for a matrix 1 indicates rows, 2 indicates columns, c(1, 2) indicates rows and columns. Where X has named dimnames, it can be a character vector selecting dimension names.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">FUN: the function to be applied</span><span class="p">:</span><span class="w"> </span><span class="l">see ‘Details’. In the case of functions like +, %*%, etc., the function name must be backquoted or quoted.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nn">...</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="l">optional arguments to FUN.</span><span class="w">
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">x</span> <span class="o">=</span> <span class="nf">matrix</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">20</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="m">4</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">x</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##      [,1] [,2] [,3] [,4]
</span></span><span class="line"><span class="cl">## [1,]    1    6   11   16
</span></span><span class="line"><span class="cl">## [2,]    2    7   12   17
</span></span><span class="line"><span class="cl">## [3,]    3    8   13   18
</span></span><span class="line"><span class="cl">## [4,]    4    9   14   19
</span></span><span class="line"><span class="cl">## [5,]    5   10   15   20
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">apply</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="n">mean</span><span class="p">)</span> <span class="c1"># médias das linhas</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1]  8.5  9.5 10.5 11.5 12.5
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">apply</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="n">mean</span><span class="p">)</span> <span class="c1"># médias das colunas</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1]  3  8 13 18
</span></span></code></pre></div><ul>
<li>Há funções pré-definidas que aplicam <code>apply</code> com soma e com média:
<ul>
<li><code>rowSums = apply(x, 1, sum)</code></li>
<li><code>rowMeans = apply(x, 1, mean)</code></li>
<li><code>colSums = apply(x, 2, sum)</code></li>
<li><code>colMeans = apply(x, 2, mean)</code></li>
</ul>
</li>
<li>Podemos, por exemplo, também calcular os quantis de uma matriz usando a função <code>quantile()</code></li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">x</span> <span class="o">=</span> <span class="nf">matrix</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">50</span><span class="p">,</span> <span class="m">10</span><span class="p">,</span> <span class="m">5</span><span class="p">)</span> <span class="c1"># matriz 20x10 - 200 números ~ N(0, 1)</span>
</span></span><span class="line"><span class="cl"><span class="n">x</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##       [,1] [,2] [,3] [,4] [,5]
</span></span><span class="line"><span class="cl">##  [1,]    1   11   21   31   41
</span></span><span class="line"><span class="cl">##  [2,]    2   12   22   32   42
</span></span><span class="line"><span class="cl">##  [3,]    3   13   23   33   43
</span></span><span class="line"><span class="cl">##  [4,]    4   14   24   34   44
</span></span><span class="line"><span class="cl">##  [5,]    5   15   25   35   45
</span></span><span class="line"><span class="cl">##  [6,]    6   16   26   36   46
</span></span><span class="line"><span class="cl">##  [7,]    7   17   27   37   47
</span></span><span class="line"><span class="cl">##  [8,]    8   18   28   38   48
</span></span><span class="line"><span class="cl">##  [9,]    9   19   29   39   49
</span></span><span class="line"><span class="cl">## [10,]   10   20   30   40   50
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">apply</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="n">quantile</span><span class="p">)</span> <span class="c1"># obtendo os quantis de cada coluna</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##       [,1]  [,2]  [,3]  [,4]  [,5]
</span></span><span class="line"><span class="cl">## 0%    1.00 11.00 21.00 31.00 41.00
</span></span><span class="line"><span class="cl">## 25%   3.25 13.25 23.25 33.25 43.25
</span></span><span class="line"><span class="cl">## 50%   5.50 15.50 25.50 35.50 45.50
</span></span><span class="line"><span class="cl">## 75%   7.75 17.75 27.75 37.75 47.75
</span></span><span class="line"><span class="cl">## 100% 10.00 20.00 30.00 40.00 50.00
</span></span></code></pre></div><ul>
<li>Com também podemos verificar quais são os valores únicos de cada variável em um data frame combinando <code>apply()</code> e <code>unique()</code></li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">apply</span><span class="p">(</span><span class="n">mtcars</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="n">unique</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## $mpg
</span></span><span class="line"><span class="cl">##  [1] 21.0 22.8 21.4 18.7 18.1 14.3 24.4 19.2 17.8 16.4 17.3 15.2 10.4 14.7 32.4
</span></span><span class="line"><span class="cl">## [16] 30.4 33.9 21.5 15.5 13.3 27.3 26.0 15.8 19.7 15.0
</span></span><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## $cyl
</span></span><span class="line"><span class="cl">## [1] 6 4 8
</span></span><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## $disp
</span></span><span class="line"><span class="cl">##  [1] 160.0 108.0 258.0 360.0 225.0 146.7 140.8 167.6 275.8 472.0 460.0 440.0
</span></span><span class="line"><span class="cl">## [13]  78.7  75.7  71.1 120.1 318.0 304.0 350.0 400.0  79.0 120.3  95.1 351.0
</span></span><span class="line"><span class="cl">## [25] 145.0 301.0 121.0
</span></span><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## $hp
</span></span><span class="line"><span class="cl">##  [1] 110  93 175 105 245  62  95 123 180 205 215 230  66  52  65  97 150  91 113
</span></span><span class="line"><span class="cl">## [20] 264 335 109
</span></span><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## $drat
</span></span><span class="line"><span class="cl">##  [1] 3.90 3.85 3.08 3.15 2.76 3.21 3.69 3.92 3.07 2.93 3.00 3.23 4.08 4.93 4.22
</span></span><span class="line"><span class="cl">## [16] 3.70 3.73 4.43 3.77 3.62 3.54 4.11
</span></span><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## $wt
</span></span><span class="line"><span class="cl">##  [1] 2.620 2.875 2.320 3.215 3.440 3.460 3.570 3.190 3.150 4.070 3.730 3.780
</span></span><span class="line"><span class="cl">## [13] 5.250 5.424 5.345 2.200 1.615 1.835 2.465 3.520 3.435 3.840 3.845 1.935
</span></span><span class="line"><span class="cl">## [25] 2.140 1.513 3.170 2.770 2.780
</span></span><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## $qsec
</span></span><span class="line"><span class="cl">##  [1] 16.46 17.02 18.61 19.44 20.22 15.84 20.00 22.90 18.30 18.90 17.40 17.60
</span></span><span class="line"><span class="cl">## [13] 18.00 17.98 17.82 17.42 19.47 18.52 19.90 20.01 16.87 17.30 15.41 17.05
</span></span><span class="line"><span class="cl">## [25] 16.70 16.90 14.50 15.50 14.60 18.60
</span></span><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## $vs
</span></span><span class="line"><span class="cl">## [1] 0 1
</span></span><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## $am
</span></span><span class="line"><span class="cl">## [1] 1 0
</span></span><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## $gear
</span></span><span class="line"><span class="cl">## [1] 4 3 5
</span></span><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## $carb
</span></span><span class="line"><span class="cl">## [1] 4 1 2 3 6 8
</span></span></code></pre></div><ul>
<li>Podemos verificar o <strong>número de NA&rsquo;s</strong> em cada coluna usando <code>apply()</code> com <code>sum</code> (ou também <code>colSums()</code>) na base de dados com <code>is.na()</code> (transforma a base de dados em TRUE/FALSE se for ou não <code>NA</code>)</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">head</span><span class="p">(</span> <span class="nf">is.na</span><span class="p">(</span><span class="n">airquality</span><span class="p">)</span> <span class="p">)</span> <span class="c1"># 6 primeiras linhas aplicando is.na()</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##      Ozone Solar.R  Wind  Temp Month   Day
</span></span><span class="line"><span class="cl">## [1,] FALSE   FALSE FALSE FALSE FALSE FALSE
</span></span><span class="line"><span class="cl">## [2,] FALSE   FALSE FALSE FALSE FALSE FALSE
</span></span><span class="line"><span class="cl">## [3,] FALSE   FALSE FALSE FALSE FALSE FALSE
</span></span><span class="line"><span class="cl">## [4,] FALSE   FALSE FALSE FALSE FALSE FALSE
</span></span><span class="line"><span class="cl">## [5,]  TRUE    TRUE FALSE FALSE FALSE FALSE
</span></span><span class="line"><span class="cl">## [6,] FALSE    TRUE FALSE FALSE FALSE FALSE
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">apply</span><span class="p">(</span><span class="nf">is.na</span><span class="p">(</span><span class="n">airquality</span><span class="p">),</span> <span class="m">2</span><span class="p">,</span> <span class="n">sum</span><span class="p">)</span> <span class="c1"># somando cada coluna de TRUE/FALSE</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##   Ozone Solar.R    Wind    Temp   Month     Day 
</span></span><span class="line"><span class="cl">##      37       7       0       0       0       0
</span></span></code></pre></div><h4 id="função-lapply">Função <code>lapply()</code></h4>
<ul>
<li><a href="https://www.coursera.org/learn/r-programming/lecture/t5iuo/loop-functions-lapply" target="_blank" rel="noopener">Loop functions - lapply (John Hopkins/Coursera)</a></li>
<li><code>lapply</code> usa três argumentos: uma <strong>lista</strong>, o nome de uma função e outros argumentos (incluindo os da função inserida)</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="l">lapply(X, FUN, ...)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">X</span><span class="p">:</span><span class="w"> </span><span class="l">a vector (atomic or list) or an expression object. Other objects (including classed objects) will be coerced by base::as.list.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">FUN: the function to be applied to each element of X</span><span class="p">:</span><span class="w"> </span><span class="l">see ‘Details’. In the case of functions like +, %*%, the function name must be backquoted or quoted.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nn">...</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="l">optional arguments to FUN.</span><span class="w">
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># Criando uma lista com vetor de dimensões distintas</span>
</span></span><span class="line"><span class="cl"><span class="n">x</span> <span class="o">=</span> <span class="nf">list</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="m">1</span><span class="o">:</span><span class="m">5</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="nf">rnorm</span><span class="p">(</span><span class="m">10</span><span class="p">),</span> <span class="n">c</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">4</span><span class="p">,</span> <span class="m">65</span><span class="p">,</span> <span class="m">6</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">x</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## $a
</span></span><span class="line"><span class="cl">## [1] 1 2 3 4 5
</span></span><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## $b
</span></span><span class="line"><span class="cl">##  [1]  0.18993857  0.35887312  0.05119241  0.64612554 -1.37369836 -0.41862369
</span></span><span class="line"><span class="cl">##  [7]  0.41233772 -0.44974287  0.37252688 -2.41036847
</span></span><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## $c
</span></span><span class="line"><span class="cl">## [1]  1  4 65  6
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">lapply</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">mean</span><span class="p">)</span> <span class="c1"># retorna médias de cada vetor dentro da lista</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## $a
</span></span><span class="line"><span class="cl">## [1] 3
</span></span><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## $b
</span></span><span class="line"><span class="cl">## [1] -0.2621439
</span></span><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## $c
</span></span><span class="line"><span class="cl">## [1] 19
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">lapply</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">summary</span><span class="p">)</span> <span class="c1"># retorna 6 estatísticas de cada vetor dentro da lista</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## $a
</span></span><span class="line"><span class="cl">##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
</span></span><span class="line"><span class="cl">##       1       2       3       3       4       5 
</span></span><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## $b
</span></span><span class="line"><span class="cl">##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
</span></span><span class="line"><span class="cl">## -2.4104 -0.4420  0.1206 -0.2621  0.3691  0.6461 
</span></span><span class="line"><span class="cl">## 
</span></span><span class="line"><span class="cl">## $c
</span></span><span class="line"><span class="cl">##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
</span></span><span class="line"><span class="cl">##    1.00    3.25    5.00   19.00   20.75   65.00
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">class</span><span class="p">(</span><span class="nf">lapply</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">mean</span><span class="p">))</span> <span class="c1"># classe do objeto retornado pelo lapply</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1] &#34;list&#34;
</span></span></code></pre></div><h4 id="função-sapply">Função <code>sapply()</code></h4>
<p>Similar ao <code>lapply</code>, mas <code>sapply</code> tenta simplificar o output:</p>
<ul>
<li>Se o resultado for uma lista em que todo elemento tem comprimento 1 (tem apenas um elemento também), retorna um vetor</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">sapply</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">mean</span><span class="p">)</span> <span class="c1"># retorna um vetor</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##          a          b          c 
</span></span><span class="line"><span class="cl">##  3.0000000 -0.2621439 19.0000000
</span></span></code></pre></div><ul>
<li>Se o resultado for uma lista em que cada elemento tem mesmo comprimento, retorna uma matriz</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">sapply</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">summary</span><span class="p">)</span> <span class="c1"># retorna uma matriz</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##         a          b     c
</span></span><span class="line"><span class="cl">## Min.    1 -2.4103685  1.00
</span></span><span class="line"><span class="cl">## 1st Qu. 2 -0.4419631  3.25
</span></span><span class="line"><span class="cl">## Median  3  0.1205655  5.00
</span></span><span class="line"><span class="cl">## Mean    3 -0.2621439 19.00
</span></span><span class="line"><span class="cl">## 3rd Qu. 4  0.3691134 20.75
</span></span><span class="line"><span class="cl">## Max.    5  0.6461255 65.00
</span></span></code></pre></div><h2 id="manipulando-dados">Manipulando dados</h2>
<blockquote>
<p>“Between 30% to 80% of the data analysis task is spent on cleaning and understanding the data.” (Dasu &amp; Johnson, 2003)</p>
</blockquote>
<h3 id="extração-de-subconjuntos">Extração de subconjuntos</h3>
<ul>
<li><a href="https://www.coursera.org/learn/data-cleaning/lecture/aqd2Y/subsetting-and-sorting" target="_blank" rel="noopener">Subsetting and sorting (John Hopkins/Coursera)</a></li>
<li>Como exemplo, criaremos um <em>data frame</em> com três variáveis, em que, para misturar a ordem dos números, usaremos a função <code>sample()</code> num vetor de números e também incluiremos alguns valores ausentes <code>NA</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">set.seed</span><span class="p">(</span><span class="m">2022</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">x</span> <span class="o">=</span> <span class="nf">data.frame</span><span class="p">(</span><span class="s">&#34;var1&#34;</span><span class="o">=</span><span class="nf">sample</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">5</span><span class="p">),</span> <span class="s">&#34;var2&#34;</span><span class="o">=</span><span class="nf">sample</span><span class="p">(</span><span class="m">6</span><span class="o">:</span><span class="m">10</span><span class="p">),</span> <span class="s">&#34;var3&#34;</span><span class="o">=</span><span class="nf">sample</span><span class="p">(</span><span class="m">11</span><span class="o">:</span><span class="m">15</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">x</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##   var1 var2 var3
</span></span><span class="line"><span class="cl">## 1    4    9   13
</span></span><span class="line"><span class="cl">## 2    3    7   11
</span></span><span class="line"><span class="cl">## 3    2    8   12
</span></span><span class="line"><span class="cl">## 4    1   10   15
</span></span><span class="line"><span class="cl">## 5    5    6   14
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">x</span><span class="o">$</span><span class="n">var2</span><span class="nf">[c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">3</span><span class="p">)</span><span class="n">]</span> <span class="o">=</span> <span class="kc">NA</span>
</span></span><span class="line"><span class="cl"><span class="n">x</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##   var1 var2 var3
</span></span><span class="line"><span class="cl">## 1    4   NA   13
</span></span><span class="line"><span class="cl">## 2    3    7   11
</span></span><span class="line"><span class="cl">## 3    2   NA   12
</span></span><span class="line"><span class="cl">## 4    1   10   15
</span></span><span class="line"><span class="cl">## 5    5    6   14
</span></span></code></pre></div><ul>
<li>Lembre-se que, para extrair um subconjunto de um data frame, usamos as chaves <code>[]</code> indicando vetores de linhas e de colunas (ou também os nomes das colunas).</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">x[</span><span class="p">,</span> <span class="m">1</span><span class="n">]</span> <span class="c1"># Todas linhas e 1ª coluna</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1] 4 3 2 1 5
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">x[</span><span class="p">,</span> <span class="s">&#34;var1&#34;</span><span class="n">]</span> <span class="c1"># Todas linhas e 1ª coluna (usando seu nome)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1] 4 3 2 1 5
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">x[1</span><span class="o">:</span><span class="m">2</span><span class="p">,</span> <span class="s">&#34;var2&#34;</span><span class="n">]</span> <span class="c1"># Linhas 1 e 2, e 2ª coluna (usando seu nome)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1] NA  7
</span></span></code></pre></div><ul>
<li>Note que, podemos usar expressões lógicas (vetor com <code>TRUE</code> e <code>FALSE</code>) para extrair uma parte do data frame. Por exemplo, queremos obter apenas as observações em que a variável 1 seja menor ou igual a 3 <strong>E</strong> (<code>&amp;</code>) que a variável 3 seja estritamente maior do que 11:</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">x</span><span class="o">$</span><span class="n">var1</span> <span class="o">&lt;=</span> <span class="m">3</span> <span class="o">&amp;</span> <span class="n">x</span><span class="o">$</span><span class="n">var3</span> <span class="o">&gt;</span> <span class="m">11</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1] FALSE FALSE  TRUE  TRUE FALSE
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># Extraindo as linhas de x</span>
</span></span><span class="line"><span class="cl"><span class="n">x[x</span><span class="o">$</span><span class="n">var1</span> <span class="o">&lt;=</span> <span class="m">3</span> <span class="o">&amp;</span> <span class="n">x</span><span class="o">$</span><span class="n">var3</span> <span class="o">&gt;</span> <span class="m">11</span><span class="p">,</span> <span class="n">]</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##   var1 var2 var3
</span></span><span class="line"><span class="cl">## 3    2   NA   12
</span></span><span class="line"><span class="cl">## 4    1   10   15
</span></span></code></pre></div><ul>
<li>Poderíamos também obter apenas as observações em que a variável 1 seja menor ou igual a 3 <strong>OU</strong> (<code>|</code>) que a variável 3 seja estritamente maior do que 11:</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">x[x</span><span class="o">$</span><span class="n">var1</span> <span class="o">&lt;=</span> <span class="m">3</span> <span class="o">|</span> <span class="n">x</span><span class="o">$</span><span class="n">var3</span> <span class="o">&gt;</span> <span class="m">11</span><span class="p">,</span> <span class="n">]</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##   var1 var2 var3
</span></span><span class="line"><span class="cl">## 1    4   NA   13
</span></span><span class="line"><span class="cl">## 2    3    7   11
</span></span><span class="line"><span class="cl">## 3    2   NA   12
</span></span><span class="line"><span class="cl">## 4    1   10   15
</span></span><span class="line"><span class="cl">## 5    5    6   14
</span></span></code></pre></div><ul>
<li>Também podemos verificar se determinados valores estão contidos em um vetor específico (equivale <code>==</code> com mais de um valor)</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">x</span><span class="o">$</span><span class="n">var1</span> <span class="o">%in%</span> <span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">5</span><span class="p">)</span> <span class="c1"># obs em que var1 é igual a 1 ou 5</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1] FALSE FALSE FALSE  TRUE  TRUE
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">x[x</span><span class="o">$</span><span class="n">var1</span> <span class="o">%in%</span> <span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">5</span><span class="p">),</span> <span class="n">]</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##   var1 var2 var3
</span></span><span class="line"><span class="cl">## 4    1   10   15
</span></span><span class="line"><span class="cl">## 5    5    6   14
</span></span></code></pre></div><ul>
<li>Note que, ao escrevermos uma expressão lógica para um vetor que contém valores ausentes, gerará um vetor com <code>TRUE</code>, <code>FALSE</code> e <code>NA</code></li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">x</span><span class="o">$</span><span class="n">var2</span> <span class="o">&gt;</span> <span class="m">8</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1]    NA FALSE    NA  TRUE FALSE
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">x[x</span><span class="o">$</span><span class="n">var2</span> <span class="o">&gt;</span> <span class="m">8</span><span class="p">,</span> <span class="n">]</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##      var1 var2 var3
</span></span><span class="line"><span class="cl">## NA     NA   NA   NA
</span></span><span class="line"><span class="cl">## NA.1   NA   NA   NA
</span></span><span class="line"><span class="cl">## 4       1   10   15
</span></span></code></pre></div><ul>
<li>Para contornar este problema, podemos usar a função <code>which()</code> que, ao invés de gerar um vetor de <code>TRUE</code>/<code>FALSE</code>, retorna um vetor com as posições dos elementos que tornam a expressão lógica verdadeira</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">which</span><span class="p">(</span><span class="n">x</span><span class="o">$</span><span class="n">var2</span> <span class="o">&gt;</span> <span class="m">8</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1] 4
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">x</span><span class="nf">[which</span><span class="p">(</span><span class="n">x</span><span class="o">$</span><span class="n">var2</span> <span class="o">&gt;</span> <span class="m">8</span><span class="p">),</span> <span class="n">]</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##   var1 var2 var3
</span></span><span class="line"><span class="cl">## 4    1   10   15
</span></span></code></pre></div><ul>
<li>Outra forma de contornar os valores ausentes é incluir a condição
de não incluir valores ausentes <code>!is.na()</code>:</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">x</span><span class="o">$</span><span class="n">var2</span> <span class="o">&gt;</span> <span class="m">8</span> <span class="o">&amp;</span> <span class="o">!</span><span class="nf">is.na</span><span class="p">(</span><span class="n">x</span><span class="o">$</span><span class="n">var2</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1] FALSE FALSE FALSE  TRUE FALSE
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">x[x</span><span class="o">$</span><span class="n">var2</span> <span class="o">&gt;</span> <span class="m">8</span> <span class="o">&amp;</span> <span class="o">!</span><span class="nf">is.na</span><span class="p">(</span><span class="n">x</span><span class="o">$</span><span class="n">var2</span><span class="p">),</span> <span class="n">]</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##   var1 var2 var3
</span></span><span class="line"><span class="cl">## 4    1   10   15
</span></span></code></pre></div><h3 id="ordenação">Ordenação</h3>
<ul>
<li>Podemos usar a função <code>sort()</code> para ordenar um vetor de maneira crescente (padrão) ou decrescente:</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">sort</span><span class="p">(</span><span class="n">x</span><span class="o">$</span><span class="n">var1</span><span class="p">)</span> <span class="c1"># ordenando de maneira crescente</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1] 1 2 3 4 5
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">sort</span><span class="p">(</span><span class="n">x</span><span class="o">$</span><span class="n">var1</span><span class="p">,</span> <span class="n">decreasing</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span> <span class="c1"># ordenando de maneira decrescente</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1] 5 4 3 2 1
</span></span></code></pre></div><ul>
<li>Por padrão, o <code>sort()</code> retira os valores ausentes. Para mantê-los e deixá-los no final, precisamos usar o argumento <code>na.last=TRUE</code></li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">sort</span><span class="p">(</span><span class="n">x</span><span class="o">$</span><span class="n">var2</span><span class="p">)</span> <span class="c1"># ordenando e retirando NA</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1]  6  7 10
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">sort</span><span class="p">(</span><span class="n">x</span><span class="o">$</span><span class="n">var2</span><span class="p">,</span> <span class="n">na.last</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span> <span class="c1"># ordenando e mantendo NA no final</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1]  6  7 10 NA NA
</span></span></code></pre></div><ul>
<li>Note que não podemos usar a função <code>sort()</code> para ordenar um data frame, pois a função retorna valores e, portanto, não retorna suas posições.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">sort</span><span class="p">(</span><span class="n">x</span><span class="o">$</span><span class="n">var3</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1] 11 12 13 14 15
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">x</span><span class="nf">[sort</span><span class="p">(</span><span class="n">x</span><span class="o">$</span><span class="n">var3</span><span class="p">),</span> <span class="n">]</span> <span class="c1"># Retorna erro, pois não há nº de linhas &gt; 5</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##      var1 var2 var3
</span></span><span class="line"><span class="cl">## NA     NA   NA   NA
</span></span><span class="line"><span class="cl">## NA.1   NA   NA   NA
</span></span><span class="line"><span class="cl">## NA.2   NA   NA   NA
</span></span><span class="line"><span class="cl">## NA.3   NA   NA   NA
</span></span><span class="line"><span class="cl">## NA.4   NA   NA   NA
</span></span></code></pre></div><ul>
<li>Para ordenar data frames, precisamos utilizar a função <code>order()</code> que, ao invés de retorar os valores em algum ordem, retorna as suas posições</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">order</span><span class="p">(</span><span class="n">x</span><span class="o">$</span><span class="n">var3</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1] 2 3 1 5 4
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">x</span><span class="nf">[order</span><span class="p">(</span><span class="n">x</span><span class="o">$</span><span class="n">var3</span><span class="p">),</span> <span class="n">]</span> <span class="c1"># Retorna erro, pois não há nº de linhas &gt; 5</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##   var1 var2 var3
</span></span><span class="line"><span class="cl">## 2    3    7   11
</span></span><span class="line"><span class="cl">## 3    2   NA   12
</span></span><span class="line"><span class="cl">## 1    4   NA   13
</span></span><span class="line"><span class="cl">## 5    5    6   14
</span></span><span class="line"><span class="cl">## 4    1   10   15
</span></span></code></pre></div><h3 id="inclusão-de-novas-colunasvariáveis">Inclusão de novas colunas/variáveis</h3>
<ul>
<li>Para incluir novas variáveis, podemos usar <code>$&lt;novo_nome_var&gt;</code> e atribuir um vetor de mesmo tamanho (mesma quantidade de linhas):</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">set.seed</span><span class="p">(</span><span class="m">1234</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">x</span><span class="o">$</span><span class="n">var4</span> <span class="o">=</span> <span class="nf">rnorm</span><span class="p">(</span><span class="m">5</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">x</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##   var1 var2 var3       var4
</span></span><span class="line"><span class="cl">## 1    4   NA   13 -1.2070657
</span></span><span class="line"><span class="cl">## 2    3    7   11  0.2774292
</span></span><span class="line"><span class="cl">## 3    2   NA   12  1.0844412
</span></span><span class="line"><span class="cl">## 4    1   10   15 -2.3456977
</span></span><span class="line"><span class="cl">## 5    5    6   14  0.4291247
</span></span></code></pre></div><ul>
<li><a href="https://www.coursera.org/learn/data-cleaning/lecture/r6VHJ/creating-new-variables" target="_blank" rel="noopener">Algumas transformações comuns de variáveis (John Hopkins/Coursera)</a></li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">abs</span><span class="p">(</span><span class="n">x</span><span class="o">$</span><span class="n">var4</span><span class="p">)</span> <span class="c1"># valor absoluto</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1] 1.2070657 0.2774292 1.0844412 2.3456977 0.4291247
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">sqrt</span><span class="p">(</span><span class="n">x</span><span class="o">$</span><span class="n">var4</span><span class="p">)</span> <span class="c1"># raiz quadrada</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## Warning in sqrt(x$var4): NaNs produzidos
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1]       NaN 0.5267155 1.0413651       NaN 0.6550761
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">ceiling</span><span class="p">(</span><span class="n">x</span><span class="o">$</span><span class="n">var4</span><span class="p">)</span> <span class="c1"># valor inteiro acima</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1] -1  1  2 -2  1
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">floor</span><span class="p">(</span><span class="n">x</span><span class="o">$</span><span class="n">var4</span><span class="p">)</span> <span class="c1"># valor inteiro abaixo</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1] -2  0  1 -3  0
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">round</span><span class="p">(</span><span class="n">x</span><span class="o">$</span><span class="n">var4</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="m">1</span><span class="p">)</span> <span class="c1"># arredondamento com 1 dígito</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1] -1.2  0.3  1.1 -2.3  0.4
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">cos</span><span class="p">(</span><span class="n">x</span><span class="o">$</span><span class="n">var4</span><span class="p">)</span> <span class="c1"># cosseno</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1]  0.3557632  0.9617627  0.4674068 -0.6996456  0.9093303
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">sin</span><span class="p">(</span><span class="n">x</span><span class="o">$</span><span class="n">var4</span><span class="p">)</span> <span class="c1"># seno</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1] -0.9345761  0.2738841  0.8840424 -0.7144900  0.4160750
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">log</span><span class="p">(</span><span class="n">x</span><span class="o">$</span><span class="n">var4</span><span class="p">)</span> <span class="c1"># logaritmo natural</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## Warning in log(x$var4): NaNs produzidos
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1]         NaN -1.28218936  0.08106481         NaN -0.84600775
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">log10</span><span class="p">(</span><span class="n">x</span><span class="o">$</span><span class="n">var4</span><span class="p">)</span> <span class="c1"># logaritmo base 10</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## Warning: NaNs produzidos
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1]        NaN -0.5568478  0.0352060        NaN -0.3674165
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">exp</span><span class="p">(</span><span class="n">x</span><span class="o">$</span><span class="n">var4</span><span class="p">)</span> <span class="c1"># exponencial</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1] 0.29907355 1.31973273 2.95778648 0.09578035 1.53591253
</span></span></code></pre></div><h3 id="juntando-bases-de-dados">Juntando bases de dados</h3>
<h4 id="acrescentando-colunas-e-linhas-via-cbind-e-rbind">Acrescentando colunas e linhas via <code>cbind()</code> e <code>rbind()</code></h4>
<ul>
<li>Uma maneira de juntar o data frame com um vetor de mesmo tamanho é usando <code>cbind()</code></li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">y</span> <span class="o">=</span> <span class="nf">rnorm</span><span class="p">(</span><span class="m">5</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">x</span> <span class="o">=</span> <span class="nf">cbind</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">x</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##   var1 var2 var3       var4          y
</span></span><span class="line"><span class="cl">## 1    4   NA   13 -1.2070657  0.5060559
</span></span><span class="line"><span class="cl">## 2    3    7   11  0.2774292 -0.5747400
</span></span><span class="line"><span class="cl">## 3    2   NA   12  1.0844412 -0.5466319
</span></span><span class="line"><span class="cl">## 4    1   10   15 -2.3456977 -0.5644520
</span></span><span class="line"><span class="cl">## 5    5    6   14  0.4291247 -0.8900378
</span></span></code></pre></div><ul>
<li>Também podemos acrescentar linhas usando <code>rbind()</code>, desde que o vetor tenha a quantidade de elementos igual ao número de colunas (ou data frame a ser incluído tenha o mesmo número de colunas)</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">z</span> <span class="o">=</span> <span class="nf">rnorm</span><span class="p">(</span><span class="m">5</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">x</span> <span class="o">=</span> <span class="nf">rbind</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">x</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##         var1       var2       var3        var4          y
</span></span><span class="line"><span class="cl">## 1  4.0000000         NA 13.0000000 -1.20706575  0.5060559
</span></span><span class="line"><span class="cl">## 2  3.0000000  7.0000000 11.0000000  0.27742924 -0.5747400
</span></span><span class="line"><span class="cl">## 3  2.0000000         NA 12.0000000  1.08444118 -0.5466319
</span></span><span class="line"><span class="cl">## 4  1.0000000 10.0000000 15.0000000 -2.34569770 -0.5644520
</span></span><span class="line"><span class="cl">## 5  5.0000000  6.0000000 14.0000000  0.42912469 -0.8900378
</span></span><span class="line"><span class="cl">## 6 -0.4771927 -0.9983864 -0.7762539  0.06445882  0.9594941
</span></span></code></pre></div><h4 id="mesclando-base-de-dados-com-merge">Mesclando base de dados com <code>merge()</code></h4>
<ul>
<li><a href="https://www.coursera.org/learn/data-cleaning/lecture/pVV6K/merging-data" target="_blank" rel="noopener">Merging data (John Hopkins/Coursera)</a></li>
<li>Podemos juntar base de dados a partir de uma variável-chave que aparece em ambas bases.</li>
<li>Como exemplo, utilizaremos duas bases de dados de respostas a perguntas (<a href="https://fhnishida-rec5004.netlify.app/docs/solutions.csv" target="_blank" rel="noopener"><code>solutions.csv</code></a>) e de correções feitas por seus pares (<a href="https://fhnishida-rec5004.netlify.app/docs/reviews.csv" target="_blank" rel="noopener"><code>reviews.csv</code></a>).</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">solutions</span> <span class="o">=</span> <span class="nf">read.csv</span><span class="p">(</span><span class="s">&#34;https://fhnishida-rec5004.netlify.app/docs/solutions.csv&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">head</span><span class="p">(</span><span class="n">solutions</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##   id problem_id subject_id      start       stop time_left answer
</span></span><span class="line"><span class="cl">## 1  1        156         29 1304095119 1304095169      2343      B
</span></span><span class="line"><span class="cl">## 2  2        269         25 1304095119 1304095183      2329      C
</span></span><span class="line"><span class="cl">## 3  3         34         22 1304095127 1304095146      2366      C
</span></span><span class="line"><span class="cl">## 4  4         19         23 1304095127 1304095150      2362      D
</span></span><span class="line"><span class="cl">## 5  5        605         26 1304095127 1304095167      2345      A
</span></span><span class="line"><span class="cl">## 6  6        384         27 1304095131 1304095270      2242      C
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">reviews</span> <span class="o">=</span> <span class="nf">read.csv</span><span class="p">(</span><span class="s">&#34;https://fhnishida-rec5004.netlify.app/docs/reviews.csv&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">head</span><span class="p">(</span><span class="n">reviews</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##   id solution_id reviewer_id      start       stop time_left accept
</span></span><span class="line"><span class="cl">## 1  1           3          27 1304095698 1304095758      1754      1
</span></span><span class="line"><span class="cl">## 2  2           4          22 1304095188 1304095206      2306      1
</span></span><span class="line"><span class="cl">## 3  3           5          28 1304095276 1304095320      2192      1
</span></span><span class="line"><span class="cl">## 4  4           1          26 1304095267 1304095423      2089      1
</span></span><span class="line"><span class="cl">## 5  5          10          29 1304095456 1304095469      2043      1
</span></span><span class="line"><span class="cl">## 6  6           2          29 1304095471 1304095513      1999      1
</span></span></code></pre></div><ul>
<li>Note que:
<ul>
<li>as primeiras colunas das bases <code>solutions</code> e `reviews`` são os identificadores únicos das soluções e dos reviews, respectivamente.</li>
<li>na base <code>reviews</code> há a coluna <em>problem_id</em> que faz a ligação entre esta base com a coluna <em>id</em> da base <code>solutions</code>.</li>
</ul>
</li>
<li>Usaremos a função <code>merge()</code> para juntar ambas bases em uma só, a partir do id da solução.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="l">merge(x, y, by = intersect(names(x), names(y)),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="l">by.x = by, by.y = by, all = FALSE, all.x = all, all.y = all,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="l">sort = TRUE, suffixes = c(&#34;.x&#34;,&#34;.y&#34;), ...)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">x, y</span><span class="p">:</span><span class="w"> </span><span class="l">data frames, or objects to be coerced to one.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">by, by.x, by.y</span><span class="p">:</span><span class="w"> </span><span class="l">specifications of the columns used for merging. See ‘Details’.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">all</span><span class="p">:</span><span class="w"> </span><span class="l">logical; all = L is shorthand for all.x = L and all.y = L, where L is either TRUE or FALSE.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">all.x</span><span class="p">:</span><span class="w"> </span><span class="l">logical; if TRUE, then extra rows will be added to the output, one for each row in x that has no matching row in y. These rows will have NAs in those columns that are usually filled with values from y. The default is FALSE, so that only rows with data from both x and y are included in the output.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">all.y</span><span class="p">:</span><span class="w"> </span><span class="l">logical; analogous to all.x.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">sort</span><span class="p">:</span><span class="w"> </span><span class="l">logical. Should the result be sorted on the by columns?</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">suffixes</span><span class="p">:</span><span class="w"> </span><span class="l">a character vector of length 2 specifying the suffixes to be used for making unique the names of columns in the result which are not used for merging (appearing in by etc).</span><span class="w">
</span></span></span></code></pre></div><center><img src="../merge.webp"></center>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">mergedData</span> <span class="o">=</span> <span class="nf">merge</span><span class="p">(</span><span class="n">reviews</span><span class="p">,</span> <span class="n">solutions</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                   <span class="n">by.x</span><span class="o">=</span><span class="s">&#34;solution_id&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                   <span class="n">by.y</span><span class="o">=</span><span class="s">&#34;id&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                   <span class="n">all</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">head</span><span class="p">(</span><span class="n">mergedData</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##   solution_id id reviewer_id    start.x     stop.x time_left.x accept
</span></span><span class="line"><span class="cl">## 1           1  4          26 1304095267 1304095423        2089      1
</span></span><span class="line"><span class="cl">## 2           2  6          29 1304095471 1304095513        1999      1
</span></span><span class="line"><span class="cl">## 3           3  1          27 1304095698 1304095758        1754      1
</span></span><span class="line"><span class="cl">## 4           4  2          22 1304095188 1304095206        2306      1
</span></span><span class="line"><span class="cl">## 5           5  3          28 1304095276 1304095320        2192      1
</span></span><span class="line"><span class="cl">## 6           6 16          22 1304095303 1304095471        2041      1
</span></span><span class="line"><span class="cl">##   problem_id subject_id    start.y     stop.y time_left.y answer
</span></span><span class="line"><span class="cl">## 1        156         29 1304095119 1304095169        2343      B
</span></span><span class="line"><span class="cl">## 2        269         25 1304095119 1304095183        2329      C
</span></span><span class="line"><span class="cl">## 3         34         22 1304095127 1304095146        2366      C
</span></span><span class="line"><span class="cl">## 4         19         23 1304095127 1304095150        2362      D
</span></span><span class="line"><span class="cl">## 5        605         26 1304095127 1304095167        2345      A
</span></span><span class="line"><span class="cl">## 6        384         27 1304095131 1304095270        2242      C
</span></span></code></pre></div><ul>
<li>Note que, como há colunas de mesmos nomes, e especificamos que a variável chave era somente o id de solução, então as colunas de nomes iguais foram renomeadas com sufixos <code>.x</code> e <code>.y</code>, correspondendo às 1ª e 2ª bases inseridas na função <code>merge()</code></li>
<li>Para verificar as colunas com mesmos nomes em duas bases, podemos usar a função <code>intersect()</code> em conjunto com a função <code>names()</code>:</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">intersect</span><span class="p">(</span> <span class="nf">names</span><span class="p">(</span><span class="n">solutions</span><span class="p">),</span> <span class="nf">names</span><span class="p">(</span><span class="n">reviews</span><span class="p">)</span> <span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1] &#34;id&#34;        &#34;start&#34;     &#34;stop&#34;      &#34;time_left&#34;
</span></span></code></pre></div><ul>
<li>Se não especificássemos nenhuma variável-chave, a função <code>merge()</code> utilizaria como variável-chave todas as colunas com nomes iguais em ambas bases de dados</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">wrong</span> <span class="o">=</span> <span class="nf">merge</span><span class="p">(</span><span class="n">reviews</span><span class="p">,</span> <span class="n">solutions</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                   <span class="n">all</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">head</span><span class="p">(</span><span class="n">wrong</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">##   id      start       stop time_left solution_id reviewer_id accept problem_id
</span></span><span class="line"><span class="cl">## 1  1 1304095119 1304095169      2343          NA          NA     NA        156
</span></span><span class="line"><span class="cl">## 2  1 1304095698 1304095758      1754           3          27      1         NA
</span></span><span class="line"><span class="cl">## 3  2 1304095119 1304095183      2329          NA          NA     NA        269
</span></span><span class="line"><span class="cl">## 4  2 1304095188 1304095206      2306           4          22      1         NA
</span></span><span class="line"><span class="cl">## 5  3 1304095127 1304095146      2366          NA          NA     NA         34
</span></span><span class="line"><span class="cl">## 6  3 1304095276 1304095320      2192           5          28      1         NA
</span></span><span class="line"><span class="cl">##   subject_id answer
</span></span><span class="line"><span class="cl">## 1         29      B
</span></span><span class="line"><span class="cl">## 2         NA   &lt;NA&gt;
</span></span><span class="line"><span class="cl">## 3         25      C
</span></span><span class="line"><span class="cl">## 4         NA   &lt;NA&gt;
</span></span><span class="line"><span class="cl">## 5         22      C
</span></span><span class="line"><span class="cl">## 6         NA   &lt;NA&gt;
</span></span></code></pre></div>

<ul class="cta-group">
  
  <li>
    <a href="../sec4"  class="btn btn-primary px-3 py-3">👉 Seguir para Manipulação via <code>dplyr</code></a>
  </li>
  
  
</ul>



        </article>

        





        



        
        
        <div class="article-widget">
          
<div class="post-nav">
  
  
</div>

        </div>
        
      </div>

      <div class="body-footer">
        <p>Last updated on Sep 9, 2018</p>

        




        




        


      </div>

      <footer class="site-footer">

  












  
  
  
  
  













  
  
  

  
  
    
  
  
    
  

  

  
  <p class="powered-by copyright-license-text">
    © 2023 Me. This work is licensed under <a href="https://creativecommons.org/licenses/by-nc-nd/4.0" rel="noopener noreferrer" target="_blank">CC BY NC ND 4.0</a>
  </p>
  

  <p class="powered-by footer-license-icons">
    <a href="https://creativecommons.org/licenses/by-nc-nd/4.0" rel="noopener noreferrer" target="_blank" aria-label="Creative Commons">
      <i class="fab fa-creative-commons fa-2x" aria-hidden="true"></i>
      <i class="fab fa-creative-commons-by fa-2x" aria-hidden="true"></i>
      
        <i class="fab fa-creative-commons-nc fa-2x" aria-hidden="true"></i>
      
      
        <i class="fab fa-creative-commons-nd fa-2x" aria-hidden="true"></i>
      
    </a>
  </p>





  <p class="powered-by">
    
    
    
      
      
      
      
      
      
      Published with <a href="https://wowchemy.com/?utm_campaign=poweredby" target="_blank" rel="noopener">Wowchemy</a> — the free, <a href="https://github.com/wowchemy/wowchemy-hugo-themes" target="_blank" rel="noopener">open source</a> website builder that empowers creators.
    
  </p>
</footer>


    </main>
  </div>
</div>

  </div>

  <div class="page-footer">
    
    
  </div>

  


<script src="/js/vendor-bundle.min.d26509351aa0ff874abbee824e982e9b.js"></script>




  

  
  

  









<script src="https://cdn.jsdelivr.net/gh/bryanbraun/anchorjs@4.2.2/anchor.min.js" integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin="anonymous"></script>
<script>
  anchors.add();
</script>





  
  <script id="search-hit-fuse-template" type="text/x-template">
    <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
    </div>
  </script>
  
    <script src="https://cdn.jsdelivr.net/gh/krisk/Fuse@v3.2.1/dist/fuse.min.js" integrity="sha512-o38bmzBGX+hD3JHWUFCDA09btWaqrNmoJ3RXLlrysA7PP01Kgs4UlE4MhelE1v5dJR3+cxlR4qQlotsW7jKsnw==" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/gh/julmot/mark.js@8.11.1/dist/jquery.mark.min.js" integrity="sha512-mhbv5DqBMgrWL+32MmsDOt/OAvqr/cHimk6B8y/bx/xS88MVkYGPiVv2ixKVrkywF2qHplNRUvFsAHUdxZ3Krg==" crossorigin="anonymous"></script>
  












  
  
  
  
  
  
  







<script id="page-data" type="application/json">{"use_headroom":false}</script>












  
  


<script src="/en/js/wowchemy.min.e8ee06ba8371980ffde659871dd593b0.js"></script>







  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        
        <pre><code></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>


  <script src="/js/wowchemy-publication.68f8d7090562ca65fc6d3cb3f8f2d2cb.js" type="module"></script>


















</body>
</html>
