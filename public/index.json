
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    [{"authors":null,"categories":null,"content":"F√°bio Nishida is a Ph.D. candidate in Economics at the University of S√£o Paulo. His research interests include public sector, applied econometrics and environmetal economics.\n","date":1640995200,"expirydate":-62135596800,"kind":"term","lang":"en","lastmod":1640995200,"objectID":"2525497d367e79493fd32b198b28f040","permalink":"","publishdate":"0001-01-01T00:00:00Z","relpermalink":"","section":"authors","summary":"F√°bio Nishida is a Ph.D. candidate in Economics at the University of S√£o Paulo. His research interests include public sector, applied econometrics and environmetal economics.","tags":null,"title":"F√°bio Nishida","type":"authors"},{"authors":null,"categories":null,"content":"Welcome to TA Sessions for Econometrics I course (jointly prepared with Felipe Bauer).\nCourse webpage (prof. Daniel Domingues dos Santos): https://edisciplinas.usp.br/course/view.php?id=108682\nFeel free to contact us if you have any question:\nF√°bio Nishida: fabio.nishida@usp.br Felipe Bauer: felipebauer@usp.br üëâ Proceed to R Toolkit Listas Pr√°ticas Lista Pr√°tica 1 | Solu√ß√£o Lista Pr√°tica 2 | Solu√ß√£o (v2) Lista Pr√°tica 3 Lista Pr√°tica 4 Grava√ß√µes das Monitorias Monitoria 12: VI, MQ2E e Testes | Script Monitoria 11: MQG, MQP e MQGF | Script Monitoria 10: Testes de Heterocedasticidade e MQO com Erros Padr√£o Robustos | Script Monitoria 9: Testes de Hip√≥tese | Script Monitoria 8: Regress√£o M√∫ltipla | Script Monitoria 7: Otimiza√ß√£o Num√©rica | Script Monitoria 6: Regress√£o Simples | Script Monitoria 5: Visualiza√ß√£o de Dados e Distribui√ß√µes | Script Monitoria 4: Manipula√ß√£o de Dados | Script Monitoria 3: Programa√ß√£o em R - Parte 2 | Script\nO √°udio ficou meio ruim em algumas partes. Caso n√£o estejam entendendo, por favor, me avisem. Monitoria 2: Programa√ß√£o em R - Parte 1 | Script Monitoria 1: Ferramentas do R | Script [R Markdown](Segue o v√≠deo curto sobre o uso do R Markdown: https://www.youtube.com/watch?v=kpQBfVM3mww) ","date":1680480000,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1680480000,"objectID":"006db397a3242ccee65a49f097485ef5","permalink":"https://fhnishida.netlify.app/project/rec5004/","publishdate":"2023-04-03T00:00:00Z","relpermalink":"/project/rec5004/","section":"project","summary":"Graduate TA Sessions on OLS, GLS, IV and Panel Data.","tags":["Graduate"],"title":"Econometrics I (Spring 2023)","type":"book"},{"authors":null,"categories":null,"content":"Sejam bem-vindas(os) ao conte√∫do de Monitoria da disciplina de Econometria II!\nP√°gina do curso (prof. Daniel Domingues dos Santos): https://edisciplinas.usp.br/course/view.php?id=108687\nCaso tenham d√∫vidas, podem enviar e-mail para: fabio.nishida@usp.br\nMonitorias presenciais √†s quintas-feiras das 13h √†s 14h na sala 14-B1\nSe necess√°rio, usaremos a seguinte sala de Google Meet: https://meet.google.com/qtr-upxi-nwu\nüëâ Seguir para Revis√£o de R Grava√ß√µes das Monitorias Monitoria 10 (20/06): VI, MQ2E e Testes | Script Monitoria 9 (09/06): Testes de Hip√≥tese | Script Monitoria 8 (18/05): Estimadores Within e de Primeiras Diferen√ßas | Script Monitoria 7 (04/05): Matrizes de Tranforma√ß√£o e Estimador Between | Script Monitoria 6 (27/04): Estimador de MQGF | Script Monitoria 5 (20/04): Estima√ß√£o da Matriz de Covari√¢ncias dos Erros e Estimador de MQE | Script Monitoria 4 (13/04): Dados em Painel e Matriz de Covari√¢ncias dos Erros | Script\nMonitoria 3 (30/03): MQO com Vari√°veis Categ√≥ricas | Script Monitoria 2 (23/03): M√≠nimos Quadrados Ordin√°rios | Script Monitoria 1 (16/03): Revis√£o de Programa√ß√£o em R | Script ","date":1678233600,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1678233600,"objectID":"7b438798682ccd4497b27da57b2def8f","permalink":"https://fhnishida.netlify.app/project/rec2312/","publishdate":"2023-03-08T00:00:00Z","relpermalink":"/project/rec2312/","section":"project","summary":"Undergraduate TA Sessions on Panel Data and IV.","tags":["Undergraduate"],"title":"Econometrics II (Spring 2023)","type":"book"},{"authors":null,"categories":null,"content":"Sejam bem-vindas(os) ao conte√∫do de Monitoria da disciplina de Econometria I!\nP√°gina do curso (prof. Daniel Domingues dos Santos): https://edisciplinas.usp.br/course/view.php?id=99924\nüëâ Seguir para Ferramentas do R Listas de Exerc√≠cios Listas Te√≥ricas Lista Te√≥rica - Cap√≠tulo 2 Lista Te√≥rica - Cap√≠tulo 3 Listas Pr√°ticas Lista Pr√°tica 1 Lista Pr√°tica 2 Lista Pr√°tica 3 Grava√ß√µes das Monitorias Monitoria 1 (18/08): Introdu√ß√£o ao R, Opera√ß√µes b√°sicas e Objetos (simples e vetores) | Script Monitoria 2 (25/08): Objetos (vetores, matrizes, listas e data frames) e Subconjuntos de objetos (at√© remo√ß√£o de valores ausentes) | Script Monitoria 3 (01/09): Opera√ß√µes vetoriais/matriciais, Estruturas de controle (if/else, for e while), e Exemplos de otimiza√ß√£o de fun√ß√µes | Script Monitoria 4 (22/09): Fun√ß√µes, Resumo e Manipula√ß√£o de dados | Script Monitoria 5 (29/09): Manipula√ß√£o de dados via dplyr | Script Monitoria 6 (06/10): Distribui√ß√µes, Simula√ß√£o, Intervalo de Confian√ßa, Teste t e P-valor | Script Monitoria 7 (13/10): Modelo de regress√£o simples, fun√ß√£o lm(), transforma√ß√£o log e diferen√ßa de m√©dias | Script ","date":1670198400,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1670198400,"objectID":"69295617a73c8ba1068ec5ab122544bc","permalink":"https://fhnishida.netlify.app/project/rec2301/","publishdate":"2022-12-05T00:00:00Z","relpermalink":"/project/rec2301/","section":"project","summary":"Undergraduate TA Sessions on OLS.","tags":["Undergraduate"],"title":"Econometrics I (Fall 2022)","type":"book"},{"authors":null,"categories":null,"content":"Welcome to TA Sessions for Macroeconomics I (Part 2) course!\nCourse webpage (prof. Luciano Nakabashi): https://edisciplinas.usp.br/course/view.php?id=89644\nüëâ Proceed to Session 1 Solutions to Problem Sets Problem Set 1 Problem Set 2 Problem Set 3 Previous Exams 2020 v12 | 2020 v7 2019 Complementary Content LaTeX LaTeX for Students, Engineers, and Scientists Course LaTeX Table Generator Search for Math Symbol Code R Markdown: Reproducible Templates for Analysis and Dissemination Course Install tinytex package to generate pdf‚Äôs in RStudio R Programming HarvardX Data Science Specialization John Hopkins Data Science Specialization ","date":1626825600,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1626825600,"objectID":"1db29431a1bcfd462e8efd6311dd58e7","permalink":"https://fhnishida.netlify.app/project/rec5002-2/","publishdate":"2021-07-21T00:00:00Z","relpermalink":"/project/rec5002-2/","section":"project","summary":"Graduate TA Sessions on Neoclassical Theory of Optimal Control.","tags":["Graduate"],"title":"Macroeconomics I, Part 2 (Spring 2021)","type":"book"},{"authors":null,"categories":null,"content":"Welcome to TA Sessions for Macroeconomics I (Part 1) course!\nCourse webpage (prof. Fernando Barros Jr): https://sites.google.com/view/fernandobarros/teaching/macroeconomics-i\nüëâ Proceed to Session 1 Solutions to Problem Sets Problem Set 1 | Python Script Problem Set 2 | Python Script Problem Set 3 Problem Set 4 | Python Script ","date":1622332800,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1622332800,"objectID":"c78222acbc8ee7fd923ab79485c6ca44","permalink":"https://fhnishida.netlify.app/project/rec5002-1/","publishdate":"2021-05-30T00:00:00Z","relpermalink":"/project/rec5002-1/","section":"project","summary":"Graduate TA Sessions on Neoclassical Growth Model and Recursive Methods.","tags":["Graduate"],"title":"Macroeconomics I, Part 1 (Spring 2021)","type":"book"},{"authors":null,"categories":null,"content":" Baseado, principalmente, nos cursos da Especializa√ß√£o em Data Science da universidade John Hopkins (dispon√≠vel no Coursera). N√£o √© poss√≠vel fazer a Especializa√ß√£o gratuitamente, mas √© poss√≠vel ‚Äúparticipar como ouvinte‚Äù (audit course), o que permite acessar quase todo material (mas n√£o pode fazer os testes e, portanto, n√£o ganha certificado ao conclu√≠-lo). Em cada tema abordado ser√£o citadas as fontes, al√©m de incluir aos v√≠deos dos cursos citados acima para que possam aprofundar nos estudos. Instalando R Installing R (John Hopkins/Coursera) Instala√ß√£o da base do R (CRAN)\nDownload R for Windows \u0026gt; base \u0026gt; Download R X.X.X for Windows Se o computador for 64-bits, opte pela vers√£o 64-bits Instala√ß√£o do Rtools (CRAN)\nDownload R for Windows \u0026gt; Rtools \u0026gt; Installing Rtools \u0026gt; rtools40-x86_XX.exe √â um conjunto de ferramentas de compila√ß√£o de v√°rias linguagens (C, C++ e Fortran) que s√£o necess√°rios em alguns pacotes no R Instala√ß√£o do RStudio (RStudio Dowload)\nDownload RStudio Desktop √â uma interface de usu√°rio para facilitar o uso do R Usando R Studio RStudio Tour (John Hopkins/Coursera) RStudio √© dividido em 4 quadrantes:\nsuperior/esquerdo: source - onde ficam ‚Äúblocos de nota‚Äù (scripts) com comandos a serem salvos superior/direito: ambiente - visualizar vari√°veis inferior/esquerdo: console - executar os comandos e ver resultados (√© o R ‚Äúbruto‚Äù) inferior/direito: arquivos/gr√°ficos/pacotes/ajuda Dica: Alterar o tema do RStudio (fundo branco pode cansar mais a vis√£o num tempo mais longo)\nTools \u0026gt; Global Options‚Ä¶ \u0026gt; Appearance \u0026gt; Editor theme \u0026gt; Cobalt (meu preferido)\nDiret√≥rio de trabalho Definir um diret√≥rio de trabalho facilita o acesso aos arquivos da pasta (base de dados, etc.).\nSession \u0026gt; Set Working Directory \u0026gt; Choose Directory‚Ä¶\nsetwd(\u0026#34;C:/Users/Fabio/OneDrive/FEA-RP\u0026#34;) Dica: O comando para definir o diret√≥rio de trabalho aparecer√° no console. Copie e cole no seu script para n√£o precisar definir toda vez que abre o R Studio.\nNote que usa o ‚Äúslash‚Äù (/) ao inv√©s do ‚Äúbackslash‚Äù (\\), ent√£o n√£o d√° para copiar diretamente o endere√ßo de uma pasta e colar no R sem fazer ajustes: setwd(\u0026#34;C:\\Users\\Fabio\\OneDrive\\FEA-RP\u0026#34;) # ERRADO! setwd(\u0026#34;C:/Users/Fabio/OneDrive/FEA-RP\u0026#34;) # CORRETO! setwd(\u0026#34;C:\\\\Users\\\\Fabio\\\\OneDrive\\\\FEA-RP\u0026#34;) # CORRETO! Voc√™ pode trocar backslash por slash, ou duplicar os backslashs.\nExecutando comandos Execu√ß√£o direta no console: escreva 1 + 1 no console e d√™ \u0026lt;Enter\u0026gt; 1 + 1 ## [1] 2 Execu√ß√£o pelo script: escreva o seguinte c√≥digo abaixo, e d√™ Ctrl + Enter na linha ou no c√≥digo destacado. Note que o c√≥digo do script √© ‚Äújogado‚Äù no console. rnorm(n=10, mean=0, sd=1) # Gerar 10 n√∫meros ~ N(0, 1) ## [1] -2.4753553 -1.7254668 -0.6607834 -0.6169755 -1.2807018 -0.7161177 ## [7] -1.2834356 -0.6774113 0.9275769 -0.3290734 hist(rnorm(n=1000, mean=0, sd=1)) # Histograma dos n√∫meros gerados Ajuda para comandos ?rnorm rnorm(n, mean = 0, sd = 1) n: number of observations. If length(n) \u0026gt; 1, the length is taken to be the number required. mean: vector of means. sd: vector of standard deviations. Note acima em ‚ÄúUsage‚Äù que j√° h√° valores pr√©-definidos para mean = 0 e sd = 1. Portanto, se voc√™ s√≥ informar o n, a fun√ß√£o ir√° funcionar, considerando os valores pr√©-definidos para os demais argumentos. √â poss√≠vel escrever o c√≥digo sem os nomes dos argumentos, mas devem ser inseridos na mesma ordem do descrito na Ajuda. rnorm(10, 0, 1) Tamb√©m podemos trocar a ordem explicitando o nome do argumento (N√ÉO RECOMENDADO) rnorm(mean=0, n=10, sd=1) Pacotes no R Pacotes s√£o cole√ß√µes de fun√ß√µes, dados e c√≥digos escritos por outras pessoas Por ser um software open source, o R possui muitos pacotes disponibilizados pela internet e muitos economistas (principalmente econometristas) j√° desenvolvem e disponibilizam pacotes com as implementa√ß√µes de seus novos m√©todos. A instala√ß√£o de um pacote s√≥ precisa ser feita uma √∫nica vez. No entanto, caso voc√™ atualize uma nova vers√£o do R, √© necess√°rio instalar novamente todos os pacotes. Os pacotes podem ser obtidos em bibliotecas (libraries), como CRAN, e de indiv√≠duos (normalmente disponibilizados no GitHub) O CRAN √© administrado e, como existe uma curadoria para inser√ß√£o e manuten√ß√£o de pacotes, garante qualidade dos pacotes disponibilizados Tome cuidado com pacotes disponibilizados por individuos! √â poss√≠vel executar, dentro do R, c√≥digos para criar e apagar arquivos, por exemplo. Instala√ß√£o via CRAN quadrante inferior/direito \u0026gt; Packages \u0026gt; Install \u0026gt; (Nomes dos pacotes)\ninstall.packages(\u0026#34;ggplot2\u0026#34;) # Pacote para criar graficos Instala√ß√£o via GitHub Primeiro, √© necess√°rio instalar o pacote devtools install.packages(\u0026#34;devtools\u0026#34;) Depois, √© preciso obter o nome do author (do GitHub) e nome do pacote. Como exemplo, iremos baixar o pacote dplyr do autor hadley (este pacote, na realidade, pode ser baixado direto do CRAN). Para executar uma fun√ß√£o de um pacote, podemos usar \u0026lt;pacote\u0026gt;::\u0026lt;funcao\u0026gt; devtools::install_github(\u0026#34;hadley/dplyr\u0026#34;) Ou √© poss√≠vel carregar o pacote no ambiente e, depois, chamar a fun√ß√£o do pacote carregado ‚Ä¶","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"226c2a76118169970c4b9b04ec5f2b9a","permalink":"https://fhnishida.netlify.app/project/rec2301/sec1/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec2301/sec1/","section":"project","summary":"Learn how to use Wowchemy's docs layout for publishing online courses, software documentation, and tutorials.","tags":null,"title":"Ferramentas do R","type":"book"},{"authors":null,"categories":null,"content":"Principais refer√™ncias desse material de Econometria com R:\nCursos da Especializa√ß√£o em Data Science da John Hopkins. √â poss√≠vel ‚Äúparticipar como ouvinte‚Äù (audit course) desses cursos, o que permite acessar a todo material (mas n√£o pode fazer os testes e ganhar os certificados de conclus√£o). Livro \u0026#34;Using R for Introductory Econometrics\u0026#34; de Heiss (2020) (vers√£o online gratuita) Livro \u0026#34;Panel Data Econometrics with R\u0026#34; de Croissant e Millo (2018) Instalando R Installing R (John Hopkins/Coursera) Instala√ß√£o da base do R (CRAN)\nDownload R X.X.X for Windows Se o computador for 64-bits, opte pela vers√£o 64-bits (+ r√°pido) Instala√ß√£o do Rtools (CRAN)\nRTools X.X \u0026gt; Rtools installer √â um conjunto de ferramentas de compila√ß√£o de v√°rias linguagens (C, C++ e Fortran) que s√£o necess√°rias para o funcionamento de alguns pacotes no R Instala√ß√£o do RStudio (RStudio Dowload)\nDownload RStudio Desktop √â uma interface de usu√°rio para facilitar o uso do R Usando R Studio RStudio Tour (John Hopkins/Coursera) RStudio √© dividido em 4 quadrantes:\nsuperior/esquerdo: source - onde ficam ‚Äúblocos de nota‚Äù (scripts) com comandos a serem salvos superior/direito: ambiente - visualizar vari√°veis inferior/esquerdo: console - executar os comandos e ver resultados (√© o R ‚Äúbruto‚Äù) inferior/direito: arquivos/gr√°ficos/pacotes/ajuda Dica: Alterar o tema do RStudio (fundo branco pode cansar mais a vis√£o durante o uso prolongado do software)\nTools \u0026gt; Global Options‚Ä¶ \u0026gt; Appearance \u0026gt; Editor theme \u0026gt; Cobalt (meu preferido)\nDiret√≥rio de trabalho Definir um diret√≥rio de trabalho facilita o acesso aos arquivos da pasta (base de dados, etc.).\nSession \u0026gt; Set Working Directory \u0026gt; Choose Directory‚Ä¶\nsetwd(\u0026#34;C:/Users/Fabio/OneDrive/FEA-RP\u0026#34;) Dica: O comando para definir o diret√≥rio de trabalho aparecer√° no console. Copie e cole no seu script para n√£o precisar definir toda vez que abre o R Studio.\nNote que usa o ‚Äúslash‚Äù (/) ao inv√©s do ‚Äúbackslash‚Äù (\\), ent√£o n√£o d√° para copiar diretamente o endere√ßo de uma pasta e colar no R sem fazer ajustes: setwd(\u0026#34;C:\\Users\\Fabio\\OneDrive\\FEA-RP\u0026#34;) # ERRADO! setwd(\u0026#34;C:/Users/Fabio/OneDrive/FEA-RP\u0026#34;) # CORRETO! setwd(\u0026#34;C:\\\\Users\\\\Fabio\\\\OneDrive\\\\FEA-RP\u0026#34;) # CORRETO! Voc√™ pode trocar backslash (/) por slash(\\), ou por dois backslashs (\\\\).\nExecutando comandos Execu√ß√£o direta no console: escreva 1 + 1 no console e d√™ \u0026lt;Enter\u0026gt; 1 + 1 ## [1] 2 Execu√ß√£o pelo script: escreva o seguinte c√≥digo abaixo, e d√™ Ctrl + Enter na linha ou no c√≥digo destacado. Note que o c√≥digo do script √© ‚Äújogado‚Äù no console. rnorm(n=10, mean=0, sd=1) # Gerar 10 n√∫meros ~ N(0, 1) ## [1] 0.70143921 0.62622352 -2.43105248 -1.37197530 0.53581775 -1.66196220 ## [7] -0.09034954 -0.18229396 0.22264535 0.80023880 Ajuda para comandos ?rnorm rnorm(n, mean = 0, sd = 1) n: number of observations. mean: vector of means. sd: vector of standard deviations. Note acima em ‚ÄúUsage‚Äù que j√° h√° valores pr√©-definidos para mean = 0 e sd = 1. Portanto, se voc√™ s√≥ informar o n, a fun√ß√£o ir√° funcionar, considerando os valores pr√©-definidos para os demais argumentos. √â poss√≠vel escrever o c√≥digo sem os nomes dos argumentos, mas devem ser inseridos na mesma ordem pr√©-definida da fun√ß√£o. rnorm(10, 0, 1) Tamb√©m podemos trocar a ordem explicitando o nome do argumento (N√ÉO RECOMENDADO) rnorm(mean=0, n=10, sd=1) Pacotes no R Pacotes s√£o cole√ß√µes de fun√ß√µes, dados e c√≥digos escritos por outras pessoas Por ser um software open source, o R possui muitos pacotes disponibilizados pela internet e muitos estat√≠sticos/econometristas desenvolvem e disponibilizam seus pr√≥prios pacotes na internet. A instala√ß√£o de um pacote s√≥ precisa ser feita uma √∫nica vez. No entanto, caso voc√™ atualize uma nova vers√£o do R, √© necess√°rio instalar novamente todos os pacotes. Os pacotes podem ser obtidos em bibliotecas (libraries), como CRAN, e de indiv√≠duos (normalmente disponibilizados no GitHub) O CRAN √© administrado e, como existe uma curadoria para inser√ß√£o e manuten√ß√£o de pacotes, garante qualidade dos pacotes disponibilizados Tome cuidado com pacotes disponibilizados por individuos desconhecidos: pode haver c√≥digos maliciosos! Instala√ß√£o via CRAN quadrante inferior/direito \u0026gt; Packages \u0026gt; Install \u0026gt; (Nomes dos pacotes)\ninstall.packages(\u0026#34;ggplot2\u0026#34;) # Pacote para criar graficos Usando pacotes Depois de instalar o pacote desejado, voc√™ precisa carreg√°-lo √† sua sess√£o no R. Isto pode ser feito de duas formas\nUsar library(nome_do_pacote) Chamar o pacote indiretamente por meio de uma fun√ß√£o contida no pacote \u0026lt;nome_do_pacote\u0026gt;::\u0026lt;funcao_do_pacote\u0026gt; Exemplo: Instalando pacotes do Github Github √© um site que programadores podem disponibilizar e armazenar arquivos, como c√≥digos, bases de dados, pacotes de R, etc. √â poss√≠vel instalar um pacote disponibilizado no Github diretamente do R. Primeiro, √© necess√°rio instalar o pacote devtools install.packages(\u0026#34;devtools\u0026#34;) Depois, √© preciso obter o nome do author (do GitHub) e nome do pacote. Como exemplo, iremos baixar o pacote dplyr do autor hadley (este pacote, na realidade, pode ser baixado direto do ‚Ä¶","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"2710f4cb35b7a5851f44a03e83ef5b9b","permalink":"https://fhnishida.netlify.app/project/rec5004/sec1/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec5004/sec1/","section":"project","summary":"This page is a tutorial on using R Toolkit. It covers topics such as installing R and R Studio, working with R packages, using R Markdown, and more. The tutorial is based on courses from the Data Science specialization at Johns Hopkins University available on Coursera. It provides detailed instructions and examples to help users learn how to use R for data manipulation, visualization, and analysis.","tags":null,"title":"R Toolkit","type":"book"},{"authors":null,"categories":null,"content":"Opera√ß√µes b√°sicas # Soma 1 + 1 ## [1] 2 # Subtra√ß√£o 2 - 3 ## [1] -1 # Multiplica√ß√£o 2 * 3 ## [1] 6 # Divis√£o 6 / 4 ## [1] 1.5 Objetos b√°sicos Data types, R objects and attributes (John Hopkins/Coursera) Para criar um objeto, atribu√≠mos algo (neste caso, um valor) a um nome por meio do operador de atribui√ß√£o \u0026lt;- ou =:\nobj1 \u0026lt;- 5 obj2 = 5 + 2 Note que ambos objetos foram criados e aparecem no quadrante superior/direito (Environment). Agora, podemos imprimir os seus valores executando o nome do objeto\nobj1 ## [1] 5 ou imprimindo explicitamente por meio da fun√ß√£o print():\nprint(obj2) ## [1] 7 Note que, podemos alterar um objeto atribuindo algo novo a ele:\nobj1 = 3 obj1 ## [1] 3 √â poss√≠vel visualizar o tipo de objeto usando a fun√ß√£o class():\nclass(obj1) ## [1] \u0026#34;numeric\u0026#34; Logo, obj1 √© um n√∫mero real. H√° 5 tipos de classes de objetos ‚Äúat√¥micos‚Äù (que cont√™m apenas 1 valor):\ncharacter: texto numeric: n√∫mero real integer: n√∫mero inteiro complex: n√∫mero complexo logical: verdadeiro/falso (1 ou 0) num_inteiro = 3L # para n√∫mero inteiro, usar sufixo L num_inteiro ## [1] 3 class(num_inteiro) ## [1] \u0026#34;integer\u0026#34; texto = \u0026#34;Oi\u0026#34; texto ## [1] \u0026#34;Oi\u0026#34; class(texto) ## [1] \u0026#34;character\u0026#34; boolean1 = TRUE # ou = T boolean1 ## [1] TRUE class(boolean1) ## [1] \u0026#34;logical\u0026#34; boolean2 = FALSE # ou = T boolean2 ## [1] FALSE class(boolean2) ## [1] \u0026#34;logical\u0026#34; Express√µes l√≥gicas/booleanas S√£o express√µes que retornam o valor Verdadeiro ou Falso:\n2 \u0026lt; 20 # TRUE ## [1] TRUE 15 \u0026gt;= 19 # FALSE ## [1] FALSE 100 == 10^2 # TRUE ## [1] TRUE 100 != 20*5 # FALSE ## [1] FALSE √â poss√≠vel escrever express√µes compostas utilizando | (ou) e \u0026amp; (e):\nx = 20 # atribuindo 20 a x # Express√µes l√≥gicas compostas x \u0026lt; 0 | x^2 \u0026gt; 100 # TRUE se UMA das express√µes for TRUE ## [1] TRUE x \u0026lt; 0 \u0026amp; x^2 \u0026gt; 100 # TRUE se TODAS express√µes for TRUE ## [1] FALSE Tabela de Preced√™ncia de Operadores\nN√≠vel 6 - potencia√ß√£o: ^ N√≠vel 5 - multiplica√ß√£o: *, / N√≠vel 4 - adi√ß√£o: +, - N√≠vel 3 - relacional: ==, !=, \u0026lt;=, \u0026gt;=, \u0026gt;, \u0026lt; N√≠vel 2 - l√≥gico: \u0026amp; (e) N√≠vel 1 - l√≥gico: | (ou) N√≠veis 4 a 6: s√£o utilizados para CALCULAR valores N√≠vel 3: √© usado para relacionar 2 valores para CRIAR UMA express√£o l√≥gica N√≠veis 1 e 2: s√£o usados para JUNTAR express√µes l√≥gicas Vetores e Matrizes Depois das 5 classes de objetos apresentadas acima, as mais b√°sicas s√£o vetores e matrizes, que possuem mais de um elemento dentro do objeto. Ambos necessariamente exigem que os seus elementos sejam da mesma classe. Vetores Data types - Vectors and lists (John Hopkins/Coursera) Podemos criar um vetor usando a fun√ß√£o c() e incluindo os valores separados por ,: x = c(0.5, 0.6) # numeric x = c(TRUE, FALSE) # logical x = c(\u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;c\u0026#34;) # character x = 9:12 # integer (√© igual a c(9, 10, 11, 12)) Matrizes Matrizes s√£o vetores (e, portanto, possuem elementos de mesma classe) com atributo de dimens√£o (n¬∫ linhas por n¬∫ colunas). Uma matriz pode ser criada usando a fun√ß√£o matrix():\nmatrix(data = NA, nrow = 1, ncol = 1, byrow = FALSE, ...) data: an optional data vector (including a list or expression vector). nrow: the desired number of rows. ncol: the desired number of columns. byrow: logical. If FALSE (the default) the matrix is filled by columns, otherwise the matrix is filled by rows. m = matrix(nrow=2, ncol=3) # matriz vazia m ## [,1] [,2] [,3] ## [1,] NA NA NA ## [2,] NA NA NA Pode-se preencher todos elementos de uma matriz com um √∫nico valor informando um √∫nico escalar:\nm = matrix(0, nrow=2, ncol=3) # matriz vazia m ## [,1] [,2] [,3] ## [1,] 0 0 0 ## [2,] 0 0 0 √â poss√≠vel construir uma matriz ‚Äúpreenchida‚Äù incluindo um vetor com (n¬∫ linhas $\\times$ n¬∫ colunas) elementos.\nm = matrix(1:6, nrow=2, ncol=3) m ## [,1] [,2] [,3] ## [1,] 1 3 5 ## [2,] 2 4 6 Os elementos do vetor 1:6 preenchem primeiro todas linhas de uma coluna para, depois, preencher a pr√≥xima coluna (column-wise). Para preencher por linha, usamos o argumento byrow=TRUE:\nm = matrix(1:6, nrow=2, ncol=3, byrow=TRUE) m ## [,1] [,2] [,3] ## [1,] 1 2 3 ## [2,] 4 5 6 Note que muitas vezes √© redundante informar ambos n√∫meros de linhas e de colunas:\nm = matrix(1:6, nrow=2, byrow=TRUE) m ## [,1] [,2] [,3] ## [1,] 1 2 3 ## [2,] 4 5 6 Podemos criar vetores-linha ou vetores-coluna inserindo, respectivamente, nrow=1 e ncol=1:\n# vetor-linha vrow = matrix(1:3, nrow=1) vrow ## [,1] [,2] [,3] ## [1,] 1 2 3 # vetor-coluna vcol = matrix(1:3, ncol=1) vcol ## [,1] ## [1,] 1 ## [2,] 2 ## [3,] 3 Podemos criar matrizes identidade facilmente utilizando a fun√ß√£o diag() e informando o n¬∫ de elementos na diagonal principal da matriz:\nI = diag(3) # matriz identidade com 3 elementos na diagonal I ## [,1] [,2] [,3] ## [1,] 1 0 0 ## [2,] 0 1 0 ## [3,] 0 0 1 Outra maneira de criar matrizes √© juntando vetores em colunas (column-binding) ou em linhas (row-binding), usando as fun√ß√µes cbind() e rbind(), respectivamente:\n# Criando 2 vetores x = 1:3 y = 10:12 # Criando/Visualizando matrizes X = cbind(x, y) # juntando vetores por coluna X ## x y ## [1,] 1 10 ## [2,] 2 11 ## [3,] 3 12 Y = rbind(x, y) # juntando vetores por ‚Ä¶","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"7095a9989285773a05fee471de86cca7","permalink":"https://fhnishida.netlify.app/project/rec2312/sec1/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec2312/sec1/","section":"project","summary":"Learn how to use Wowchemy's docs layout for publishing online courses, software documentation, and tutorials.","tags":null,"title":"Revis√£o de Programa√ß√£o em R","type":"book"},{"authors":null,"categories":null,"content":"Introduction to Python (Part 1):\nOperations Variables/Objects Conditions and If statements while loop Functions TA Session 1 Recording (in Portuguese) Script file: Monitoria-1.py\nComplementary content Spyder Installation Guide Python Course (in Portuguese): ‚ÄúIntrodu√ß√£o √† Ci√™ncia da Computa√ß√£o com Python Parte 1‚Äù (F√°bio Kon, IME-USP) üëâ Proceed to Session 2 ","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"4cf99f18cd18cd4bc99f005d89cc9f7f","permalink":"https://fhnishida.netlify.app/project/rec5002-1/sec1/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec5002-1/sec1/","section":"project","summary":"Learn how to use Wowchemy's docs layout for publishing online courses, software documentation, and tutorials.","tags":null,"title":"Session 1 (April 20, 2021)","type":"book"},{"authors":null,"categories":null,"content":"Dynamic Optimization of a Monopolist: Evans Model Chiang (1999): Section 2.4 TA Session 1 Recording (in Portuguese) Presentation: AP_Monitoria-1_pt2_v2.pdf\nüëâ Proceed to Session 2 ","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"fdd091af3a80a7ca545e8235afe409e7","permalink":"https://fhnishida.netlify.app/project/rec5002-2/sec1/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec5002-2/sec1/","section":"project","summary":"Learn how to use Wowchemy's docs layout for publishing online courses, software documentation, and tutorials.","tags":null,"title":"Session 1 (June 22, 2021)","type":"book"},{"authors":null,"categories":null,"content":"Estima√ß√£o MQO multivariado Regress√£o via lm() Se√ß√£o 3.1 de Heiss (2020)\nPara estimar um modelo multivariado no R, podemos usar a fun√ß√£o lm():\nO til (~) separa a vari√°vel dependente das vari√°veis independentes As vari√°veis independentes precisam ser separadas por um + A constante ( $\\beta_0$) √© inclu√≠da automaticamente pela fun√ß√£o lm() ‚Äì para retir√°-la, precisa incluir a ‚Äúvari√°vel independente‚Äù 0 na f√≥rmula. Exemplo 3.1: Determinantes da Nota M√©dia em Curso Superior nos EUA (Wooldridge, 2006) Sejam as vari√°veis colGPA (college GPA): a nota m√©dia em um curso superior, hsGPA (high school GPA): a nota m√©dio do ensino m√©dio, e ACT (achievement test score): a nota de avalia√ß√£o de conhecimentos para ingresso no ensino superior. Usando a base gpa1 do pacote wooldridge, vamos estimar o seguinte modelo: $$ \\text{colGPA} = \\beta_0 + \\beta_1 \\text{hsGPA} + \\beta_2 \\text{ACT} + \\varepsilon $$\n# Acessando a base de dados gpa1 data(gpa1, package = \u0026#34;wooldridge\u0026#34;) # Estimando o modelo e atribuindo a um objeto GPAres = lm(colGPA ~ hsGPA + ACT, data = gpa1) GPAres ## ## Call: ## lm(formula = colGPA ~ hsGPA + ACT, data = gpa1) ## ## Coefficients: ## (Intercept) hsGPA ACT ## 1.286328 0.453456 0.009426 Coeficientes, Valores Ajustados e Res√≠duos Se√ß√£o 2.2 de Heiss (2020)\nPodemos usar a fun√ß√£o coef() para extrairmos um vetor com as estimativas da regress√£o, $\\hat{\\boldsymbol{\\beta}}$\ncoef(GPAres) ## (Intercept) hsGPA ACT ## 1.286327767 0.453455885 0.009426012 Al√©m disso, podemos extrair os valores ajustados/preditos ( $\\hat{\\boldsymbol{y}}$) e os res√≠duos ( $\\hat{\\boldsymbol{\\varepsilon}} = \\boldsymbol{y} - \\hat{\\boldsymbol{y}}$) usando, respectivamente, as fun√ß√µes fitted() e resid(): fitted(GPAres)[1:6] # 6 primeiros valores ajustados ## 1 2 3 4 5 6 ## 2.844642 2.963611 3.163845 3.127926 3.318734 3.063728 resid(GPAres)[1:6] # 6 primeiros res√≠duos ## 1 2 3 4 5 6 ## 0.15535832 0.43638918 -0.16384523 0.37207430 0.28126580 -0.06372813 Podemos extrair informa√ß√µes mais detalhadas do objeto resultante da regress√£o (lm()) por meio da fun√ß√£o summary(): summary(GPAres) # informa√ß√µes detalhadas da regress√£o ## ## Call: ## lm(formula = colGPA ~ hsGPA + ACT, data = gpa1) ## ## Residuals: ## Min 1Q Median 3Q Max ## -0.85442 -0.24666 -0.02614 0.28127 0.85357 ## ## Coefficients: ## Estimate Std. Error t value Pr(\u0026gt;|t|) ## (Intercept) 1.286328 0.340822 3.774 0.000238 *** ## hsGPA 0.453456 0.095813 4.733 5.42e-06 *** ## ACT 0.009426 0.010777 0.875 0.383297 ## --- ## Signif. codes: 0 \u0026#39;***\u0026#39; 0.001 \u0026#39;**\u0026#39; 0.01 \u0026#39;*\u0026#39; 0.05 \u0026#39;.\u0026#39; 0.1 \u0026#39; \u0026#39; 1 ## ## Residual standard error: 0.3403 on 138 degrees of freedom ## Multiple R-squared: 0.1764,\tAdjusted R-squared: 0.1645 ## F-statistic: 14.78 on 2 and 138 DF, p-value: 1.526e-06 summary(GPAres)$coef # estimativas, erro padr√£o, estat√≠stica t e p-valor ## Estimate Std. Error t value Pr(\u0026gt;|t|) ## (Intercept) 1.286327767 0.34082212 3.7741910 2.375872e-04 ## hsGPA 0.453455885 0.09581292 4.7327219 5.421580e-06 ## ACT 0.009426012 0.01077719 0.8746263 3.832969e-01 MQO na forma matricial Se√ß√£o 3.2 de Heiss (2020) Nota√ß√µes Para mais detalhes sobre a forma matricial do MQO, ver Ap√™ndice E de Wooldridge (2006)\nConsidere o modelo multivariado com $K$ regressores para a observa√ß√£o $i$: $$ y_i = \\beta_0 + \\beta_1 x_{i1} + \\beta_2 x_{i2} + ‚Ä¶ + \\beta_K x_{iK} + \\varepsilon_i, \\qquad i=1, 2, ‚Ä¶, N \\tag{E.1} $$ em que $N$ √© o n√∫mero de observa√ß√µes.\nDefina o vetor-coluna de par√¢metros, $\\boldsymbol{\\beta}$, e o vetor-linha das vari√°veis explicativas da observa√ß√£o $i$, $\\boldsymbol{x}_i$ (min√∫sculo): $$ \\underset{1 \\times K}{\\boldsymbol{x}_i} = \\left[ \\begin{matrix} 1 \u0026amp; x_{i1} \u0026amp; x_{i2} \u0026amp; \\cdots \u0026amp; x_{iK} \\end{matrix} \\right] \\qquad \\text{e} \\qquad \\underset{(K+1) \\times 1}{\\boldsymbol{\\beta}} = \\left[ \\begin{matrix} \\beta_0 \\\\ \\beta_1 \\\\ \\beta_2 \\\\ \\vdots \\\\ \\beta_K \\end{matrix} \\right],$$\nNote que o produto interno $\\boldsymbol{x}_i \\boldsymbol{\\beta}$ √©:\n\\begin{align} \\underset{1 \\times 1}{\\boldsymbol{x}_i \\boldsymbol{\\beta}} \u0026amp;= \\left[ \\begin{matrix} 1 \u0026amp; x_{i1} \u0026amp; x_{i2} \u0026amp; \\cdots \u0026amp; x_{iK} \\end{matrix} \\right] \\left[ \\begin{matrix} \\beta_0 \\\\ \\beta_1 \\\\ \\beta_2 \\\\ \\vdots \\\\ \\beta_K \\end{matrix} \\right]\\\\\r\u0026amp;= 1.\\beta_0 + x_{i1} \\beta_1 + x_{i2} \\beta_2 + \\cdots + x_{iK} \\beta_K, \\end{align} Logo, a equa√ß√£o (3.1) pode ser reescrita, para $i=1, 2, ..., N$, como $$ y_i = \\underbrace{\\beta_0 + \\beta_1 x_{i1} + \\beta_2 x_{i2} + ‚Ä¶ + \\beta_K x_{iK}}_{\\boldsymbol{x}_i \\boldsymbol{\\beta}} + \\varepsilon_i = \\boldsymbol{x}_i \\boldsymbol{\\beta} + \\varepsilon_i, \\tag{E.2} $$\nConsidere $\\boldsymbol{X}$ a matriz de todas $N$ observa√ß√µes para as $K+1$ vari√°veis explicativas: $$ \\underset{N \\times (K+1)}{\\boldsymbol{X}} = \\left[ \\begin{matrix} \\boldsymbol{x}_1 \\\\ \\boldsymbol{x}_2 \\\\ \\vdots \\\\ \\boldsymbol{x}_N \\end{matrix} \\right] = \\left[ \\begin{matrix} 1 \u0026amp; x_{11} \u0026amp; x_{12} \u0026amp; \\cdots \u0026amp; x_{1K} \\\\ 1 \u0026amp; x_{21} \u0026amp; x_{22} \u0026amp; \\cdots \u0026amp; x_{2K} \\\\ \\vdots \u0026amp; \\vdots \u0026amp; \\vdots \u0026amp; \\ddots \u0026amp; \\vdots \\\\ 1 \u0026amp; x_{N1} \u0026amp; x_{N2} \u0026amp; \\cdots \u0026amp; x_{NK} \\end{matrix} \\right] , $$ Agora, podemos ‚Äúempilhar‚Äù ‚Ä¶","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"ce4007ff0d3a89dd3670ed4eaf3a5dec","permalink":"https://fhnishida.netlify.app/project/rec2312/sec2/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec2312/sec2/","section":"project","summary":"Learn how to use Wowchemy's docs layout for publishing online courses, software documentation, and tutorials.","tags":null,"title":"M√≠nimos Quadrados Ordin√°rios (MQO)","type":"book"},{"authors":null,"categories":null,"content":"Opera√ß√µes b√°sicas # Soma 1 + 1 ## [1] 2 # Subtra√ß√£o 2 - 3 ## [1] -1 # Multiplica√ß√£o 2 * 3 ## [1] 6 # Divis√£o 6 / 4 ## [1] 1.5 # Divis√£o Inteira 6 %/% 4 ## [1] 1 # Resto da Divis√£o 6 %% 4 ## [1] 2 # Potencia√ß√£o 2 ^ 3 ## [1] 8 8 ^ (1 / 3) ## [1] 2 Objetos no R Data types, R objects and attributes (John Hopkins/Coursera) Para criar um objeto, atribu√≠mos algo (neste caso, um valor) a um nome por meio do operador de atribui√ß√£o \u0026lt;- ou =:\nobj1 \u0026lt;- 5 obj2 = 5 + 2 Note que ambos objetos foram criados e aparecem no quadrante superior/direito (Environment). Agora, podemos imprimir os seus valores executando o nome do objeto\nobj1 ## [1] 5 ou imprimindo explicitamente por meio da fun√ß√£o print():\nprint(obj2) ## [1] 7 Note que, podemos alterar um objeto atribuindo algo novo a ele:\nobj1 = obj2 obj1 ## [1] 7 Uma forma bastante utilizada para altera√ß√£o de valor de um objeto √© utilizando o pr√≥prio valor de objeto como base:\nobj1 = obj1 + 3 obj1 ## [1] 10 Isto ser√° especialmente relevante quando trabalharmos com repeti√ß√µes/loops.\n√â poss√≠vel visualizar o tipo de objeto usando a fun√ß√£o class():\nclass(obj1) ## [1] \u0026#34;numeric\u0026#34; Logo, obj1 √© um n√∫mero real. H√° 5 tipos de classes de objetos ‚Äúat√¥micos‚Äù (que cont√™m apenas 1 valor):\ncharacter: texto numeric: n√∫mero real integer: n√∫mero inteiro complex: n√∫mero complexo logical: verdadeiro/falso (1 ou 0) num_real = 3 class(num_real) ## [1] \u0026#34;numeric\u0026#34; num_inteiro = 3L # para n√∫mero inteiro, usar sufixo L class(num_inteiro) ## [1] \u0026#34;integer\u0026#34; texto = \u0026#34;Oi\u0026#34; print(texto) ## [1] \u0026#34;Oi\u0026#34; class(texto) ## [1] \u0026#34;character\u0026#34; boolean = 2\u0026gt;1 print(boolean) ## [1] TRUE class(boolean) ## [1] \u0026#34;logical\u0026#34; boolean2 = T # poderia escrever TRUE print(boolean2) ## [1] TRUE boolean3 = F # poderia escrever FALSE print(boolean3) ## [1] FALSE Express√µes l√≥gicas/booleanas S√£o express√µes que retornam o valor Verdadeiro ou Falso:\nclass(TRUE) ## [1] \u0026#34;logical\u0026#34; class(FALSE) ## [1] \u0026#34;logical\u0026#34; T + F + T + F + F # soma de 1\u0026#39;s (TRUE) e 0\u0026#39;s (FALSE) ## [1] 2 2 \u0026lt; 20 ## [1] TRUE 19 \u0026gt;= 19 ## [1] TRUE 100 == 10^2 ## [1] TRUE 100 != 20*5 ## [1] FALSE √â poss√≠vel escrever express√µes compostas utilizando | (ou) e \u0026amp; (e):\nx = 20 x \u0026lt; 0 | x^2 \u0026gt; 100 ## [1] TRUE x \u0026lt; 0 \u0026amp; x^2 \u0026gt; 100 ## [1] FALSE Tabela de Preced√™ncia de Operadores\nN√≠vel 6 - potencia√ß√£o: ^ N√≠vel 5 - multiplica√ß√£o: *, /, %/%, %% N√≠vel 4 - adi√ß√£o: +, - N√≠vel 3 - relacional: ==, !=, \u0026lt;=, \u0026gt;=, \u0026gt;, \u0026lt; N√≠vel 2 - l√≥gico: \u0026amp; (e) N√≠vel 1 - l√≥gico: | (ou) Vetores Data types - Vectors and lists (John Hopkins/Coursera) Depois das 5 classes de objetos apresentadas acima, as mais b√°sicas s√£o os vetores e as listas, que possuem mais de um elemento dentro do objeto. Um vetor necessariamente exige que os elementos sejam da mesma classe. Podemos criar um vetor usando a fun√ß√£o c() e incluindo os valores separados por ,:\nx = c(0.5, 0.6) # numeric x = c(TRUE, FALSE) # logical x = c(\u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;c\u0026#34;) # character x = 9:12 # integer (√© igual a c(9, 10, 11, 12)) x = c(1+0i, 2+4i) # complex Se utilizarmos a fun√ß√£o c() com elementos de classes diferentes, o R transforma a classe do objeto para o ‚Äúmais geral‚Äù:\ny = c(1.7, \u0026#34;a\u0026#34;) # (numeric, character) -\u0026gt; character class(y) ## [1] \u0026#34;character\u0026#34; y = c(FALSE, 0.75) # (logical, numeric) -\u0026gt; numeric class(y) ## [1] \u0026#34;numeric\u0026#34; y = c(\u0026#34;a\u0026#34;, TRUE) # (character, logical) -\u0026gt; character class(y) ## [1] \u0026#34;character\u0026#34; Note que:\ncharacter \u0026gt; complex \u0026gt; numeric \u0026gt; integer \u0026gt; logical\nTamb√©m podemos for√ßar a mudan√ßa de classe de objeto para a classe ‚Äúmenos geral‚Äù, o que acaba transformando:\nos elementos ‚Äúmais gerais‚Äù em missing values (NA‚Äôs), as.numeric(c(1.7, \u0026#34;a\u0026#34;)) # (numeric, character) ## Warning: NAs introduzidos por coer√ß√£o ## [1] 1.7 NA as.logical(c(\u0026#34;a\u0026#34;, TRUE)) # (character, logical) ## [1] NA TRUE [exce√ß√£o] de character com n√∫mero (por exemplo, ‚Äú9‚Äù) para numeric: torna-se numeric as.numeric(c(1.7, \u0026#34;9\u0026#34;)) # (numeric, character n√∫mero) ## [1] 1.7 9.0 [exce√ß√£o] de numeric diferente de zero para logical: torna-se TRUE [exce√ß√£o] de numeric igual a zero para logical: torna-se FALSE as.logical(c(FALSE, 0.75, -10)) # (logical, numeric \u0026gt; 0, numeric \u0026lt; 0) ## [1] FALSE TRUE TRUE as.logical(c(TRUE, 0)) # (logical, numeric zero) ## [1] TRUE FALSE [exce√ß√£o] de character l√≥gico (‚ÄúTRUE‚Äù, ‚ÄúT‚Äù, ‚ÄúFALSE‚Äù, ‚ÄúF‚Äù) para logical: torna-se logical (‚Äú0‚Äù e ‚Äú1‚Äù tornam-se NA) as.logical(c(\u0026#34;T\u0026#34;, \u0026#34;FALSE\u0026#34;, \u0026#34;1\u0026#34;, TRUE)) # (character TRUE/FALSE, logical) ## [1] TRUE FALSE NA TRUE Constru√ß√£o de vetor de sequ√™ncia Uma forma interessante de construir um vetor num√©rico com uma sequ√™ncia √© utilizando a fun√ß√£o seq() seq(from = 1, to = 1, by = ((to - from)/(length.out - 1)), length.out = NULL, ...) from, to: the starting and (maximal) end values of the sequence. Of length 1 unless just from is supplied as an unnamed argument. by:\tnumber, increment of the sequence. length.out: desired length of the sequence. A non-negative number, which for seq and seq.int will be rounded up if fractional. Note que todos argumentos j√° possuem valores pr√©-definidos, ent√£o podemos montar sequ√™ncias de maneiras distintas. Considerando o preenchimento dos argumentos ‚Ä¶","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"3614f13b686c52844aa08e9386ff6395","permalink":"https://fhnishida.netlify.app/project/rec2301/sec2/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec2301/sec2/","section":"project","summary":"Learn how to use Wowchemy's docs layout for publishing online courses, software documentation, and tutorials.","tags":null,"title":"Programa√ß√£o em R","type":"book"},{"authors":null,"categories":null,"content":"\rOpera√ß√µes b√°sicas # Soma 1 + 1 ## [1] 2 # Subtra√ß√£o 2 - 3 ## [1] -1 # Multiplica√ß√£o 2 * 3 ## [1] 6 # Divis√£o 6 / 4 ## [1] 1.5 # Divis√£o Inteira 6 %/% 4 ## [1] 1 # Resto da Divis√£o 6 %% 4 ## [1] 2 # Potencia√ß√£o 2 ^ 3 ## [1] 8 8 ^ (1 / 3) ## [1] 2 Objetos no R Data types, R objects and attributes (John Hopkins/Coursera) Para criar um objeto, atribu√≠mos algo (neste caso, um valor) a um nome por meio do operador de atribui√ß√£o \u0026lt;- ou =:\nobj1 \u0026lt;- 5 obj2 = 5 + 2 Note que ambos objetos foram criados e aparecem no quadrante superior/direito (Environment). Agora, podemos imprimir os seus valores executando o nome do objeto\nobj1 ## [1] 5 ou imprimindo explicitamente por meio da fun√ß√£o print():\nprint(obj2) ## [1] 7 Note que, podemos alterar um objeto atribuindo algo novo a ele:\nobj1 = obj2 obj1 ## [1] 7 Uma forma bastante utilizada para altera√ß√£o de valor de um objeto √© utilizando o pr√≥prio valor de objeto como base:\nobj1 = obj1 + 3 obj1 ## [1] 10 Isto ser√° especialmente relevante quando trabalharmos com repeti√ß√µes/loops.\n√â poss√≠vel visualizar o tipo de objeto usando a fun√ß√£o class():\nclass(obj1) ## [1] \u0026#34;numeric\u0026#34; Logo, obj1 √© um n√∫mero real. H√° 5 tipos de classes de objetos ‚Äúat√¥micos‚Äù (que cont√™m apenas 1 valor):\ncharacter: texto numeric: n√∫mero real integer: n√∫mero inteiro complex: n√∫mero complexo logical: verdadeiro/falso (1 ou 0) num_real = 3 class(num_real) ## [1] \u0026#34;numeric\u0026#34; num_inteiro = 3L # para n√∫mero inteiro, usar sufixo L class(num_inteiro) ## [1] \u0026#34;integer\u0026#34; texto = \u0026#34;Oi\u0026#34; print(texto) ## [1] \u0026#34;Oi\u0026#34; class(texto) ## [1] \u0026#34;character\u0026#34; boolean = 2\u0026gt;1 print(boolean) ## [1] TRUE class(boolean) ## [1] \u0026#34;logical\u0026#34; boolean2 = T # poderia escrever TRUE print(boolean2) ## [1] TRUE boolean3 = F # poderia escrever FALSE print(boolean3) ## [1] FALSE Express√µes l√≥gicas/booleanas S√£o express√µes que retornam o valor Verdadeiro ou Falso:\nclass(TRUE) ## [1] \u0026#34;logical\u0026#34; class(FALSE) ## [1] \u0026#34;logical\u0026#34; T + F + T + F + F # soma de 1\u0026#39;s (TRUE) e 0\u0026#39;s (FALSE) ## [1] 2 2 \u0026lt; 20 ## [1] TRUE 19 \u0026gt;= 19 ## [1] TRUE 100 == 10^2 ## [1] TRUE 100 != 20*5 ## [1] FALSE √â poss√≠vel escrever express√µes compostas utilizando | (ou) e \u0026amp; (e):\nx = 20 x \u0026lt; 0 | x^2 \u0026gt; 100 ## [1] TRUE x \u0026lt; 0 \u0026amp; x^2 \u0026gt; 100 ## [1] FALSE Tabela de Preced√™ncia de Operadores\nN√≠vel 6 - potencia√ß√£o: ^ N√≠vel 5 - multiplica√ß√£o: *, /, %/%, %% N√≠vel 4 - adi√ß√£o: +, - N√≠vel 3 - relacional: ==, !=, \u0026lt;=, \u0026gt;=, \u0026gt;, \u0026lt; N√≠vel 2 - l√≥gico: \u0026amp; (e) N√≠vel 1 - l√≥gico: | (ou) Vetores Data types - Vectors and lists (John Hopkins/Coursera) Depois das 5 classes de objetos apresentadas acima, as mais b√°sicas s√£o os vetores e as listas, que possuem mais de um elemento dentro do objeto. Um vetor necessariamente exige que os elementos sejam da mesma classe. Podemos criar um vetor usando a fun√ß√£o c() e incluindo os valores separados por ,:\nx = c(0.5, 0.6) # numeric x = c(TRUE, FALSE) # logical x = c(\u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;c\u0026#34;) # character x = 9:12 # integer (√© igual a c(9, 10, 11, 12)) x = c(1+0i, 2+4i) # complex Se utilizarmos a fun√ß√£o c() com elementos de classes diferentes, o R transforma a classe do objeto para o ‚Äúmais geral‚Äù:\ny = c(1.7, \u0026#34;a\u0026#34;) # (numeric, character) -\u0026gt; character class(y) ## [1] \u0026#34;character\u0026#34; y = c(FALSE, 0.75) # (logical, numeric) -\u0026gt; numeric class(y) ## [1] \u0026#34;numeric\u0026#34; y = c(\u0026#34;a\u0026#34;, TRUE) # (character, logical) -\u0026gt; character class(y) ## [1] \u0026#34;character\u0026#34; Note que:\ncharacter \u0026gt; complex \u0026gt; numeric \u0026gt; integer \u0026gt; logical\nTamb√©m podemos for√ßar a mudan√ßa de classe de objeto para a classe ‚Äúmenos geral‚Äù, o que acaba transformando:\nos elementos ‚Äúmais gerais‚Äù em missing values (NA‚Äôs), as.numeric(c(1.7, \u0026#34;a\u0026#34;)) # (numeric, character) ## Warning: NAs introduzidos por coer√ß√£o ## [1] 1.7 NA as.logical(c(\u0026#34;a\u0026#34;, TRUE)) # (character, logical) ## [1] NA TRUE [exce√ß√£o] de character com n√∫mero (por exemplo, ‚Äú9‚Äù) para numeric: torna-se numeric as.numeric(c(1.7, \u0026#34;9\u0026#34;)) # (numeric, character n√∫mero) ## [1] 1.7 9.0 [exce√ß√£o] de numeric diferente de zero para logical: torna-se TRUE [exce√ß√£o] de numeric igual a zero para logical: torna-se FALSE as.logical(c(FALSE, 0.75, -10)) # (logical, numeric \u0026gt; 0, numeric \u0026lt; 0) ## [1] FALSE TRUE TRUE as.logical(c(TRUE, 0)) # (logical, numeric zero) ## [1] TRUE FALSE [exce√ß√£o] de character l√≥gico (‚ÄúTRUE‚Äù, ‚ÄúT‚Äù, ‚ÄúFALSE‚Äù, ‚ÄúF‚Äù) para logical: torna-se logical (‚Äú0‚Äù e ‚Äú1‚Äù tornam-se NA) as.logical(c(\u0026#34;T\u0026#34;, \u0026#34;FALSE\u0026#34;, \u0026#34;1\u0026#34;, TRUE)) # (character TRUE/FALSE, logical) ## [1] TRUE FALSE NA TRUE Constru√ß√£o de vetor de sequ√™ncia Uma forma interessante de construir um vetor num√©rico com uma sequ√™ncia √© utilizando a fun√ß√£o seq() seq(from = 1, to = 1, by = ((to - from)/(length.out - 1)), length.out = NULL, ...) - from, to: the starting and (maximal) end values of the sequence. - by:\tnumber, increment of the sequence. - length.out (length): desired length of the sequence. Note que todos argumentos j√° possuem valores pr√©-definidos, ent√£o podemos montar sequ√™ncias de maneiras distintas. Considerando o preenchimento dos argumentos from e to, podemos: definir by para dar um valor de quanto varia entre um elemento e outro, ou definir length.out (ou simplesmente ‚Ä¶","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"4ebe07f7e65da0ddcc99e7772938470c","permalink":"https://fhnishida.netlify.app/project/rec5004/sec2/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec5004/sec2/","section":"project","summary":"The page also contains a table of contents for his R programming project, which includes topics such as basic operations, objects in R, logical/boolean expressions, vectors, matrices, lists, data frames, extracting subsets, removing missing values (NA), vector/matrix operations, basic statistics on vectors and matrices, control structures (conditional (if), repetition (for), repetition (while)), and examples of optimization of univariate and bivariate functions.","tags":null,"title":"R Programming","type":"book"},{"authors":null,"categories":null,"content":"Introduction to Python (Part 2):\nLists Modules Matrices (part 1) TA Session 2 Recording (in Portuguese) Script file: Monitoria-2_v3.py\nComplementary content Python Course (in Portuguese): ‚ÄúIntrodu√ß√£o √† Ci√™ncia da Computa√ß√£o com Python Parte 1‚Äù (F√°bio Kon, IME-USP) üëâ Proceed to Session 3 ","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"709a8a11a1600afb25245610f1659631","permalink":"https://fhnishida.netlify.app/project/rec5002-1/sec2/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec5002-1/sec2/","section":"project","summary":"Learn how to use Wowchemy's docs layout for publishing online courses, software documentation, and tutorials.","tags":null,"title":"Session 2 (April 27, 2021)","type":"book"},{"authors":null,"categories":null,"content":"Trade-off Inflation and Unemployment Chiang (1999): Sections 2.5 and 3.2 TA Session 2 Recording (in Portuguese) Presentation: AP_Monitoria-2_pt2.pdf\nüëâ Proceed to Session 3 ","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"07eda1b23c1567abe1d9b79b25e97508","permalink":"https://fhnishida.netlify.app/project/rec5002-2/sec2/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec5002-2/sec2/","section":"project","summary":"Learn how to use Wowchemy's docs layout for publishing online courses, software documentation, and tutorials.","tags":null,"title":"Session 2 (June 29, 2021)","type":"book"},{"authors":null,"categories":null,"content":"Resumindo dados Fun√ß√µes b√°sicas Summarizing data (John Hopkins/Coursera) Para esta se√ß√£o, usaremos a base de dados airquality, j√° presente no R. Verificaremos o dimens√µes da base com dim() e visualizaremos as 6 primeiras e √∫ltimas linhas da base via head() e tail(), respectivamente. # data() # lista de base de dados presentes no R dim(airquality) # Verificar tamanho da base (linhas x colunas) ## [1] 153 6 head(airquality) # Visualizando as 6 primeiras linhas ## Ozone Solar.R Wind Temp Month Day ## 1 41 190 7.4 67 5 1 ## 2 36 118 8.0 72 5 2 ## 3 12 149 12.6 74 5 3 ## 4 18 313 11.5 62 5 4 ## 5 NA NA 14.3 56 5 5 ## 6 28 NA 14.9 66 5 6 tail(airquality) # Visualizando as 6 √∫ltimas linhas ## Ozone Solar.R Wind Temp Month Day ## 148 14 20 16.6 63 9 25 ## 149 30 193 6.9 70 9 26 ## 150 NA 145 13.2 77 9 27 ## 151 14 191 14.3 75 9 28 ## 152 18 131 8.0 76 9 29 ## 153 20 223 11.5 68 9 30 Usando str(), podemos visualizar a estrutura da base: todas a vari√°veis (colunas), a classe de cada uma delas e algumas de suas observa√ß√µes. str(airquality) ## \u0026#39;data.frame\u0026#39;:\t153 obs. of 6 variables: ## $ Ozone : int 41 36 12 18 NA 28 23 19 8 NA ... ## $ Solar.R: int 190 118 149 313 NA NA 299 99 19 194 ... ## $ Wind : num 7.4 8 12.6 11.5 14.3 14.9 8.6 13.8 20.1 8.6 ... ## $ Temp : int 67 72 74 62 56 66 65 59 61 69 ... ## $ Month : int 5 5 5 5 5 5 5 5 5 5 ... ## $ Day : int 1 2 3 4 5 6 7 8 9 10 ... Para fazer um resumo de todas as vari√°veis da base, podemos usar a fun√ß√£o summary() que, para vari√°veis num√©ricas, calcula a m√©dia e os quartis, e mostra a quantidade de NA. summary(airquality) ## Ozone Solar.R Wind Temp ## Min. : 1.00 Min. : 7.0 Min. : 1.700 Min. :56.00 ## 1st Qu.: 18.00 1st Qu.:115.8 1st Qu.: 7.400 1st Qu.:72.00 ## Median : 31.50 Median :205.0 Median : 9.700 Median :79.00 ## Mean : 42.13 Mean :185.9 Mean : 9.958 Mean :77.88 ## 3rd Qu.: 63.25 3rd Qu.:258.8 3rd Qu.:11.500 3rd Qu.:85.00 ## Max. :168.00 Max. :334.0 Max. :20.700 Max. :97.00 ## NA\u0026#39;s :37 NA\u0026#39;s :7 ## Month Day ## Min. :5.000 Min. : 1.0 ## 1st Qu.:6.000 1st Qu.: 8.0 ## Median :7.000 Median :16.0 ## Mean :6.993 Mean :15.8 ## 3rd Qu.:8.000 3rd Qu.:23.0 ## Max. :9.000 Max. :31.0 ## Tamb√©m podemos calcular os quantis via quantile() quantile(airquality$Ozone, probs=c(0, .25, .5 , .75, 1), na.rm=TRUE) ## 0% 25% 50% 75% 100% ## 1.00 18.00 31.50 63.25 168.00 Note que, para vari√°veis l√≥gicas, de texto ou categ√≥ricas (factor), aparecem a contagem de cada categoria/poss√≠vel valor: summary(CO2) # base de dados \u0026#39;Carbon Dioxide Uptake in Grass Plants\u0026#39; ## Plant Type Treatment conc uptake ## Qn1 : 7 Quebec :42 nonchilled:42 Min. : 95 Min. : 7.70 ## Qn2 : 7 Mississippi:42 chilled :42 1st Qu.: 175 1st Qu.:17.90 ## Qn3 : 7 Median : 350 Median :28.30 ## Qc1 : 7 Mean : 435 Mean :27.21 ## Qc3 : 7 3rd Qu.: 675 3rd Qu.:37.12 ## Qc2 : 7 Max. :1000 Max. :45.50 ## (Other):42 Para vari√°veis de texto, pode ser interessante fazer uma tabela com a contagem de cada poss√≠vel categoria de uma vari√°vel. Isto √© poss√≠vel por meio da fun√ß√£o table() e aplicaremos prop.table(table()) para visualizar em percentuais. table(CO2$Type) # contagem ## ## Quebec Mississippi ## 42 42 prop.table(table(CO2$Type)) # percentual ## ## Quebec Mississippi ## 0.5 0.5 Tamb√©m podemos incluir mais uma vari√°vel em table() para visualizar a contagem considerando 2 vari√°veis: table(CO2$Type, CO2$Treatment) ## ## nonchilled chilled ## Quebec 21 21 ## Mississippi 21 21 Fam√≠lia de fun√ß√µes apply Veremos uma fam√≠lia de fun√ß√µes apply que permitem executar comandos em loop de maneira compacta:\napply: aplica uma fun√ß√£o sobre as margens (linha ou coluna) de uma matrix/array lapply: loop sobre uma lista e avalia uma fun√ß√£o em cada elemento fun√ß√£o auxiliar split √© √∫til ao ser utilizada em conjunto da lapply sapply: mesmo que o lapply, mas simplifica o resultado Fun√ß√£o apply() Loop functions - apply (John Hopkins/Coursera) Usado para avaliar, por meio de uma fun√ß√£o, margens de um array Frequentemente √© utilizado para aplicar uma fun√ß√£o a linhas ou a colunas de uma matriz N√£o √© mais r√°pido do que escrever um loop, mas funciona em uma √∫nica linha apply(X, MARGIN, FUN, ...) X: an array, including a matrix.MARGIN: a vector giving the subscripts which the function will be applied over. E.g., for a matrix 1 indicates rows, 2 indicates columns, c(1, 2) indicates rows and columns. Where X has named dimnames, it can be a character vector selecting dimension names. FUN: the function to be applied: see ‚ÄòDetails‚Äô. In the case of functions like +, %*%, etc., the function name must be backquoted or quoted. ... : optional arguments to FUN. x = matrix(1:20, 5, 4) x ## [,1] [,2] [,3] [,4] ## [1,] 1 6 11 16 ## [2,] 2 7 12 17 ## [3,] 3 8 13 18 ## [4,] 4 9 14 19 ## [5,] 5 10 15 20 apply(x, 1, mean) # m√©dias das linhas ## [1] 8.5 9.5 10.5 11.5 12.5 apply(x, 2, mean) # m√©dias das colunas ## [1] 3 8 13 18 H√° fun√ß√µes pr√©-definidas que aplicam apply com soma e com m√©dia: rowSums = apply(x, 1, sum) rowMeans = apply(x, 1, mean) colSums = apply(x, 2, sum) colMeans = ‚Ä¶","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"50e31a74b4bde40fc9df302d067c52ae","permalink":"https://fhnishida.netlify.app/project/rec2301/sec3/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec2301/sec3/","section":"project","summary":"Learn how to use Wowchemy's docs layout for publishing online courses, software documentation, and tutorials.","tags":null,"title":"Manipula√ß√£o de Dados","type":"book"},{"authors":null,"categories":null,"content":" ‚ÄúBetween 30% to 80% of the data analysis task is spent on cleaning and understanding the data.‚Äù (Dasu \u0026amp; Johnson, 2003)\nPara esta se√ß√£o, usaremos a base de dados starwars do pacote de manipula√ß√£o de dados dplyr:\nlibrary(dplyr) # Vamos chamar a base de dados starwars de sw sw = starwars # vamos retirar as √∫ltimas 3 colunas para facilitar a manipula√ß√£o. # S√£o colunas da classe list sw[,c(\u0026#34;films\u0026#34;, \u0026#34;vehicles\u0026#34;, \u0026#34;starships\u0026#34;)] = NULL Pacote base Nesta se√ß√£o, vamos manipular bases de dados usando as fun√ß√µes pr√©-carregadas no R (pacote base) Resumo dos dados Fun√ß√µes b√°sicas Summarizing data (John Hopkins/Coursera) Verificaremos: as dimens√µes da base via dim() as 6 primeiras linhas da base via head() as 6 √∫ltimas linhas da base via tail() dim(sw) # Verificar tamanho da base (linhas x colunas) ## [1] 87 11 head(sw) # Visualizando as 6 primeiras linhas ## # A tibble: 6 √ó 11 ## name height mass hair_color skin_color eye_color birth_year sex gender ## \u0026lt;chr\u0026gt; \u0026lt;int\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; ## 1 Luke Sky‚Ä¶ 172 77 blond fair blue 19 male mascu‚Ä¶ ## 2 C-3PO 167 75 \u0026lt;NA\u0026gt; gold yellow 112 none mascu‚Ä¶ ## 3 R2-D2 96 32 \u0026lt;NA\u0026gt; white, bl‚Ä¶ red 33 none mascu‚Ä¶ ## 4 Darth Va‚Ä¶ 202 136 none white yellow 41.9 male mascu‚Ä¶ ## 5 Leia Org‚Ä¶ 150 49 brown light brown 19 fema‚Ä¶ femin‚Ä¶ ## 6 Owen Lars 178 120 brown, gr‚Ä¶ light blue 52 male mascu‚Ä¶ ## # ‚Ñπ 2 more variables: homeworld \u0026lt;chr\u0026gt;, species \u0026lt;chr\u0026gt; tail(sw) # Visualizando as 6 √∫ltimas linhas ## # A tibble: 6 √ó 11 ## name height mass hair_color skin_color eye_color birth_year sex gender ## \u0026lt;chr\u0026gt; \u0026lt;int\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; ## 1 Finn NA NA black dark dark NA male mascu‚Ä¶ ## 2 Rey NA NA brown light hazel NA fema‚Ä¶ femin‚Ä¶ ## 3 Poe Dame‚Ä¶ NA NA brown light brown NA male mascu‚Ä¶ ## 4 BB8 NA NA none none black NA none mascu‚Ä¶ ## 5 Captain ‚Ä¶ NA NA unknown unknown unknown NA \u0026lt;NA\u0026gt; \u0026lt;NA\u0026gt; ## 6 Padm√© Am‚Ä¶ 165 45 brown light brown 46 fema‚Ä¶ femin‚Ä¶ ## # ‚Ñπ 2 more variables: homeworld \u0026lt;chr\u0026gt;, species \u0026lt;chr\u0026gt; Usando str(), podemos visualizar a estrutura (structure) da base: todas a vari√°veis (colunas), a classe de cada uma delas e algumas de suas observa√ß√µes. str(sw) ## tibble [87 √ó 11] (S3: tbl_df/tbl/data.frame) ## $ name : chr [1:87] \u0026#34;Luke Skywalker\u0026#34; \u0026#34;C-3PO\u0026#34; \u0026#34;R2-D2\u0026#34; \u0026#34;Darth Vader\u0026#34; ... ## $ height : int [1:87] 172 167 96 202 150 178 165 97 183 182 ... ## $ mass : num [1:87] 77 75 32 136 49 120 75 32 84 77 ... ## $ hair_color: chr [1:87] \u0026#34;blond\u0026#34; NA NA \u0026#34;none\u0026#34; ... ## $ skin_color: chr [1:87] \u0026#34;fair\u0026#34; \u0026#34;gold\u0026#34; \u0026#34;white, blue\u0026#34; \u0026#34;white\u0026#34; ... ## $ eye_color : chr [1:87] \u0026#34;blue\u0026#34; \u0026#34;yellow\u0026#34; \u0026#34;red\u0026#34; \u0026#34;yellow\u0026#34; ... ## $ birth_year: num [1:87] 19 112 33 41.9 19 52 47 NA 24 57 ... ## $ sex : chr [1:87] \u0026#34;male\u0026#34; \u0026#34;none\u0026#34; \u0026#34;none\u0026#34; \u0026#34;male\u0026#34; ... ## $ gender : chr [1:87] \u0026#34;masculine\u0026#34; \u0026#34;masculine\u0026#34; \u0026#34;masculine\u0026#34; \u0026#34;masculine\u0026#34; ... ## $ homeworld : chr [1:87] \u0026#34;Tatooine\u0026#34; \u0026#34;Tatooine\u0026#34; \u0026#34;Naboo\u0026#34; \u0026#34;Tatooine\u0026#34; ... ## $ species : chr [1:87] \u0026#34;Human\u0026#34; \u0026#34;Droid\u0026#34; \u0026#34;Droid\u0026#34; \u0026#34;Human\u0026#34; ... Para fazer um resumo de todas as vari√°veis da base, podemos usar a fun√ß√£o summary() que, para vari√°veis num√©ricas, calcula a m√©dia e os quartis, e mostra a quantidade de NA. summary(sw) ## name height mass hair_color ## Length:87 Min. : 66.0 Min. : 15.00 Length:87 ## Class :character 1st Qu.:167.0 1st Qu.: 55.60 Class :character ## Mode :character Median :180.0 Median : 79.00 Mode :character ## Mean :174.4 Mean : 97.31 ## 3rd Qu.:191.0 3rd Qu.: 84.50 ## Max. :264.0 Max. :1358.00 ## NA\u0026#39;s :6 NA\u0026#39;s :28 ## skin_color eye_color birth_year sex ## Length:87 Length:87 Min. : 8.00 Length:87 ## Class :character Class :character 1st Qu.: 35.00 Class :character ## Mode :character Mode :character Median : 52.00 Mode :character ## Mean : 87.57 ## 3rd Qu.: 72.00 ## Max. :896.00 ## NA\u0026#39;s :44 ## gender homeworld species ## Length:87 Length:87 Length:87 ## Class :character Class :character Class :character ## Mode :character Mode :character Mode :character ## ## ## ## Note que, para vari√°veis l√≥gicas, de texto (character) ou categ√≥ricas (factor), aparecem poucas informa√ß√µes. Logo, pode ser interessante fazer uma tabela com a contagem de com as categorias de uma vari√°vel. Isto √© poss√≠vel por meio da fun√ß√£o table() e aplicaremos prop.table(table()) para visualizar em percentuais. table(sw$hair_color) # contagem ## ## auburn auburn, grey auburn, white black blond ## 1 1 1 13 3 ## blonde brown brown, grey grey none ## 1 18 1 1 37 ## unknown white ## 1 4 prop.table(table(sw$hair_color)) # percentual ## ## auburn auburn, grey auburn, white black blond ## 0.01219512 0.01219512 0.01219512 0.15853659 0.03658537 ## blonde brown brown, grey grey none ## 0.01219512 0.21951220 0.01219512 0.01219512 0.45121951 ## unknown white ## 0.01219512 0.04878049 Tamb√©m podemos fazer uma ‚Äúcontagem cruzada‚Äù incluindo mais uma vari√°vel em table(): table(sw$hair_color, sw$gender) ## ## feminine masculine ## auburn 1 0 ## auburn, grey 0 1 ## auburn, white 0 1 ## black 3 9 ## blond 0 3 ## blonde 1 0 ## brown 6 11 ## brown, grey 0 1 ## grey 0 1 ## none 5 31 ## unknown 0 0 ## white 1 3 Fam√≠lia de fun√ß√µes apply Veremos uma fam√≠lia de ‚Ä¶","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"db4fdb7340c6e26622e1762f8d2f668b","permalink":"https://fhnishida.netlify.app/project/rec5004/sec3/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec5004/sec3/","section":"project","summary":"It covers topics such as data manipulation, apply functions, etc. Also provides an introduction to the dplyr package and its functions for column manipulation (select, rename, mutate), row manipulation (filter, arrange), and grouping of rows (summarize). The page also includes examples of using these functions with the Star Wars dataset. Additionally, the page discusses the use of the pipe operator (%\u003e%) and join functions for merging data frames.","tags":null,"title":"Data Manipulation","type":"book"},{"authors":null,"categories":null,"content":"Introduction to Python (Part 3):\nMatrices (part 2) Loops (for) Figures TA Session 3 Recording (in Portuguese) Script file: Monitoria-3_v2.py Problem Set 1 Solution: Lista-1_Resolucao_v2.pdf Complementary content PEP 8 (Style Guide for Python) Pyplot Tutorial (Figures) Python Course (in Portuguese): ‚ÄúIntrodu√ß√£o √† Ci√™ncia da Computa√ß√£o com Python Parte 1‚Äù (F√°bio Kon, IME-USP) Python Course (in Portuguese): ‚ÄúIntrodu√ß√£o √† Ci√™ncia da Computa√ß√£o com Python Parte 2‚Äù (F√°bio Kon, IME-USP) üëâ Proceed to Session 4 ","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"2404e6586833ddaa2150fa62a5b16c4e","permalink":"https://fhnishida.netlify.app/project/rec5002-1/sec3/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec5002-1/sec3/","section":"project","summary":"Learn how to use Wowchemy's docs layout for publishing online courses, software documentation, and tutorials.","tags":null,"title":"Session 3 (May 04, 2021)","type":"book"},{"authors":null,"categories":null,"content":"Political Business Cycle: Nordhaus Model Chiang (1999): Section 7.6 TA Session 3 Recording (in Portuguese) Complementary content AP_KuhnTucker_EqDif.pdf üëâ Proceed to Session 4 ","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"82d51fc7c1ede41f0d8cf6c204ec6143","permalink":"https://fhnishida.netlify.app/project/rec5002-2/sec3/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec5002-2/sec3/","section":"project","summary":"Learn how to use Wowchemy's docs layout for publishing online courses, software documentation, and tutorials.","tags":null,"title":"Session 3 (July 06, 2021)","type":"book"},{"authors":null,"categories":null,"content":" Agora, veremos formas mais gerais de testes de hip√≥tese, que n√£o s√£o normalmente informadas nos resultados das regress√µes. Teste de Wald Considere:\n$G$ o n√∫mero de restri√ß√µes lineares $\\boldsymbol{\\beta}$ √© um vetor de par√¢metros $(K+1) \\times 1$ $\\boldsymbol{h}$ √© um vetor de constantes $G \\times 1$ $\\boldsymbol{R}$ √© uma matriz $G \\times (K+1)$, que empilha $G$ vetores-linha $\\boldsymbol{r}\u0026#39;_g$ de dimens√µes $1 \\times (K+1)$, para $g=1, 2, ..., G$ Modelo multivariado: $$y = \\beta_0 + \\beta_1 x_1 + \\beta_2 x_2 + ... + \\beta_K x_K + \\varepsilon$$ A partir destas matrizes e vetores, √© poss√≠vel construir testes de hip√≥tese na forma: \\begin{align}\r\\text{H}_0: \u0026amp;\\underset{G\\times (K+1)}{\\boldsymbol{R}} \\underset{(K+1)\\times 1}{\\boldsymbol{\\beta}} = \\underset{G \\times 1}{\\boldsymbol{h}} \\\\\r\\text{H}_0: \u0026amp;\\left[ \\begin{matrix} \\boldsymbol{r}\u0026#39;_1 \\\\ \\boldsymbol{r}\u0026#39;_2 \\\\ \\vdots \\\\ \\boldsymbol{r}\u0026#39;_{G} \\end{matrix} \\right] \\boldsymbol{\\beta} = \\left[ \\begin{matrix} h_1 \\\\ h_2 \\\\ \\vdots \\\\ h_G \\end{matrix} \\right] \\\\\r\\text{H}_0: \u0026amp;\\left\\{ \\begin{matrix} \\boldsymbol{r}\u0026#39;_1 \\boldsymbol{\\beta} = h_1 \\\\ \\boldsymbol{r}\u0026#39;_2 \\boldsymbol{\\beta} = h_2 \\\\ \\vdots \\\\ \\boldsymbol{r}\u0026#39;_G \\boldsymbol{\\beta} = h_G \\end{matrix} \\right.\r\\end{align}\nUma restri√ß√£o linear Considere o modelo: $$y = \\beta_0 + \\beta_1 x_1 + \\beta_2 x_2 + \\varepsilon$$\nLogo, h√° $K=2$ vari√°veis explicativas (e h√° 3 par√¢metros)\n1 restri√ß√£o linear $\\Longrightarrow \\ G=1$\nLogo, neste caso espec√≠fico, temos $$\\boldsymbol{R} = \\boldsymbol{r}\u0026#39;_1\\ \\implies\\ \\text{H}_0:\\ \\boldsymbol{r}\u0026#39;_1 \\boldsymbol{\\beta} = h_1 $$\nAvaliando a hip√≥tese nula com restri√ß√£o √∫nica Para o caso com uma √∫nica restri√ß√£o, assumimos que $$ \\boldsymbol{r}\u0026#39;_1 \\hat{\\boldsymbol{\\beta}} \\sim N(\\boldsymbol{r}\u0026#39;_1 \\hat{\\boldsymbol{\\beta}};\\ \\boldsymbol{r}\u0026#39;_1 \\boldsymbol{V(\\hat{\\boldsymbol{\\beta}}) r_1})$$\nCalcula-se a estat√≠stica de Wald (igual √† estat√≠stica t, quando tem uma √∫nica restri√ß√£o): $$ w = t = \\frac{\\boldsymbol{r}\u0026#39;_1 \\hat{\\boldsymbol{\\beta}} - h_1}{\\sqrt{\\boldsymbol{r}\u0026#39;_1 \\hat{\\sigma}^2 (\\boldsymbol{X}\u0026#39;\\boldsymbol{X})^{-1} \\boldsymbol{r}_1}} = \\frac{\\boldsymbol{r}\u0026#39;_1 \\hat{\\boldsymbol{\\beta}} - h_1}{\\sqrt{\\boldsymbol{r}\u0026#39;_1 \\boldsymbol{V(\\hat{\\boldsymbol{\\beta}})} \\boldsymbol{r}_1}} $$\nEscolhe-se o n√≠vel de signific√¢ncia $\\alpha$ e rejeita-se a hip√≥tese nula se a estat√≠stica t n√£o pertencer ao intervalo de confian√ßa.\nExemplo 1: H$_0: \\ \\beta_1 = 4$ Note que $h_1 = 4$ O vetor $r\u0026#39;_1$ pode ser escrito como $$ r\u0026#39;_1 = \\left[ \\begin{matrix} 0 \u0026amp; 1 \u0026amp; 0 \\end{matrix} \\right] $$ Ent√£o, a hip√≥tese nula √© $$\\text{H}_0:\\ \\boldsymbol{r}\u0026#39;_1 \\boldsymbol{\\beta}\\ =\\ \\left[ \\begin{matrix} 0 \u0026amp; 1 \u0026amp; 0 \\end{matrix} \\right] \\left[ \\begin{matrix} \\beta_0 \\\\ \\beta_1 \\\\ \\beta_2 \\end{matrix} \\right] = 4\\ \\iff\\ \\beta_1 = 4 $$\nE o denomidor da estat√≠stica t √© igual a: \\begin{align} \u0026amp;\\sqrt{\\boldsymbol{r}\u0026#39;_1 \\boldsymbol{V(\\hat{\\boldsymbol{\\beta}})} \\boldsymbol{r}_1} \\\\\r\u0026amp;= \\sqrt{\\left[ \\begin{matrix} 0 \u0026amp; 1 \u0026amp; 0 \\end{matrix} \\right] {\\small \\begin{bmatrix}\rvar(\\hat{\\beta}_0) \u0026amp; cov(\\hat{\\beta}_0, \\hat{\\beta}_1) \u0026amp; cov(\\hat{\\beta}_0, \\hat{\\beta}_2) \\\\\rcov(\\hat{\\beta}_0, \\hat{\\beta}_1) \u0026amp; var(\\hat{\\beta}_1) \u0026amp; cov(\\hat{\\beta}_1, \\hat{\\beta}_2) \\\\\rcov(\\hat{\\beta}_0, \\hat{\\beta}_2) \u0026amp; cov(\\hat{\\beta}_1, \\hat{\\beta}_2) \u0026amp; var(\\hat{\\beta}_2) \\\\\r\\end{bmatrix}} \\left[ \\begin{matrix} 0 \\\\ 1 \\\\ 0 \\end{matrix} \\right]} \\\\\r\u0026amp;= \\sqrt{\\small{\\begin{bmatrix}\rcov(\\hat{\\beta}_0, \\hat{\\beta}_1) \u0026amp; var(\\hat{\\beta}_1) \u0026amp; cov(\\hat{\\beta}_1, \\hat{\\beta}_2)\r\\end{bmatrix}} \\left[ \\begin{matrix} 0 \\\\ 1 \\\\ 0 \\end{matrix} \\right]} \\\\\r\u0026amp;= \\sqrt{var(\\hat{\\beta}_1)} = se(\\hat{\\beta}_1) \\end{align}\nExemplo 2: H$_0: \\ \\beta_1 + \\beta_2 = 2$ Note que $h_1 = 2$ O vetor $r\u0026#39;_1$ pode ser escrito como $$ r\u0026#39;_1 = \\left[ \\begin{matrix} 0 \u0026amp; 1 \u0026amp; 1 \\end{matrix} \\right] $$ Ent√£o, a hip√≥tese nula √© $$\\text{H}_0:\\ \\boldsymbol{r}\u0026#39;_1 \\boldsymbol{\\beta}\\ =\\ \\left[ \\begin{matrix} 0 \u0026amp; 1 \u0026amp; 1 \\end{matrix} \\right] \\left[ \\begin{matrix} \\beta_0 \\\\ \\beta_1 \\\\ \\beta_2 \\end{matrix} \\right] = 2\\ \\iff\\ \\beta_1 + \\beta_2 = 2 $$\nE o denomidor da estat√≠stica t √© igual a: \\begin{align} \u0026amp;\\sqrt{\\boldsymbol{r}\u0026#39;_1 \\boldsymbol{V(\\hat{\\boldsymbol{\\beta}})} \\boldsymbol{r}_1} \\\\\r\u0026amp;= \\sqrt{\\left[ \\begin{matrix} 0 \u0026amp; 1 \u0026amp; 1 \\end{matrix} \\right] {\\small \\begin{bmatrix}\rvar(\\hat{\\beta}_0) \u0026amp; cov(\\hat{\\beta}_0, \\hat{\\beta}_1) \u0026amp; cov(\\hat{\\beta}_0, \\hat{\\beta}_2) \\\\\rcov(\\hat{\\beta}_0, \\hat{\\beta}_1) \u0026amp; var(\\hat{\\beta}_1) \u0026amp; cov(\\hat{\\beta}_1, \\hat{\\beta}_2) \\\\\rcov(\\hat{\\beta}_0, \\hat{\\beta}_2) \u0026amp; cov(\\hat{\\beta}_1, \\hat{\\beta}_2) \u0026amp; var(\\hat{\\beta}_2) \\\\\r\\end{bmatrix}} \\left[ \\begin{matrix} 0 \\\\ 1 \\\\ 1 \\end{matrix} \\right]} \\\\\r\u0026amp;= \\sqrt{\\small{\\begin{bmatrix}\rcov(\\hat{\\beta}_0, \\hat{\\beta}_1)+cov(\\hat{\\beta}_0, \\hat{\\beta}_2) \\\\ var(\\hat{\\beta}_1) + cov(\\hat{\\beta}_1, \\hat{\\beta}_2) \\\\ cov(\\hat{\\beta}_1, \\hat{\\beta}_2) + var(\\hat{\\beta}_2)\r\\end{bmatrix}}\u0026#39; \\left[ \\begin{matrix} 0 \\\\ 1 \\\\ 1 \\end{matrix} \\right]} \\\\\r\u0026amp;= \\sqrt{var(\\hat{\\beta}_1) + var(\\hat{\\beta}_2) + 2cov(\\hat{\\beta}_1, \\hat{\\beta}_2)} = \\sqrt{var(\\hat{\\beta}_1 + ‚Ä¶","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"f501cac7f314e270de13d9b4ac3befee","permalink":"https://fhnishida.netlify.app/project/rec2312/sec3/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec2312/sec3/","section":"project","summary":"Learn how to use Wowchemy's docs layout for publishing online courses, software documentation, and tutorials.","tags":null,"title":"Testes de Hip√≥tese","type":"book"},{"authors":null,"categories":null,"content":"Estrutura dos Dados Se√ß√£o 2.1.1 de ‚ÄúPanel Data Econometrics with R‚Äù (Croissant \u0026amp; Millo, 2018) A maioria das nota√ß√µes foram adaptadas de acordo com as notas de aula de Econometria I. Corte Transversal At√© agora, utilizamos bases de dados em corte transversal (ou cross-section, em ingl√™s), ou seja, em que cada linha representava um indiv√≠duo $i = 1, ..., N$ e observamos as realiza√ß√µes da vari√°vel dependente $y$ e das vari√°veis explicativas $k = 1, 2, ..., K$:\nExemplo Considerando $N = 4$ indiv√≠duos e $K = 2$ covariadas, segue o exemplo:\nPainel Tamb√©m √© comum utilizarmos dados em painel, isto √©, uma base de dados em que observamos os indiv√≠duos $i = 1, ..., N$ nos $t = 1, ..., T$ per√≠odos.\nEste tipo de estrutura de dado permite, al√©m de fazer compara√ß√µes inter-indiv√≠duos (between), avaliar diferen√ßas intra-indiv√≠duos (within) a partir das varia√ß√µes ocorridas ao longo do tempo para um mesmo indiv√≠duo.\nPor simplicidade, consideramos que todos indiv√≠duos possuem $T$ observa√ß√µes ao longo do tempo (painel balanceado). Al√©m disso, dados em painel podem estar dispostos de duas formas: longa ou curta.\nPainel longo (long, em ingl√™s) Aqui, cada indiv√≠duo aparece em $T$ linhas. Cada observa√ß√£o √© indicada pela dupla $i$ e $t$ (vari√°veis-chave da base de dados). Essa √© a forma padr√£o utilizada em Econometria.\nPainel curto (wide, em ingl√™s) Na forma curta, as informa√ß√µes das vari√°veis dependentes e independentes aparecem repetidamente por $T$ vezes, sendo que cada repeti√ß√£o corresponde a um dos $T$ per√≠odos:\nExemplos Como exemplo, consideramos $N = 4$ indiv√≠duos e $K = 2$ covariadas e $T = 2$ per√≠odos. As bases de dados em paineis longo e curto, respectivamente, teriam as seguintes estruturas:\nModelo em Painel Para a observa√ß√£o do indiv√≠duo $i \\in \\{1, ..., N\\}$ no per√≠odo $t \\in \\{1, ..., T\\}$, podemos escrever o modelo como:\n$$ y_{it} = \\boldsymbol{x}\u0026#39;_{it} \\boldsymbol{\\beta} + \\varepsilon_{it} \\tag{1} $$ em que $\\boldsymbol{\\beta}$ √© um vetor-coluna de $K$ par√¢metros\n$$ \\boldsymbol{\\beta} = \\left[ \\begin{array}{c} \\beta_0 \\\\ \\beta_1 \\\\ \\beta_2 \\\\ \\vdots \\\\ \\beta_K \\end{array} \\right], $$ $y_{it}$ √© a vari√°vel dependente, $\\boldsymbol{x}\u0026#39;_{it}$ √© o vetor-linha de dimens√£o $K+1$:\n$$ \\boldsymbol{x}\u0026#39;_{it} = \\left[ \\begin{array}{c} 1 \u0026amp; x^1_{it} \u0026amp; x^2_{it} \u0026amp; \\cdots \u0026amp; x^K_{it} \\end{array} \\right], $$ e o erro $\\varepsilon_{it}$ pode ser escrito como:\n$$ \\varepsilon_{it} = u_i + v_{it}, $$ sendo $u_i$ o erro individual para o indiv√≠duo $i$ e $v_{it}$ √© o erro idiossincr√°tico (residual).\nEmpilhando as equa√ß√µes (1) para todo indiv√≠duo $i = 1, 2, ..., N$ e todo per√≠odo $t = 1, 2, ..., T $, temos\n$$ \\underbrace{\\boldsymbol{y}}_{NT \\times 1} = \\left[ \\begin{array}{c}\ry_{11} \\\\ y_{12} \\\\ \\vdots \\\\ y_{1T} \\\\\\hline y_{21} \\\\ y_{22} \\\\ \\vdots \\\\ y_{2T} \\\\\\hline \\vdots \\\\\\hline y_{N1} \\\\ y_{N2} \\\\ \\vdots \\\\ y_{NT}\r\\end{array} \\right] \\quad \\text{ e } \\quad \\underbrace{\\boldsymbol{X}}_{NT \\times K} = \\left[ \\begin{array}{c}\r\\boldsymbol{x}\u0026#39;_{11} \\\\ \\boldsymbol{x}\u0026#39;_{12} \\\\ \\vdots \\\\ \\boldsymbol{x}\u0026#39;_{1T} \\\\\\hline\r\\boldsymbol{x}\u0026#39;_{21} \\\\ \\boldsymbol{x}\u0026#39;_{22} \\\\ \\vdots \\\\ \\boldsymbol{x}\u0026#39;_{2T} \\\\\\hline\r\\vdots \\\\\\hline\r\\boldsymbol{x}\u0026#39;_{N1} \\\\ \\boldsymbol{x}\u0026#39;_{N2} \\\\ \\vdots \\\\ \\boldsymbol{x}\u0026#39;_{NT} \\end{array} \\right]\r= \\left[ \\begin{array}{ccccc}\r1 \u0026amp; x^1_{11} \u0026amp; x^2_{11} \u0026amp; \\cdots \u0026amp; x^K_{11} \\\\\r1 \u0026amp; x^1_{12} \u0026amp; x^2_{12} \u0026amp; \\cdots \u0026amp; x^K_{12} \\\\\r\\vdots \u0026amp; \\vdots \u0026amp; \\vdots \u0026amp; \\ddots \u0026amp; \\vdots \\\\\r1 \u0026amp; x^1_{1T} \u0026amp; x^2_{1T} \u0026amp; \\cdots \u0026amp; x^K_{1T} \\\\\\hline\r1 \u0026amp; x^1_{21} \u0026amp; x^2_{21} \u0026amp; \\cdots \u0026amp; x^K_{21} \\\\\r1 \u0026amp; x^1_{22} \u0026amp; x^2_{22} \u0026amp; \\cdots \u0026amp; x^K_{22} \\\\\r\\vdots \u0026amp; \\vdots \u0026amp; \\vdots \u0026amp; \\ddots \u0026amp; \\vdots \\\\\r1 \u0026amp; x^1_{2T} \u0026amp; x^2_{2T} \u0026amp; \\cdots \u0026amp; x^K_{2T} \\\\\\hline\r\\vdots \u0026amp; \\vdots \u0026amp; \\vdots \u0026amp; \\ddots \u0026amp; \\vdots \\\\\\hline\r1 \u0026amp; x^1_{N1} \u0026amp; x^2_{N1} \u0026amp; \\cdots \u0026amp; x^K_{N1} \\\\\r1 \u0026amp; x^1_{N2} \u0026amp; x^2_{N2} \u0026amp; \\cdots \u0026amp; x^K_{N2} \\\\\r\\vdots \u0026amp; \\vdots \u0026amp; \\vdots \u0026amp; \\ddots \u0026amp; \\vdots \\\\\r1 \u0026amp; x^1_{NT} \u0026amp; x^2_{NT} \u0026amp; \\cdots \u0026amp; x^K_{NT}\r\\end{array} \\right] $$ As linhas horizontais foram inseridas apenas para facilitar a visualiza√ß√£o dos valores referentes a cada indiv√≠duo $i$.\nMatriz de Vari√¢ncias-Covari√¢ncias dos Erros Se√ß√£o 2.2 de ‚ÄúPanel Data Econometrics with R‚Äù (Croissant \u0026amp; Millo, 2018) A Matriz de Vari√¢ncias-Covari√¢ncias dos Erros relaciona um termo de erro, $\\varepsilon_{it}$, com todos os demais termos de erro $\\varepsilon_{js}$, para todo $j = 1, ..., N$ e todo $a = 1, ..., T$.\nNa matriz de covari√¢ncia de erro, cada linha representa um $\\varepsilon_{it}$ e cada coluna representa um $\\varepsilon_{jt}$. Seus elementos representam a covari√¢ncia entre $\\varepsilon_{it}$ e $\\varepsilon_{jt}$, sendo que pode haver $\\varepsilon_{it} = \\varepsilon_{jt}$ (que, neste caso, torna-se vari√¢ncia):\n$$ cov(\\boldsymbol{\\varepsilon}) = \\underset{NT \\times NT}{\\boldsymbol{\\Sigma}} =$$ $$ \\left[ \\tiny \\begin{array}{cccc|ccc|c|ccc}\rvar(\\varepsilon_{{\\color{red}1}1}) \u0026amp; cov(\\varepsilon_{{\\color{red}1}1}, \\varepsilon_{{\\color{red}1}2}) \u0026amp; \\cdots \u0026amp; cov(\\varepsilon_{{\\color{red}1}1}, \\varepsilon_{{\\color{red}1}T}) \u0026amp; ‚Ä¶","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"423e217e603aca1514af299afe816394","permalink":"https://fhnishida.netlify.app/project/rec2312/sec4/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec2312/sec4/","section":"project","summary":"This page includes a section on panel data estimation with R and provides examples of data structures and models. The content is based on the book ‚ÄúPanel Data Econometrics with R‚Äù by Croissant \u0026 Millo (2018) and adapted from lecture notes on Econometrics I.","tags":null,"title":"Estima√ß√£o com Dados em Painel","type":"book"},{"authors":null,"categories":null,"content":"Pacote dplyr Vignette - Introduction to dplyr O pacote dplyr facilita a manipula√ß√£o dos dados por meio de fun√ß√µes simples e computacionalmente eficientes As fun√ß√µes pode, ser organizadas em tr√™s categorias: Colunas: select(): seleciona (ou retira) as colunas do data frame rename(): muda os nomes das colunas mutate(): cria ou muda os valores nas colunas Linhas: filter(): seleciona linhas de acordo com valores das colunas arrange(): organiza a ordem das linhas Grupo de linhas: summarise(): colapsa um grupo em uma √∫nica linha Nesta subse√ß√£o, continuaremos utilizando a base de dados de Star Wars (starwars), utilizada na subse√ß√£o anterior. Voc√™ ir√° notar que, ao usar essas fun√ß√µes, o data frame √© transformado em um tibble que √© um formato mais eficiente para tratar dados tabulares, mas que funciona de forma igual a um data frame. library(\u0026#34;dplyr\u0026#34;) # Carregando pacote ## ## Attaching package: \u0026#39;dplyr\u0026#39; ## The following objects are masked from \u0026#39;package:stats\u0026#39;: ## ## filter, lag ## The following objects are masked from \u0026#39;package:base\u0026#39;: ## ## intersect, setdiff, setequal, union head(starwars) # olhando primeiras linhas da base contida no pacote ## # A tibble: 6 √ó 14 ## name height mass hair_color skin_color eye_color birth_year sex gender ## \u0026lt;chr\u0026gt; \u0026lt;int\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; ## 1 Luke Sky‚Ä¶ 172 77 blond fair blue 19 male mascu‚Ä¶ ## 2 C-3PO 167 75 \u0026lt;NA\u0026gt; gold yellow 112 none mascu‚Ä¶ ## 3 R2-D2 96 32 \u0026lt;NA\u0026gt; white, bl‚Ä¶ red 33 none mascu‚Ä¶ ## 4 Darth Va‚Ä¶ 202 136 none white yellow 41.9 male mascu‚Ä¶ ## 5 Leia Org‚Ä¶ 150 49 brown light brown 19 fema‚Ä¶ femin‚Ä¶ ## 6 Owen Lars 178 120 brown, gr‚Ä¶ light blue 52 male mascu‚Ä¶ ## # ‚Ñπ 5 more variables: homeworld \u0026lt;chr\u0026gt;, species \u0026lt;chr\u0026gt;, films \u0026lt;list\u0026gt;, ## # vehicles \u0026lt;list\u0026gt;, starships \u0026lt;list\u0026gt; Filtre linhas com filter() Permite selecionar um subconjunto de linhas de um data frame filter(.data, ...) .data: A data frame, data frame extension (e.g. a tibble), or a lazy data frame (e.g. from dbplyr or dtplyr). ...\t: \u0026lt;data-masking\u0026gt; Expressions that return a logical value, and are defined in terms of the variables in .data. If multiple expressions are included, they are combined with the \u0026amp; operator. Only rows for which all conditions evaluate to TRUE are kept. starwars1 = filter(starwars, species == \u0026#34;Human\u0026#34;, height \u0026gt;= 100) starwars1 ## # A tibble: 31 √ó 14 ## name height mass hair_color skin_color eye_color birth_year sex gender ## \u0026lt;chr\u0026gt; \u0026lt;int\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; ## 1 Luke Sk‚Ä¶ 172 77 blond fair blue 19 male mascu‚Ä¶ ## 2 Darth V‚Ä¶ 202 136 none white yellow 41.9 male mascu‚Ä¶ ## 3 Leia Or‚Ä¶ 150 49 brown light brown 19 fema‚Ä¶ femin‚Ä¶ ## 4 Owen La‚Ä¶ 178 120 brown, gr‚Ä¶ light blue 52 male mascu‚Ä¶ ## 5 Beru Wh‚Ä¶ 165 75 brown light blue 47 fema‚Ä¶ femin‚Ä¶ ## 6 Biggs D‚Ä¶ 183 84 black light brown 24 male mascu‚Ä¶ ## 7 Obi-Wan‚Ä¶ 182 77 auburn, w‚Ä¶ fair blue-gray 57 male mascu‚Ä¶ ## 8 Anakin ‚Ä¶ 188 84 blond fair blue 41.9 male mascu‚Ä¶ ## 9 Wilhuff‚Ä¶ 180 NA auburn, g‚Ä¶ fair blue 64 male mascu‚Ä¶ ## 10 Han Solo 180 80 brown fair brown 29 male mascu‚Ä¶ ## # ‚Ñπ 21 more rows ## # ‚Ñπ 5 more variables: homeworld \u0026lt;chr\u0026gt;, species \u0026lt;chr\u0026gt;, films \u0026lt;list\u0026gt;, ## # vehicles \u0026lt;list\u0026gt;, starships \u0026lt;list\u0026gt; # Equivalente a: starwars[starwars$species == \u0026#34;Human\u0026#34; \u0026amp; starwars$height \u0026gt;= 100, ] ## # A tibble: 39 √ó 14 ## name height mass hair_color skin_color eye_color birth_year sex gender ## \u0026lt;chr\u0026gt; \u0026lt;int\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; ## 1 Luke Sk‚Ä¶ 172 77 blond fair blue 19 male mascu‚Ä¶ ## 2 Darth V‚Ä¶ 202 136 none white yellow 41.9 male mascu‚Ä¶ ## 3 Leia Or‚Ä¶ 150 49 brown light brown 19 fema‚Ä¶ femin‚Ä¶ ## 4 Owen La‚Ä¶ 178 120 brown, gr‚Ä¶ light blue 52 male mascu‚Ä¶ ## 5 Beru Wh‚Ä¶ 165 75 brown light blue 47 fema‚Ä¶ femin‚Ä¶ ## 6 Biggs D‚Ä¶ 183 84 black light brown 24 male mascu‚Ä¶ ## 7 Obi-Wan‚Ä¶ 182 77 auburn, w‚Ä¶ fair blue-gray 57 male mascu‚Ä¶ ## 8 Anakin ‚Ä¶ 188 84 blond fair blue 41.9 male mascu‚Ä¶ ## 9 Wilhuff‚Ä¶ 180 NA auburn, g‚Ä¶ fair blue 64 male mascu‚Ä¶ ## 10 Han Solo 180 80 brown fair brown 29 male mascu‚Ä¶ ## # ‚Ñπ 29 more rows ## # ‚Ñπ 5 more variables: homeworld \u0026lt;chr\u0026gt;, species \u0026lt;chr\u0026gt;, films \u0026lt;list\u0026gt;, ## # vehicles \u0026lt;list\u0026gt;, starships \u0026lt;list\u0026gt; Organize linhas com arrange() Reordena as linhas a partir de um conjunto de nomes de coluna arrange(.data, ..., .by_group = FALSE) .data: A data frame, data frame extension (e.g. a tibble), or a lazy data frame (e.g. from dbplyr or dtplyr). ... : \u0026lt;data-masking\u0026gt; Variables, or functions of variables. Use desc() to sort a variable in descending order. Se for inserido mais de um nome de vari√°vel, organiza de acordo com a 1¬™ vari√°vel e, em caso de ter linhas com o mesmo valor na 1¬™ vari√°vel, ordena estas linhas de mesmo valor de acordo com a 2¬™ vari√°vel Para usar a ordem decrescente, temos a fun√ß√£o desc() starwars2 = arrange(starwars1, height, desc(mass)) starwars2 ## # A tibble: 31 √ó 14 ## name height mass hair_color skin_color eye_color birth_year sex gender ## \u0026lt;chr\u0026gt; \u0026lt;int\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; ## 1 Leia Or‚Ä¶ 150 49 brown light brown 19 fema‚Ä¶ femin‚Ä¶ ## 2 Mon Mot‚Ä¶ 150 NA auburn fair blue 48 fema‚Ä¶ femin‚Ä¶ ## 3 Cord√© 157 ‚Ä¶","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"0e612f74cb55a0b1e54025c4e91b5990","permalink":"https://fhnishida.netlify.app/project/rec2301/sec4/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec2301/sec4/","section":"project","summary":"The page provides an introduction to the dplyr package and its functions for column manipulation (select, rename, mutate), row manipulation (filter, arrange), and grouping of rows (summarize). The page also includes examples of using these functions with the Star Wars dataset. Additionally, the page discusses the use of the pipe operator (%\u003e%) and join functions for merging data frames.","tags":null,"title":"Manipula√ß√£o via dplyr","type":"book"},{"authors":null,"categories":null,"content":"Neoclassical Growth Model TA Session 4 Recording (in Portuguese) Presentation: Monitoria-4_Apresentacao.pdf Script file: Monitoria-4.py üëâ Proceed to Session 5 ","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"5b55e7957f4db57bc91aee8080815c2c","permalink":"https://fhnishida.netlify.app/project/rec5002-1/sec4/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec5002-1/sec4/","section":"project","summary":"Learn how to use Wowchemy's docs layout for publishing online courses, software documentation, and tutorials.","tags":null,"title":"Session 4 (May 11, 2021)","type":"book"},{"authors":null,"categories":null,"content":"Problem Set 1 Problem Set 1 Solution üëâ Proceed to Session 5 ","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"58e2c21f08885aa618ff386963f11794","permalink":"https://fhnishida.netlify.app/project/rec5002-2/sec4/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec5002-2/sec4/","section":"project","summary":"Learn how to use Wowchemy's docs layout for publishing online courses, software documentation, and tutorials.","tags":null,"title":"Session 4 (July 16, 2021)","type":"book"},{"authors":null,"categories":null,"content":" Exploratory graphs - Part 1 (John Hopkins/Coursera)\nBase plotting system - Part 2 (John Hopkins/Coursera)\nBase plotting demonstration (John Hopkins/Coursera)\nAplica√ß√µes R Base (The R Graph Gallery)\nObjetivos dos gr√°ficos em an√°lise de dados:\nEntender as propriedades dos dados Encontrar padr√µes nos dados Sugerir estrat√©gias de modelagem Analisar ‚Äúbugs‚Äù Comunicar resultados An√°lise Explorat√≥ria de Dados (EDA) Os gr√°ficos para an√°lise explorat√≥ria abrangem os 4 primeiros objetivos, ou seja, n√£o s√£o para comunicar um resultado final do seu trabalho. Caracter√≠sticas: Feitas rapidamente e em grande quantidade O objetivo √© o entendimento dos dados Eixos/legendas normalmente s√£o retiradas Cores/tamanhos s√£o primariamente usadas para informa√ß√£o Principais gr√°ficos: Diagrama de caixa (Boxplot) Histogramas Gr√°fico de barra (Barplot) Gr√°fico de dispers√£o (Scatterplot) Como exemplo, usaremos dados da Ag√™ncia de Prote√ß√£o Ambiental dos EUA (EPA), avgpm25.csv, que informa a quantidade de polui√ß√£o por part√≠cula fina (PM2.5). A m√©dia anual de PM2.5 que n√£o pode exceder 12 $\\mu g/m^3$.\npollution = read.csv(\u0026#34;https://fhnishida.netlify.app/project/rec5004/avgpm25.csv\u0026#34;) summary(pollution) ## pm25 fips region longitude ## Min. : 3.383 Min. : 1003 Length:576 Min. :-158.04 ## 1st Qu.: 8.549 1st Qu.:16038 Class :character 1st Qu.: -97.38 ## Median :10.047 Median :28034 Mode :character Median : -87.37 ## Mean : 9.836 Mean :28431 Mean : -91.65 ## 3rd Qu.:11.356 3rd Qu.:41045 3rd Qu.: -80.72 ## Max. :18.441 Max. :56039 Max. : -68.26 ## latitude ## Min. :19.68 ## 1st Qu.:35.30 ## Median :39.09 ## Mean :38.56 ## 3rd Qu.:41.75 ## Max. :64.82 Diagrama de caixa (Boxplot) Apresenta m√≠nimo, m√°ximo, os quartis e outliers. boxplot(pollution$pm25, col=\u0026#34;blue\u0026#34;) abline(h=12, col=\u0026#34;red\u0026#34;) # Linha horizontal no valor 12 - Para m√∫ltiplos boxplots, usamos ` ~ `:\rboxplot(pollution$pm25 ~ pollution$region, col=\u0026#34;blue\u0026#34;) abline(h=12, col=\u0026#34;red\u0026#34;) # Linha horizontal no valor 12 Histograma hist(pollution$pm25, col=\u0026#34;green\u0026#34;) hist(pollution$pm25, col=\u0026#34;green\u0026#34;, breaks=100) # 100 quebras rug(pollution$pm25) # Tra√ßos dos valores da amostra abaixo do histograma abline(v=12, col=\u0026#34;red\u0026#34;) # Linha vertical no valor 12 - Podemos colocar mais de um gr√°fico numa figura usando a fun√ß√£o `par(mfrow, mar)`:\rpar(mfrow=c(2, 1), mar=c(4, 4, 2, 1)) # Criando figura com 2 linhas e 1 coluna + margens pol_west = pollution[pollution$region == \u0026#34;west\u0026#34;,] pol_east = pollution[pollution$region == \u0026#34;east\u0026#34;,] hist(pol_west$pm25, col=\u0026#34;green\u0026#34;) hist(pol_east$pm25, col=\u0026#34;green\u0026#34;) Note que voc√™ precisa usar par(mfrow=c(1, 1)) para voltar a incluir apenas 1 gr√°fico na figura. Gr√°fico de barra (Barplot) barplot(table(pollution$region), col=\u0026#34;wheat\u0026#34;, main=\u0026#34;N¬∫ de pa√≠ses em cada regi√£o\u0026#34;) Gr√°fico de dispers√£o (Scatterplot) Gera gr√°ficos sob 2 dimens√µes plot(pollution$latitude, pollution$pm25) abline(h=12, lwd=1.5, lty=2, col=\u0026#34;red\u0026#34;) abline(lm(pm25 ~ latitude, data=pollution), col=\u0026#34;blue\u0026#34;) par(mfrow=c(1, 2), mar=c(4, 4, 2, 1)) # Criando figura com 1 linha e 2 colunas + margens plot(pol_west$latitude, pol_west$pm25, main=\u0026#34;West\u0026#34;) plot(pol_east$latitude, pol_east$pm25, main=\u0026#34;East\u0026#34;) Tamb√©m √© poss√≠vel adicionar objetos gr√°ficos e textos no gr√°fico gerado por plot(): abline(): adiciona linhas horizontal, vertical ou de regress√£o points(): adiciona pontos ao gr√°fico lines(): adiciona linhas ao gr√°fico text(): adiciona texto ao gr√°fico title(): adiciona anota√ß√µes aos eixos, t√≠tulo, subt√≠tulo e margem exterior mtext(): adiciona texto √†s margens (interna e externa) do gr√°fico axis(): adiciona tra√ßos/r√≥tulos aos eixos par(mfrow=c(1, 1)) # Retornando ao padr√£o air_may = airquality[airquality$Month==5,] air_other = airquality[airquality$Month!=5,] plot(airquality$Wind, airquality$Ozone, main=\u0026#34;Ozone and Wind in NYC\u0026#34;) points(air_may$Wind, air_may$Ozone, col=\u0026#34;blue\u0026#34;) points(air_other$Wind, air_other$Ozone, col=\u0026#34;red\u0026#34;) legend(\u0026#34;topright\u0026#34;, pch=1, col=c(\u0026#34;blue\u0026#34;, \u0026#34;red\u0026#34;), legend=c(\u0026#34;May\u0026#34;, \u0026#34;Other Months\u0026#34;)) Alguns par√¢metros gr√°ficos importantes:\npch: s√≠mbolo dos pontos gr√°ficos (padr√£o √© c√≠rculo) lty: tipo da linha (padr√£o √© linha s√≥lida, mais pode ser pontilhado, etc.) lwd: grossura da linha (integer) col: cor, especificada como n√∫mero, texto ou c√≥digo hex (fun√ß√£o colors() d√° um vetor de cores por nome) xlab: r√≥tulo do eixo x ylab: r√≥tulo do eixo y par(): fun√ß√£o que especifica par√¢metros globais que afetam todas figuras: las: orienta√ß√£o dos r√≥tulos bg: cor de fundo mar: tamanho da margem oma: tamanho da margem externa (padr√£o √© 0) mfrow: n√∫mero de gr√°ficos por linha mfcol: n√∫mero de gr√°ficos por coluna Grammar of Graphics (ggplot2) ggplot2 - Part 3 (John Hopkins/Coursera)\nggplot2 - Part 4 (John Hopkins/Coursera)\nggplot2 Cheat Sheet\nAplica√ß√µes ggplot2 (The R Graph Gallery)\nComponentes b√°sicos do ggplot2:\num data frame est√©tica (aesthetics): como os dados s√£o mapeados (tamanho, forma, cor) objetos geom√©tricos (geoms): pontos, linhas, formas facets: para gr√°ficos condicionais Ao inv√©s de criar um gr√°fico diretamente, os gr√°ficos do ggplot2 s√£o ‚Ä¶","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"cbe848159cca86e14c92337aa080aee8","permalink":"https://fhnishida.netlify.app/project/rec5004/sec4/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec5004/sec4/","section":"project","summary":"The page includes examples of using R for data analysis with the help of graphs such as boxplots, histograms, barplots and scatterplots. It also provides information on the Grammar of Graphics (ggplot2) and its components.","tags":null,"title":"Data Visualization","type":"book"},{"authors":null,"categories":null,"content":" A parte de Econometria no R √© baseada no livro de Florian Heiss ‚ÄúUsing R for Introductory Econometrics‚Äù (2¬™ edi√ß√£o, 2020) Aplica no R o conte√∫do e os exemplos do livro do Wooldridge de 2019 (vers√£o em ingl√™s) √â poss√≠vel ler gratuitamente a vers√£o online em: http://www.urfie.net H√° tamb√©m uma vers√£o de Python do livro em: http://www.upfie.net A base de dados dos exemplos contidos no livro do Wooldridge podem ser obtidos por meio da instala√ß√£o e do carregamento do pacote wooldridge: # install.packages(\u0026#34;wooldridge\u0026#34;) library(wooldridge) Distribui√ß√µes Se√ß√£o 1.7 de Heiss (2020)\nProbability Distributions in R (Examples): PDF, CDF \u0026amp; Quantile Function (Statistics Globe)\nBasic Probability Distributions in R (Greg Graham)\nAs fun√ß√µes relacionadas a distribui√ß√µes s√£o dadas por \u0026lt;prefixo\u0026gt;\u0026lt;nome da distribui√ß√£o\u0026gt;\nExistem 4 prefixos que indicam qual a√ß√£o ser√° realizada:\nd: retorna uma probabilidade a partir de uma fun√ß√£o de densidade de probabilidade (fdp) p: retorna uma probabilidade acumulada a partir de uma fun√ß√£o de distribui√ß√£o acumulada (fda) q: retorna uma estat√≠stica da distribui√ß√£o (quantil) dada uma probabilidade acumulada r: gera n√∫meros aleat√≥rios dada a distribui√ß√£o Existem diversas distribui√ß√µes dispon√≠veis no R:\nnorm: Normal bern: Bernoulli (pacote Rlab) binom: Binomial pois: Poisson chisq: Qui-Quadrado ( $\\chi^2$) t: t-Student f: F unif: Uniforme weibull: Weibull gamma: Gamma logis: Log√≠stica exp: Exponencial Seguem as principais distribui√ß√µes e suas respectivas fun√ß√µes:\nDistribui√ß√£o Densidade de Probabilidade Distribui√ß√£o Acumulada Quantil Normal dnorm(x, mean, sd) pnorm(q, mean, sd) qnorm(p, mean, sd) Qui-Quadrado dchisq(x, df) pchisq(q, df) qchisq(p, df) t-Student dt(x, df) pt(q, df) qt(p, df) F df(x, df1, df2) pf(q, df1, df2) qf(p, df1, df2) Binomial dbinom(x, size, prob) pbinom(q, size, prob) qbinom(p, size, prob) em que x e q s√£o estat√≠sticas de cada distribui√ß√£o (quantis), e p √© probabilidade.\nDistribui√ß√£o Normal Considere uma normal padr√£o, $N(\\mu=0, \\sigma=1)$, e escores padr√£o $Z=-1,96 \\text{ e } 1,96$ (para intervalo de confian√ßa de $\\approx 5\\%$): [d]: Densidade a partir de uma fdp, dada estat√≠stica (escore padr√£o): dnorm(1.96, mean=0, sd=1) # probabilidade para escore padr√£o de 1,96 ## [1] 0.05844094 dnorm(-1.96, mean=0, sd=1) # probabilidade para escore padr√£o de -1,96 ## [1] 0.05844094 [p]: Probabilidade acumulada a partir de uma fda, dada estat√≠stica (escore padr√£o): pnorm(1.96, mean=0, sd=1) # probabilidade acumulada para escore padr√£o de 1,96 ## [1] 0.9750021 pnorm(-1.96, mean=0, sd=1) # probabilidade acumulada para escore padr√£o de -1,96 ## [1] 0.0249979 Logo, a probabilidade de que uma vari√°vel aleat√≥ria com distribui√ß√£o normal padr√£o esteja com valor entre -1,96 e 1,96 √© de 95%\npnorm(1.96, mean=0, sd=1) - pnorm(-1.96, mean=0, sd=1) ## [1] 0.9500042 [q]: Estat√≠stica (escore padr√£o) a partir de um quantil: qnorm(0.975, mean=0, sd=1) # quantil dada o quantil de 97,5% ## [1] 1.959964 qnorm(0.025, mean=0, sd=1) # quantil dada o quantil de 2,5% ## [1] -1.959964 Podemos criar gr√°ficos usando a fun√ß√£o curve( function(x), from, to ), na qual inserimos uma fun√ß√£o com um x arbitr√°rio e seus limites m√≠nimo e m√°ximo (from e to):\n# pdf de normal padr√£o com estat√≠stica (escore padr√£o) no intervalo -3 e 3 curve(dnorm(x, mean=0, sd=1), from=-3, to=3) # cdf de normal padr√£o com estat√≠stica (escore padr√£o) no intervalo -3 e 3 curve(pnorm(x, mean=0, sd=1), from=-3, to=3) # quantil de normal padr√£o com probabilidade acumulada no intervalo 0 e 1 curve(qnorm(x, mean=0, sd=1), from=0, to=1) Distribui√ß√£o t-Student Criaremos gr√°ficos com diversos graus de liberdade Quanto maior os graus de liberdade, mais se aproxima de uma normal padr√£o curve(dnorm(x, mean=0, sd=1), from=-3, to=3, pch=\u0026#34;.\u0026#34;) # fdp normal padr√£o for (n in c(10, 5, 3, 2)) { curve(dt(x, df=n), from=-3, to=3, col=n, add=T) # fdp t-student } Simula√ß√£o Amostragem aleat√≥ria Simulation - Random sampling (John Hopkins/Coursera) Para fazer uma amostragem a partir de um dado vetor, usamos a fun√ß√£o sample() sample(x, size, replace = FALSE, prob = NULL) x: either a vector of one or more elements from which to choose, or a positive integer. See ‚ÄòDetails.‚Äô n: a positive number, the number of items to choose from. size: a non-negative integer giving the number of items to choose. replace: should sampling be with replacement? prob: a vector of probability weights for obtaining the elements of the vector being sampled. sample(letters, 5) # Amostragem de 5 letras ## [1] \u0026#34;w\u0026#34; \u0026#34;n\u0026#34; \u0026#34;m\u0026#34; \u0026#34;j\u0026#34; \u0026#34;h\u0026#34; sample(1:10, 4) # Amostragem de 4 n√∫meros de 1 a 10 ## [1] 5 10 8 6 sample(1:10) # Permuta√ß√£o (amostra mesma qtd de elementos do vetor) ## [1] 2 10 6 1 5 9 7 3 4 8 sample(1:10, replace = TRUE) # Amostragem com reposi√ß√£o ## [1] 2 9 9 4 5 1 10 1 4 5 Note que, por padr√£o, a fun√ß√£o sample() faz a amostragem sem reposi√ß√£o. Visualizando a Lei dos Grandes N√∫meros (LGN) Podemos usar a amostragem para simular jogadas de dado n√£o viesado. Vamos jogar uma vez o dado: sample(1:6, 1) # amostra ‚Ä¶","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"ae802403f9df2c4e0e64e88fa3fa966e","permalink":"https://fhnishida.netlify.app/project/rec2301/sec6/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec2301/sec6/","section":"project","summary":"The page also includes examples of how to use R for statistical analysis, working with probability distributions and simulations.","tags":null,"title":"Distribui√ß√µes","type":"book"},{"authors":null,"categories":null,"content":" A parte de Econometria no R √© baseada no livro de Florian Heiss ‚ÄúUsing R for Introductory Econometrics‚Äù (2¬™ edi√ß√£o, 2020) Aplica no R o conte√∫do e os exemplos do livro do Wooldridge de 2019 (vers√£o em ingl√™s) √â poss√≠vel ler gratuitamente a vers√£o online em: http://www.urfie.net H√° tamb√©m uma vers√£o de Python do livro em: http://www.upfie.net A base de dados dos exemplos contidos no livro do Wooldridge podem ser obtidos por meio da instala√ß√£o e do carregamento do pacote wooldridge: install.packages(\u0026#34;wooldridge\u0026#34;) Distribui√ß√µes Se√ß√£o 1.7 de Heiss (2020)\nProbability Distributions in R (Examples): PDF, CDF \u0026amp; Quantile Function (Statistics Globe)\nBasic Probability Distributions in R (Greg Graham)\nAs fun√ß√µes relacionadas a distribui√ß√µes s√£o dadas por \u0026lt;prefixo\u0026gt;\u0026lt;nome da distribui√ß√£o\u0026gt;\nExistem 4 prefixos que indicam qual a√ß√£o ser√° realizada:\nd: retorna uma probabilidade a partir de uma fun√ß√£o de densidade de probabilidade (pdf) p: retorna uma probabilidade acumulada a partir de uma fun√ß√£o de distribui√ß√£o acumulada (cdf) q: retorna uma estat√≠stica da distribui√ß√£o (quantil) dada uma probabilidade acumulada r: gera n√∫meros aleat√≥rios dada a distribui√ß√£o Existem diversas distribui√ß√µes dispon√≠veis no R:\nnorm: Normal bern: Bernoulli (pacote Rlab) binom: Binomial pois: Poisson chisq: Qui-Quadrado ( $\\chi^2$) t: t-Student f: F unif: Uniforme weibull: Weibull gamma: Gamma logis: Log√≠stica exp: Exponencial Seguem as principais distribui√ß√µes e suas respectivas fun√ß√µes:\nDistribui√ß√£o Densidade de Probabilidade Distribui√ß√£o Acumulada Quantil Normal dnorm(x, mean, sd) pnorm(q, mean, sd) qnorm(p, mean, sd) Qui-Quadrado dchisq(x, df) pchisq(q, df) qchisq(p, df) t-Student dt(x, df) pt(q, df) qt(p, df) F df(x, df1, df2) pf(q, df1, df2) qf(p, df1, df2) Binomial dbinom(x, size, prob) pbinom(q, size, prob) qbinom(p, size, prob) em que x e q s√£o estat√≠sticas de cada distribui√ß√£o (quantis), e p √© probabilidade.\nDistribui√ß√£o Normal Considere uma normal padr√£o, $N(\\mu=0, \\sigma=1)$, e escores padr√£o $Z=-1,96 \\text{ e } 1,96$ (para intervalo de confian√ßa de $\\approx 5\\%$): [d]: Densidade a partir de uma pdf, dada estat√≠stica (escore padr√£o): dnorm(1.96, mean=0, sd=1) # probabilidade para escore padr√£o de 1,96 ## [1] 0.05844094 dnorm(-1.96, mean=0, sd=1) # probabilidade para escore padr√£o de -1,96 ## [1] 0.05844094 [p]: Probabilidade acumulada a partir de uma cdf, dada estat√≠stica (escore padr√£o): pnorm(1.96, mean=0, sd=1) # probabilidade acumulada para escore padr√£o de 1,96 ## [1] 0.9750021 pnorm(-1.96, mean=0, sd=1) # probabilidade acumulada para escore padr√£o de -1,96 ## [1] 0.0249979 Logo, a probabilidade de que uma vari√°vel aleat√≥ria com distribui√ß√£o normal padr√£o esteja com valor entre -1,96 e 1,96 √© de 95%\npnorm(1.96, mean=0, sd=1) - pnorm(-1.96, mean=0, sd=1) ## [1] 0.9500042 [q]: Estat√≠stica (escore padr√£o) a partir de um quantil: qnorm(0.975, mean=0, sd=1) # quantil dada o quantil de 97,5% ## [1] 1.959964 qnorm(0.025, mean=0, sd=1) # quantil dada o quantil de 2,5% ## [1] -1.959964 Podemos criar gr√°ficos usando a fun√ß√£o curve( function(x), from, to ), na qual inserimos uma fun√ß√£o com um x arbitr√°rio e seus limites m√≠nimo e m√°ximo (from e to):\n# pdf de normal padr√£o com estat√≠stica (escore padr√£o) no intervalo -3 e 3 curve(dnorm(x, mean=0, sd=1), from=-3, to=3) # cdf de normal padr√£o com estat√≠stica (escore padr√£o) no intervalo -3 e 3 curve(pnorm(x, mean=0, sd=1), from=-3, to=3) # quantil de normal padr√£o com probabilidade acumulada no intervalo 0 e 1 curve(qnorm(x, mean=0, sd=1), from=0, to=1) Distribui√ß√£o t-Student Criaremos gr√°ficos com diversos graus de liberdade Quanto maior os graus de liberdade, mais se aproxima de uma normal padr√£o curve(dnorm(x, mean=0, sd=1), from=-3, to=3, pch=\u0026#34;.\u0026#34;) # pdf normal padr√£o for (n in c(1, 2, 4, 6, 10)) { curve(dt(x, df=n), from=-3, to=3, col=n, add=T) # pdf t-student } Distribui√ß√£o Qui-Quadrado Criaremos gr√°ficos com diversos graus de liberdade curve(dchisq(x, df=1), from=0, to=6, col=n) # pdf qui-quadrado for (n in c(2:5)) { curve(dchisq(x, df=n), from=0, to=6, col=n, add=T) # pdf qui-quadrado } Distribui√ß√£o F Criaremos gr√°ficos com diversos graus de liberdade curve(df(x, df1=1, df2=1), from=0, to=6, col=n) # pdf F for (n in c(2:5)) { curve(df(x, df1=n, df2=n), from=0, to=6, col=n, add=T) # pdf F } Simula√ß√£o Gera√ß√£o de n√∫meros aleat√≥rios Simulation - Random sampling (John Hopkins/Coursera) Para gerar n√∫meros aleat√≥rios, usaremos o prefixo r junto de uma distribui√ß√£o. rnorm(5) # gerando 5 n√∫meros aleat√≥rios ## [1] 1.9263422 0.8835259 0.4614015 -0.5351940 -0.2656456 Para reproduzir resultados que usem n√∫meros aleat√≥rios, podemos definir ‚Äúsementes‚Äù usando a fun√ß√£o set.seed() e informando um n√∫mero inteiro. Isso tamb√©m √© v√°lido para a fun√ß√£o sample(). # definindo seed set.seed(2022) rnorm(5) ## [1] 0.9001420 -1.1733458 -0.8974854 -1.4445014 -0.3310136 # sem definir seed rnorm(5) ## [1] -2.9006290 -1.0592557 0.2779547 0.7494859 0.2415825 # definindo seed set.seed(2022) rnorm(5) ## [1] 0.9001420 ‚Ä¶","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"31f353af29250e02c4c389efae8d7db2","permalink":"https://fhnishida.netlify.app/project/rec5004/sec5/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec5004/sec5/","section":"project","summary":"The page also includes examples of how to use R for statistical analysis, working with probability distributions and simulations.","tags":null,"title":"Distributions","type":"book"},{"authors":null,"categories":null,"content":"Manipula√ß√£o de dados em painel Para o que estamos estudando, √© normalmente exigido que os dados estejam no formato long: para cada indiv√≠duo, temos uma linha para cada per√≠odo; balanceados: o tamanho da amostra √© $N \\times T$, com $N$ indiv√≠duos e $T$ per√≠odos; e devidamente ordenados por indiv√≠duos e, depois, por tempo. Em muitos casos, as informa√ß√µes s√£o disponibilizadas em v√°rias bases de dados de cortes transversais (cross sections), ent√£o √© necess√°rio estruturar a base de dados em painel. Isso por ser feito no R de, pelo menos, duas formas: empilhando as bases de dados e filtrando apenas indiv√≠duos que aparecem em todos per√≠odos; ou fazendo a jun√ß√£o interna (inner join) das bases por indiv√≠duo e transformando do formato wide para o long. Como exemplo, usaremos a PNAD Cont√≠nua que √© publicada trimestralmente e possui o pacote PNADcIBGE que auxilia na sua utiliza√ß√£o. Os dados podem ser obtidos viaread_pnadc(microdata, input_txt) que necessita que voc√™ fa√ßa download das bases de dados e do txt com informa√ß√µes das vari√°veis (input_txt) no FTP do IBGE: # install.packages(\u0026#34;PNADcIBGE\u0026#34;) # install.packages(\u0026#34;dplyr\u0026#34;) library(PNADcIBGE) library(dplyr) O arquivo compactado .zip √© cerca de 12% do arquivo descompactado .txt (133mb $\\times$ 1,08gb). Para n√£o precisar manter o arquivo .txt no computador, podemos usar a fun√ß√£o unz() para descompactar arquivos temporariamente: # Descompactando as bases da PNADc e carregando no R pnad_012021 = read_pnadc(unz(\u0026#34;PNADC_012021_20220224.zip\u0026#34;, \u0026#34;PNADC_012021.txt\u0026#34;), input_txt = \u0026#34;input_PNADC_trimestral.txt\u0026#34;) pnad_022021 = read_pnadc(unz(\u0026#34;PNADC_022021_20220224.zip\u0026#34;, \u0026#34;PNADC_022021.txt\u0026#34;), input_txt = \u0026#34;input_PNADC_trimestral.txt\u0026#34;) Para identificar um indiv√≠duo na base do PNAD, o IBGE usa as seguintes vari√°veis-chave: UPA: Unidade Prim√°ria de Amostragem / UF (2) + N¬∫ Sequencial (6) + DV (1) V1008: N√∫mero do domic√≠lio (01 a 14) V1014: Painel/Grupo de amostra (01 a 99) V2003: N√∫mero de ordem (01 a 30) Pesquisadores do Ipea (Teixeira J√∫nior et al., 2020) usam mais algumas vari√°veis-chave invariantes no tempo para tornar esse V2007: Sexo V2008/V20081/V20082: Data de nascimento (dia/m√™s/ano) Al√©m disso, vamos adicionar mais algumas vari√°veis: invariante no tempo: UF: Unidade da Federa√ß√£o variantes no tempo: V2009: Idade (em anos) VD4020: Rendimento mensal efetivo de todos os trabalhos para pessoas de 14 anos ou mais de idade # Lista de vari√°veis que vamos utilizar lista_var = c(\u0026#34;Trimestre\u0026#34;, \u0026#34;UPA\u0026#34;, \u0026#34;V1008\u0026#34;, \u0026#34;V1014\u0026#34;, \u0026#34;V2003\u0026#34;, \u0026#34;V2007\u0026#34;, \u0026#34;V2008\u0026#34;, \u0026#34;V20081\u0026#34;, \u0026#34;V20082\u0026#34;, \u0026#34;UF\u0026#34;, \u0026#34;V2009\u0026#34;, \u0026#34;VD4020\u0026#34;) # Selecionando e renomeando vari√°veis, e filtrando apenas maiores de 14 anos pnad_1 = pnad_012021 %\u0026gt;% select(all_of(lista_var)) %\u0026gt;% rename(DOMIC = V1008, PAINEL = V1014, ORDEM = V2003, SEXO = V2007, DIA_NASC = V2008, MES_NASC = V20081, ANO_NASC = V20082, IDADE = V2009, RENDA = VD4020) %\u0026gt;% filter(IDADE \u0026gt;= 14) pnad_2 = pnad_022021 %\u0026gt;% select(all_of(lista_var)) %\u0026gt;% rename(DOMIC = V1008, PAINEL = V1014, ORDEM = V2003, SEXO = V2007, DIA_NASC = V2008, MES_NASC = V20081, ANO_NASC = V20082, IDADE = V2009, RENDA = VD4020) %\u0026gt;% filter(IDADE \u0026gt;= 14) Empilhando bases de dados e filtrando indiv√≠duos que aparecem em todos os per√≠odos Primeiro, empilharemos as bases de dados usando rbind(). √â necess√°rio garantir que tenham o mesmo n√∫mero de colunas e estas sejam da mesma classe (character, numeric, etc.): pnad_bind = rbind(pnad_1, pnad_2) head(pnad_bind) ## # A tibble: 6 √ó 12 ## Trimestre UPA DOMIC PAINEL ORDEM SEXO DIA_N‚Ä¶¬π MES_N‚Ä¶¬≤ ANO_N‚Ä¶¬≥ UF IDADE ## \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;dbl\u0026gt; ## 1 1 110000‚Ä¶ 01 08 01 2 16 05 1981 11 39 ## 2 1 110000‚Ä¶ 01 08 02 2 12 06 2000 11 20 ## 3 1 110000‚Ä¶ 01 08 03 2 15 05 2004 11 16 ## 4 1 110000‚Ä¶ 01 08 04 1 26 07 1947 11 73 ## 5 1 110000‚Ä¶ 01 08 05 2 15 08 1961 11 59 ## 6 1 110000‚Ä¶ 02 08 01 2 11 07 1983 11 37 ## # ‚Ä¶ with 1 more variable: RENDA \u0026lt;dbl\u0026gt;, and abbreviated variable names ## # ¬π‚ÄãDIA_NASC, ¬≤‚ÄãMES_NASC, ¬≥‚ÄãANO_NASC Note que a 2¬™ observa√ß√£o n√£o corresponde √† mesma pessoa da 1¬∫ linha. Vamos criar uma vari√°vel ID, juntando informa√ß√µes de todas vari√°veis-chave, e rearranjar a base de dados de acordo com ela e o trimestre: pnad_bind = pnad_bind %\u0026gt;% mutate( ID = paste0(UPA, DOMIC, PAINEL, ORDEM, SEXO, DIA_NASC, MES_NASC, ANO_NASC) ) %\u0026gt;% select(ID, everything()) %\u0026gt;% # reordenando vari√°veis, come√ßando com ID arrange(ID, Trimestre) head(pnad_bind, 10) ## # A tibble: 10 √ó 13 ## ID Trime‚Ä¶¬π UPA DOMIC PAINEL ORDEM SEXO DIA_N‚Ä¶¬≤ MES_N‚Ä¶¬≥ ANO_N‚Ä¶‚Å¥ UF ## \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; ## 1 1100000‚Ä¶ 1 1100‚Ä¶ 01 08 01 2 16 05 1981 11 ## 2 1100000‚Ä¶ 1 1100‚Ä¶ 01 08 02 2 12 06 2000 11 ## 3 1100000‚Ä¶ 1 1100‚Ä¶ 01 08 03 2 15 05 2004 11 ## 4 1100000‚Ä¶ 1 1100‚Ä¶ 01 08 04 1 26 07 1947 11 ## 5 1100000‚Ä¶ 1 1100‚Ä¶ 01 08 05 2 15 08 1961 11 ## 6 1100000‚Ä¶ 1 1100‚Ä¶ 02 08 01 2 11 07 1983 11 ## 7 1100000‚Ä¶ 2 1100‚Ä¶ 02 08 01 2 11 07 1983 11 ## 8 1100000‚Ä¶ 1 1100‚Ä¶ 02 08 02 1 99 99 9999 11 ## 9 1100000‚Ä¶ 2 1100‚Ä¶ 02 08 02 1 99 99 9999 11 ## 10 1100000‚Ä¶ 1 1100‚Ä¶ 03 08 01 2 09 03 1976 11 ‚Ä¶","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"0cfa53593e359782c6382cf3829fbaf0","permalink":"https://fhnishida.netlify.app/project/rec2312/sec5/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec2312/sec5/","section":"project","summary":"Learn how to use Wowchemy's docs layout for publishing online courses, software documentation, and tutorials.","tags":null,"title":"Manipula√ß√£o de Dados em Painel via tidyr","type":"book"},{"authors":null,"categories":null,"content":"Problem Set 2 TA Session 5 Recording (in Portuguese) Problem Set 2 Solution: Lista-2_Resolucao.pdf Script File: Lista-2_v2.py üëâ Proceed to Session 6 ","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"2c2a95c919cf21643867ab10c8aa00f7","permalink":"https://fhnishida.netlify.app/project/rec5002-1/sec5/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec5002-1/sec5/","section":"project","summary":"Learn how to use Wowchemy's docs layout for publishing online courses, software documentation, and tutorials.","tags":null,"title":"Session 5 (May 18, 2021)","type":"book"},{"authors":null,"categories":null,"content":"The Neoclassical Theory of Optimal Growth Chiang (1999): Section 9.3 TA Session 5 Recording (in Portuguese) Presentation: AP_Monitoria-5_pt2.pdf Problem Set 2 Problem Set 2 Solution üëâ Proceed to Session 6 ","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"32e7c3b9f17b1a172a414c0179e0a6a4","permalink":"https://fhnishida.netlify.app/project/rec5002-2/sec5/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec5002-2/sec5/","section":"project","summary":"Learn how to use Wowchemy's docs layout for publishing online courses, software documentation, and tutorials.","tags":null,"title":"Session 5 (May 18, 2021)","type":"book"},{"authors":null,"categories":null,"content":" Exploratory graphs - Part 1 (John Hopkins/Coursera)\nBase plotting system - Part 2 (John Hopkins/Coursera)\nBase plotting demonstration (John Hopkins/Coursera)\nAplica√ß√µes R Base (The R Graph Gallery)\nObjetivos dos gr√°ficos em an√°lise de dados:\nEntender as propriedades dos dados Encontrar padr√µes nos dados Sugerir estrat√©gias de modelagem Analisar ‚Äúbugs‚Äù Comunicar resultados An√°lise Explorat√≥ria de Dados (EDA) Os gr√°ficos para an√°lise explorat√≥ria abrangem os 4 primeiros objetivos, ou seja, n√£o s√£o para comunicar um resultado final do seu trabalho. Caracter√≠sticas: Feitas rapidamente e em grande quantidade O objetivo √© o entendimento dos dados Eixos/legendas normalmente s√£o retiradas Cores/tamanhos s√£o primariamente usadas para informa√ß√£o Principais gr√°ficos simples: a. Diagrama de caixa (Boxplot) b. Histogramas c. Gr√°fico de barra (Barplot) d. Gr√°fico de dispers√£o (Scatterplot) Como exemplo, usaremos dados da Ag√™ncia de Prote√ß√£o Ambiental dos EUA (EPA), avgpm25.csv, que informa a quantidade de polui√ß√£o por part√≠cula fina (PM2.5). A m√©dia anual de PM2.5 que n√£o pode exceder 12 \\(\\mu g/m^3\\).\nlibrary(dplyr) ## Warning: package \u0026#39;dplyr\u0026#39; was built under R version 4.2.2 ## ## Attaching package: \u0026#39;dplyr\u0026#39; ## The following objects are masked from \u0026#39;package:stats\u0026#39;: ## ## filter, lag ## The following objects are masked from \u0026#39;package:base\u0026#39;: ## ## intersect, setdiff, setequal, union pollution = read.csv(\u0026#34;https://fhnishida-rec5004.netlify.app/docs/avgpm25.csv\u0026#34;) summary(pollution) ## pm25 fips region longitude ## Min. : 3.383 Min. : 1003 Length:576 Min. :-158.04 ## 1st Qu.: 8.549 1st Qu.:16038 Class :character 1st Qu.: -97.38 ## Median :10.047 Median :28034 Mode :character Median : -87.37 ## Mean : 9.836 Mean :28431 Mean : -91.65 ## 3rd Qu.:11.356 3rd Qu.:41045 3rd Qu.: -80.72 ## Max. :18.441 Max. :56039 Max. : -68.26 ## latitude ## Min. :19.68 ## 1st Qu.:35.30 ## Median :39.09 ## Mean :38.56 ## 3rd Qu.:41.75 ## Max. :64.82 Diagrama de caixa (Boxplot) Apresenta m√≠nimo, m√°ximo, os quartis e outliers. boxplot(pollution$pm25, col=\u0026#34;blue\u0026#34;) abline(h=12, col=\u0026#34;red\u0026#34;) # Linha horizontal no valor 12 - Para m√∫ltiplos boxplots, usamos ` ~ `:\rboxplot(pollution$pm25 ~ pollution$region, col=\u0026#34;blue\u0026#34;) abline(h=12, col=\u0026#34;red\u0026#34;) # Linha horizontal no valor 12 Histograma hist(pollution$pm25, col=\u0026#34;green\u0026#34;) hist(pollution$pm25, col=\u0026#34;green\u0026#34;, breaks=100) # 100 quebras rug(pollution$pm25) # Tra√ßos dos valores da amostra abaixo do histograma abline(v=12, col=\u0026#34;red\u0026#34;) # Linha vertical no valor 12 - Podemos colocar mais de um gr√°fico numa figura usando a fun√ß√£o `par(mfrow, mar)`:\rpar(mfrow=c(2, 1), mar=c(4, 4, 2, 1)) # Criando figura com 2 linhas e 1 coluna + margens pol_west = pollution %\u0026gt;% filter(region == \u0026#34;west\u0026#34;) pol_east = pollution %\u0026gt;% filter(region == \u0026#34;east\u0026#34;) hist(pol_west$pm25, col=\u0026#34;green\u0026#34;) hist(pol_east$pm25, col=\u0026#34;green\u0026#34;) Note que voc√™ precisa usar par(mfrow=c(1, 1)) para voltar a incluir apenas 1 gr√°fico na figura. Gr√°fico de barra (Barplot) barplot(table(pollution$region), col=\u0026#34;wheat\u0026#34;, main=\u0026#34;N¬∫ de pa√≠ses em cada regi√£o\u0026#34;) Gr√°fico de dispers√£o (Scatterplot) Gera gr√°ficos sob 2 dimens√µes plot(pollution$latitude, pollution$pm25) abline(h=12, lwd=1.5, lty=2, col=\u0026#34;red\u0026#34;) abline(lm(pm25 ~ latitude, data=pollution), col=\u0026#34;blue\u0026#34;) par(mfrow=c(1, 2), mar=c(4, 4, 2, 1)) # Criando figura com 1 linha e 2 colunas + margens plot(pol_west$latitude, pol_west$pm25, main=\u0026#34;West\u0026#34;) plot(pol_east$latitude, pol_east$pm25, main=\u0026#34;East\u0026#34;) Tamb√©m √© poss√≠vel adicionar objetos gr√°ficos e textos no gr√°fico gerado por plot(): abline(): adiciona linhas horizontal, vertical ou de regress√£o points(): adiciona pontos ao gr√°fico lines(): adiciona linhas ao gr√°fico text(): adiciona texto ao gr√°fico title(): adiciona anota√ß√µes aos eixos, t√≠tulo, subt√≠tulo e margem exterior mtext(): adiciona texto √†s margens (interna e externa) do gr√°fico axis(): adiciona tra√ßos/r√≥tulos aos eixos par(mfrow=c(1, 1)) # Retornando ao padr√£o air_may = airquality %\u0026gt;% filter(Month==5) air_other = airquality %\u0026gt;% filter(Month!=5) plot(airquality$Wind, airquality$Ozone, main=\u0026#34;Ozone and Wind in NYC\u0026#34;) points(air_may$Wind, air_may$Ozone, col=\u0026#34;blue\u0026#34;) points(air_other$Wind, air_other$Ozone, col=\u0026#34;red\u0026#34;) legend(\u0026#34;topright\u0026#34;, pch=1, col=c(\u0026#34;blue\u0026#34;, \u0026#34;red\u0026#34;), legend=c(\u0026#34;May\u0026#34;, \u0026#34;Other Months\u0026#34;)) Alguns par√¢metros gr√°ficos importantes:\npch: s√≠mbolo dos pontos gr√°ficos (padr√£o √© c√≠rculo) lty: tipo da linha (padr√£o √© linha s√≥lida, mais pode ser pontilhado, etc.) lwd: grossura da linha (integer) col: cor, especificada como n√∫mero, texto ou c√≥digo hex (fun√ß√£o colors() d√° um vetor de cores por nome) xlab: r√≥tulo do eixo x ylab: r√≥tulo do eixo y par(): fun√ß√£o que especifica par√¢metros globais que afetam todas figuras: las: orienta√ß√£o dos r√≥tulos bg: cor de fundo mar: tamanho da margem oma: tamanho da margem externa (padr√£o √© 0) mfrow: n√∫mero de gr√°ficos por linha mfcol: n√∫mero de gr√°ficos por coluna Grammar of Graphics (ggplot2) ggplot2 - Part 3 (John Hopkins/Coursera)\nggplot2 - Part 4 (John Hopkins/Coursera)\nggplot2 Cheat Sheet\nAplica√ß√µes ‚Ä¶","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"6b680d44156ed80099f2829f3c7ddf56","permalink":"https://fhnishida.netlify.app/project/rec2301/sec5/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec2301/sec5/","section":"project","summary":"Learn how to use Wowchemy's docs layout for publishing online courses, software documentation, and tutorials.","tags":null,"title":"Visualiza√ß√£o de Dados","type":"book"},{"authors":null,"categories":null,"content":"Neoclassical Growth Model with Uncertainty and Leisure TA Session 6 Recording (in Portuguese) Presentation: Monitoria-6_Apresentacao.pdf Script file (Uncertainty): Monitoria-6_incerteza.py Script file (Leisure): Monitoria-6_trabalho.py Problem Set 3 Problem Set 3 Solution: Lista-3_Resolucao.pdf üëâ Proceed to Session 7 ","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"18ab9854472853213e9a67d137f14af6","permalink":"https://fhnishida.netlify.app/project/rec5002-1/sec6/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec5002-1/sec6/","section":"project","summary":"Learn how to use Wowchemy's docs layout for publishing online courses, software documentation, and tutorials.","tags":null,"title":"Session 6 (May 25, 2021)","type":"book"},{"authors":null,"categories":null,"content":"Problem Set 3 Problem Set 3 Solution ","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"56704794f53bae4acce6aca6c5473649","permalink":"https://fhnishida.netlify.app/project/rec5002-2/sec6/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec5002-2/sec6/","section":"project","summary":"Learn how to use Wowchemy's docs layout for publishing online courses, software documentation, and tutorials.","tags":null,"title":"Session 6 (July 22, 2021)","type":"book"},{"authors":null,"categories":null,"content":"Regress√£o simples por MQO Se√ß√£o 2.1 de Heiss (2020) Considere o seguinte modelo emp√≠rico $$ y = \\beta_0 + \\beta_1 x + \\varepsilon \\tag{2.1} $$ Os estimadores de m√≠nimos quadrados ordin√°rios (MQO), segundo Wooldridge (2006, Se√ß√£o 2.2) √© dado por \\begin{align}\r\\hat{\\beta}_0 \u0026amp;= \\bar{y} - \\hat{\\beta}_1 \\bar{x} \\tag{2.2}\\\\\r\\hat{\\beta}_1 \u0026amp;= \\frac{cov(x,y)}{var(x)} \\tag{2.3}\r\\end{align} E os valores ajustados/preditos, $\\hat{y}$ √© dado por $$ \\hat{y} = \\hat{\\beta}_0 + \\hat{\\beta}_1 x \\tag{2.4} $$ e os res√≠duos podem ser obtidos por $$ \\hat{\\varepsilon} = y - \\hat{y} $$ Exemplo 2.3: Sal√°rio de CEO e Retorno sobre Equity Considere o seguinte modelo de regress√£o simples $$ \\text{salary} = \\beta_0 + \\beta_1 \\text{roe} + \\varepsilon $$ em que salary √© a remunera√ß√£o de um CEO em milhares de d√≥lares e roe √© o retorno sobre o patrim√¥nio l√≠quido em percentual. Estima√ß√£o Anal√≠tica (‚Äúna m√£o‚Äù) # Carregando a base de dados do pacote \u0026#39;wooldridge\u0026#39; data(ceosal1, package=\u0026#34;wooldridge\u0026#34;) cov(ceosal1$salary, ceosal1$roe) # covari√¢ncia entre salary e roe ## [1] 1342.538 var(ceosal1$roe) # vari√¢ncia do retorno sobre o patrim√¥nio l√≠quido ## [1] 72.56499 mean(ceosal1$roe) # m√©dia do retorno sobre o patrim√¥nio l√≠quido ## [1] 17.18421 mean(ceosal1$salary) # m√©dia do sal√°rio ## [1] 1281.12 # C√°lculo \u0026#34;na m√£o\u0026#34; das estimativas de MQO b1hat = cov(ceosal1$salary, ceosal1$roe) / var(ceosal1$roe) # por (2.3) b1hat ## [1] 18.50119 b0hat = mean(ceosal1$salary) - b1hat*mean(ceosal1$roe) # por (2.2) b0hat ## [1] 963.1913 Vemos que um incremento de uma unidade (porcento) no retorno sobre o patrim√¥nio l√≠quido (roe), aumentar 18 unidades (milhares de d√≥lares) nos sal√°rios dos CEOs. Estima√ß√£o via lm() Uma maneira mais conveniente de fazer a estima√ß√£o por MQO √© usando a fun√ß√£o lm() Em um modelo univariado, inserimos dois vetores (vari√°veis dependente e independente) separados por um til (~): lm(ceosal1$salary ~ ceosal1$roe) ## ## Call: ## lm(formula = ceosal1$salary ~ ceosal1$roe) ## ## Coefficients: ## (Intercept) ceosal1$roe ## 963.2 18.5 Tamb√©m podemos deixar de usar o prefixo ceosal1$ antes dos nomes do vetores ao preenchermos o argumento data = ceosal1 lm(salary ~ roe, data=ceosal1) ## ## Call: ## lm(formula = salary ~ roe, data = ceosal1) ## ## Coefficients: ## (Intercept) roe ## 963.2 18.5 Podemos usar a fun√ß√£o lm() para incluir uma reta de regress√£o no gr√°fico # Gr√°fico de dispers√£o (scatter) plot(ceosal1$roe, ceosal1$salary) # Adicionando a reta de regress√£o abline(lm(salary ~ roe, data=ceosal1), col=\u0026#34;red\u0026#34;) Coeficientes, Valores Ajustados e Res√≠duos Se√ß√£o 2.2 de Heiss (2020) Podemos ‚Äúguardar‚Äù os resultados da estima√ß√£o em um objeto (da classe list) e, depois, extrair informa√ß√µes dele. # atribuindo o resultado da regress√£o em um objeto reg = lm(salary ~ roe, data=ceosal1) # verificando os \u0026#34;nomes\u0026#34; das informa√ß√µes contidas no objeto names(reg) ## [1] \u0026#34;coefficients\u0026#34; \u0026#34;residuals\u0026#34; \u0026#34;effects\u0026#34; \u0026#34;rank\u0026#34; ## [5] \u0026#34;fitted.values\u0026#34; \u0026#34;assign\u0026#34; \u0026#34;qr\u0026#34; \u0026#34;df.residual\u0026#34; ## [9] \u0026#34;xlevels\u0026#34; \u0026#34;call\u0026#34; \u0026#34;terms\u0026#34; \u0026#34;model\u0026#34; Podemos usar a fun√ß√£o coef() para extrairmos um data frame com os coeficientes da regress√£o # Extraindo vetor de coeficientes da regress√£o bhat = coef(reg) bhat ## (Intercept) roe ## 963.19134 18.50119 b0hat = bhat[\u0026#34;(Intercept)\u0026#34;] # ou bhat[1] b1hat = bhat[\u0026#34;roe\u0026#34;] # ou bhat[2] Dados estes par√¢metros estimados, podemos calcular os valores ajustados/preditos, $\\hat{y}$, e os desvios, $\\hat{\\varepsilon}$, para cada observa√ß√£o $i=1, ..., n$: \\begin{align}\r\\hat{y}_i \u0026amp;= \\hat{\\beta}_0 + \\hat{\\beta}_1 . x_i \\tag{2.5} \\\\\r\\hat{\\varepsilon}_i \u0026amp;= y_i - \\hat{y}_i \\tag{2.6}\r\\end{align} # Extraindo vari√°veis de ceosal1 em vetores sal = ceosal1$salary roe = ceosal1$roe # Calculando os valores ajustados/preditos sal_hat = b0hat + (b1hat * roe) # Calculando os desvios ehat = sal - sal_hat # Visualizando as 6 primerias linhas de sal, roe, sal_hat e ehat head( cbind(sal, roe, sal_hat, ehat) ) ## sal roe sal_hat ehat ## [1,] 1095 14.1 1224.058 -129.0581 ## [2,] 1001 10.9 1164.854 -163.8543 ## [3,] 1122 23.5 1397.969 -275.9692 ## [4,] 578 5.9 1072.348 -494.3483 ## [5,] 1368 13.8 1218.508 149.4923 ## [6,] 1145 20.0 1333.215 -188.2151 Com as fun√ß√µes fitted() e resid() podemos extrair os valores ajustados e os res√≠duos do objeto com resultado da regress√£o: head( cbind(fitted(reg), resid(reg)) ) ## [,1] [,2] ## 1 1224.058 -129.0581 ## 2 1164.854 -163.8543 ## 3 1397.969 -275.9692 ## 4 1072.348 -494.3483 ## 5 1218.508 149.4923 ## 6 1333.215 -188.2151 # Ou tamb√©m head( cbind(reg$fitted, reg$residuals) ) ## [,1] [,2] ## 1 1224.058 -129.0581 ## 2 1164.854 -163.8543 ## 3 1397.969 -275.9692 ## 4 1072.348 -494.3483 ## 5 1218.508 149.4923 ## 6 1333.215 -188.2151 Na se√ß√£o 2.3 de Wooldridge (2006), vemos que a estima√ß√£o por MQO usa as seguintes hip√≥teses: \\begin{align}\r\u0026amp;\\sum^n_{i=1}{\\hat{\\varepsilon}_i} = 0 \\quad \\implies \\quad \\bar{\\hat{\\varepsilon}} = 0 \\tag{2.7} \\\\\r\u0026amp;\\sum^n_{i=1}{x_i \\hat{\\varepsilon}_i} = 0 \\quad \\implies \\quad cov(x,\\hat{\\varepsilon}) = 0 \\tag{2.8}\r\\end{align}\nPodemos verific√°-los em nosso ‚Ä¶","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"8a058b72341a9689d8dbc23a1082b3c9","permalink":"https://fhnishida.netlify.app/project/rec5004/sec6/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec5004/sec6/","section":"project","summary":"This page covers topics such as simple MQO regression and assumptions violations. Also includes examples and code snippets to illustrate the concepts discussed.","tags":null,"title":"Simple Regression","type":"book"},{"authors":null,"categories":null,"content":"Vari√°veis Instrumentais em Regress√£o Simples Se√ß√£o 15.1 de Heiss (2020) Considere a regress√£o linear simples: $$ y = \\beta_0 + \\beta_1 x + \\varepsilon \\tag{15.1} $$ O estimador de MQO seria:\n$$ \\beta^{MQO}_1 = \\frac{cov(x, y)}{var(x)} $$ Supondo que o regressor $x$ est√° relacionado com o termo de erro $\\varepsilon$, ent√£o o estimador de OLS ser√° viesado.\nConsiderando a exist√™ncia de uma vari√°vel instrumental v√°lida $z$, o estimador de vari√°vel instrumental (VI) √©:\n$$ \\beta^{VI}_1 = \\frac{cov(z, y)}{cov(z,x)} $$ Aplicando no R Exemplo 15.1: Retorno da Educa√ß√£o para Mulheres Casadas (Wooldridge, 2019) Vamos usar a base de dados mroz do pacote wooldridge para estimar o seguinte modelo $$ \\log(\\text{wage}) = \\beta_0 + \\beta_1 \\text{educ} + \\varepsilon $$ Apenas para compara√ß√£o, vamos estimar por MQO: data(mroz, package=\u0026#34;wooldridge\u0026#34;) # carregando base de dados mroz = mroz[!is.na(mroz$wage),] # retirando valores ausentes de sal√°rio reg.ols = lm(lwage ~ educ, mroz) # regress√£o por MQO round( summary(reg.ols)$coef, 5 ) ## Estimate Std. Error t value Pr(\u0026gt;|t|) ## (Intercept) -0.18520 0.18523 -0.99984 0.31795 ## educ 0.10865 0.01440 7.54513 0.00000 Usando a fun√ß√£o ivreg() Para fazer regress√£o com vari√°vel instrumental, vamos usar a fun√ß√£o ivreg() do pacote AER. √â necess√°rio incluir a vari√°vel instrumental (que neste caso √© a educa√ß√£o do pai - fatheduc), ap√≥s informar a vari√°vel explicativa educ, separada por uma |: library(AER) # carregando pacote com ivreg ## Carregando pacotes exigidos: car ## Warning: package \u0026#39;car\u0026#39; was built under R version 4.2.3 ## Carregando pacotes exigidos: carData ## Carregando pacotes exigidos: lmtest ## Carregando pacotes exigidos: zoo ## Warning: package \u0026#39;zoo\u0026#39; was built under R version 4.2.3 ## ## Attaching package: \u0026#39;zoo\u0026#39; ## The following objects are masked from \u0026#39;package:base\u0026#39;: ## ## as.Date, as.Date.numeric ## Carregando pacotes exigidos: sandwich ## Carregando pacotes exigidos: survival ## Warning: package \u0026#39;survival\u0026#39; was built under R version 4.2.3 reg.iv = ivreg(lwage ~ educ | fatheduc, data=mroz) # regress√£o por VI round( summary(reg.iv)$coef, 5 ) ## Estimate Std. Error t value Pr(\u0026gt;|t|) ## (Intercept) 0.44110 0.44610 0.98880 0.32332 ## educ 0.05917 0.03514 1.68385 0.09294 ## attr(,\u0026#34;df\u0026#34;) ## [1] 426 ## attr(,\u0026#34;nobs\u0026#34;) ## [1] 428 Estima√ß√£o ‚Äúna m√£o‚Äù (1) Estimativas $$ \\beta^{VI} $$ ¬´¬´ Talvez fazer apenas para VI multivariado ¬ª¬ª\nVari√°veis Instrumentais em Regress√£o M√∫ltipla Se√ß√£o 15.2 de Heiss (2020) Testando a Exogeneidade dos Regressores Se√ß√£o 15.4 de Heiss (2020) Testando Restri√ß√µes Sobre-identificadas Se√ß√£o 15.5 de Heiss (2020) M√≠nimos Quadrados em 2 Est√°gios Se√ß√£o 15.3 de Heiss (2020) Modelos de Equa√ß√µes Simult√¢neas Se√ß√£o 15.3 de Heiss (2020) üëâ Seguir para Equa√ß√µes Simult√¢neas ","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"67d58439d5b70dba37798f0031d0a8af","permalink":"https://fhnishida.netlify.app/project/rec2312/sec6/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec2312/sec6/","section":"project","summary":"Learn how to use Wowchemy's docs layout for publishing online courses, software documentation, and tutorials.","tags":null,"title":"Vari√°veis Instrumentais","type":"book"},{"authors":null,"categories":null,"content":"Otimiza√ß√£o num√©rica Essa se√ß√£o tem o objetivo para dar uma intui√ß√£o sobre alguns algoritmos de otimiza√ß√£o num√©rica. Veremos dois grupos/fam√≠lias de m√©todos de otimiza√ß√£o: livres de derivadas e baseados em gradiente. M√©todos livres de derivadas Grid Search O m√©todo mais simples de otimiza√ß√£o num√©rica √© o grid search. Como o computador n√£o lida com problemas com infinitos valores, discretizamos diversos poss√≠veis valores dos par√¢metros de escolha dentro de intervalos. Para cada poss√≠vel combina√ß√£o de par√¢metros, calcula-se a fun√ß√£o objetivo e escolhe-se a combina√ß√£o de par√¢metros que maximizam (ou minimizam) a fun√ß√£o objetivo. O exemplo abaixo considera apenas um par√¢metro de escolha $\\theta$ e, para cada ponto escolhido dentro do intervalo $[-1, 1]$, calcula-se a fun√ß√£o objetivo: Este √© um m√©todo robusto a fun√ß√µes com descontinuidades e quinas (n√£o diferenci√°veis). Por√©m, depende da defini√ß√£o de intervalo para busca do valor √≥timo e fica mais preciso com maiores quantidades de pontos. Como √© necess√°rio fazer o c√°lculo da fun√ß√£o objetivo para cada ponto, o grid search tende a ser menos eficiente computacionalmente, sobretudo com o aumento de dimens√µes: Nelder-Mead Stats 102A Lesson 8-2 Nelder Mead Method / Algorithm Nelder-Mead tamb√©m conhecido como m√©todo simplex downhill, √© um m√©todo de busca direta que √© frequentemente aplicado a problemas de otimiza√ß√£o n√£o linear para os quais as derivadas podem n√£o ser conhecidas. Ele opera em um simplex de n + 1 pontos em um espa√ßo n-dimensional e move e transforma iterativamente o simplex para encontrar o m√≠nimo ou m√°ximo de uma fun√ß√£o objetivo. M√©todos baseados em gradiente BFGS in a Nutshell: An Introduction to Quasi-Newton Methods H√° uma outra fam√≠lia de algoritmos de otimiza√ß√£o que utilizam o gradiente Gradient Ascent (Descent) O algoritmo desta fam√≠lia mais simples √© o gradient ascent (descent). Queremos encontrar um ${\\theta}^{*}$ que √© o par√¢metro que maximiza a fun√ß√£o objetivo Passos para encontrar um m√°ximo: Comece com algum valor inicial de par√¢metro, ${\\theta}^0$ Calcula-se o gradiente (vetor de derivadas parciais) avalia-se a possibilidade de ‚Äúandar para cima‚Äù a um valor mais alto Caso possa, anda para ${\\theta}^1$ $$\\theta^1 = \\theta^0 + \\alpha f\u0026#39;(\\theta^0)$$ ou, no caso multivariado: $$\\boldsymbol{\\theta}^1 = \\boldsymbol{\\theta}^0 + \\alpha \\nabla f(\\boldsymbol{\\theta}^0),$$ em que $\\alpha$ √© a taxa de aprendizado, e $\\nabla f(\\cdot)$ √© o gradiente (vetor de derivadas parciais). Repita os passos (2) e (3), andando para um novo ${\\theta}^2, {\\theta}^3, ...$ at√© atingir um ponto m√°ximo Note que esse m√©todo de otimiza√ß√£o √© sens√≠vel ao par√¢metro inicial e √†s descontinuidades da fun√ß√£o objetivo. No exemplo, se os chutes iniciais forem ${\\theta}^0_A$ ou ${\\theta}^0_B$, ent√£o consegue atingir o m√°ximo global. J√° se o chute inicial for ${\\theta}^0_C$, ent√£o ele acaba atingindo um m√°ximo local com ${\\theta}^*$ (menor do que o m√°ximo global em ${\\theta}^{**}$). Por outro lado, √© um m√©todo mais eficiente, pois calcula-se a fun√ß√£o objetivo uma vez a cada passo, al√©m de ser mais preciso nas estima√ß√µes. M√©todo de Newton O m√©todo de Newton √© um algoritmo de segunda ordem que usa tanto o gradiente quanto a matriz Hessiana da fun√ß√£o objetivo para iterativamente atualizar a solu√ß√£o. Agora, a segunda derivada permite dar ‚Äúpassos‚Äù mais otimizados, acelerando a converg√™ncia: $$\\theta^{n+1} = \\theta^n + \\frac{1}{f\u0026#39;\u0026#39;(\\theta^n)} f\u0026#39;(\\theta^n)$$ ou, no caso multivariado: $$\\boldsymbol{\\theta}^{n+1} = \\boldsymbol{\\theta}^n + \\mathcal{H}^{-1}(\\theta^n) \\nabla f(\\boldsymbol{\\theta}^n),$$ em que $\\mathcal{H}(\\cdot)$ √© a Hessiana (matriz de segundas derivadas parciais). M√©todos de quasi-Newton Como o c√°lculo da Hessiana (e a sua invers√£o) √© computacionalmente demandante, diversos m√©todos prop√µem c√°lculos para aproxima√ß√µes da Hessiana a partir do gradiente para agilizar o algoritmo. A qualidade da aproxima√ß√£o da matriz Hessiana pode afetar a efic√°cia destes m√©todos e suas taxas de converg√™ncia. Alguns exemplos s√£o: BFGS (Broyden-Fletcher-Goldfarb-Shanno): um dos m√©todos quasi-newtonianos mais populares nlminb (Nonlinear Minimization subject to Box Constraints): otimiza√ß√£o sem restri√ß√µes ou com restri√ß√µes de caixa usando rotinas PORT do FORTRAN. Encontrando MQO por diferentes estrat√©gias Nesta se√ß√£o, encontraremos as estimativas de MQO usando as estrat√©gias da (a) minimiza√ß√£o da fun√ß√£o perda, de (b) m√©todo dos momentos e de (c) m√°xima verossimilhan√ßa. Em cada uma delas, temos uma fun√ß√£o objetivo distinta, que ser√° avaliada a partir de um vetor com dois par√¢metros, $ \\hat{\\boldsymbol{\\theta}} = \\{ \\hat{\\beta}_0, \\hat{\\beta}_1 \\}. $ No R, vamos chamar esse vetor de theta. Base mtcars Usaremos dados extra√≠dos da Motor Trend US magazine de 1974, que analisa o consumo de combust√≠vel e 10 aspectos t√©cnicos de 32 autom√≥veis.\nNo R, a base de dados mtcars j√° est√° pr√©-carregada no programa e queremos estimar o seguinte modelo: $$ \\text{mpg} = \\beta_0 + \\beta_1 \\text{hp} + \\varepsilon, $$ em que: ‚Ä¶","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"d1094f0fffc2d49d513b0aca974834fa","permalink":"https://fhnishida.netlify.app/project/rec5004/sec7/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec5004/sec7/","section":"project","summary":"The author covers topics such as grid search and steepest ascent methods for optimization to show three approaches to reach the OLS estimation formula. The page also includes examples and code snippets to illustrate the concepts discussed.","tags":null,"title":"Optimization","type":"book"},{"authors":null,"categories":null,"content":"Regress√£o simples por MQO Se√ß√£o 2.1 de Heiss (2020) Considere o seguinte modelo emp√≠rico $$ y = \\beta_0 + \\beta_1 x + u \\tag{2.1} $$ Os estimadores de m√≠nimos quadrados ordin√°rios (MQO), segundo Wooldridge (2006, Se√ß√£o 2.2) √© dado por \\begin{align}\r\\hat{\\beta}_0 \u0026amp;= \\bar{y} - \\hat{\\beta}_1 \\bar{x} \\tag{2.2}\\\\\r\\hat{\\beta}_1 \u0026amp;= \\frac{Cov(x,y)}{Var(x)} \\tag{2.3}\r\\end{align} E os valores ajustados/preditos, $\\hat{y}$ √© dado por $$ \\hat{y} = \\hat{\\beta}_0 + \\hat{\\beta}_1 x \\tag{2.4} $$ tal que $$ y = \\hat{y} + \\hat{u} $$ Exemplo 2.3: Sal√°rio de Diretores Executivos e Retornos de A√ß√µes (Wooldridge, 2006) Considere o seguinte modelo de regress√£o simples $$ \\text{salary} = \\beta_0 + \\beta_1 \\text{roe} + u $$ em que salary √© a remunera√ß√£o de um diretor executivo em milhares de d√≥lares e roe √© o retorno sobre o investimento em percentual. Estimando regress√£o simples ‚Äúna m√£o‚Äù # Carregando a base de dados do pacote \u0026#39;wooldridge\u0026#39; data(ceosal1, package=\u0026#34;wooldridge\u0026#34;) attach(ceosal1) # para n√£o precisar escrever \u0026#39;ceosal1$\u0026#39; antes de toda vari√°vel cov(salary, roe) # covari√¢ncia entre vari√°vel dependente e independente ## [1] 1342.538 var(roe) # vari√¢ncia do retorno sobre o investimento ## [1] 72.56499 mean(roe) # m√©dia do retorno sobre o investimento ## [1] 17.18421 mean(salary) # m√©dia do sal√°rio ## [1] 1281.12 # C√°lculo \u0026#34;na m√£o\u0026#34; dos coeficientes de MQO ( b1_hat = cov(salary, roe) / var(roe) ) # por (2.3) ## [1] 18.50119 ( b0_hat = mean(salary) - var(roe)*mean(salary) ) # por (2.2) ## [1] -91683.31 detach(ceosal1) # para parar de procurar vari√°vel dentro do objeto \u0026#39;ceosal1\u0026#39; Vemos que um incremento de uma unidade (porcento) no retorno sobre o investimento (roe), aumentar 18 unidades (milhares de d√≥lares) nos sal√°rios dos diretores executivos. Estimando regress√£o simples via lm() Uma maneira mais conveniente de fazer a estima√ß√£o por MQO √© usando a fun√ß√£o lm() Em um modelo univariado, inserimos dois vetores (vari√°veis dependente e independente) separados por um til (~): lm(ceosal1$salary ~ ceosal1$roe) ## ## Call: ## lm(formula = ceosal1$salary ~ ceosal1$roe) ## ## Coefficients: ## (Intercept) ceosal1$roe ## 963.2 18.5 Tamb√©m podemos deixar de usar o prefixo ceosal1$ antes dos nomes do vetores preenchermos o argumento data = ceosal1 lm(salary ~ roe, data=ceosal1) ## ## Call: ## lm(formula = salary ~ roe, data = ceosal1) ## ## Coefficients: ## (Intercept) roe ## 963.2 18.5 Podemos usar a fun√ß√£o lm() para incluir uma reta de regress√£o no gr√°fico # Gr√°fico de dispers√£o (scatter) plot(ceosal1$roe, ceosal1$salary) # Adicionando a reta de regress√£o abline(lm(salary ~ roe, data=ceosal1), col=\u0026#34;red\u0026#34;) Coeficientes, Valores Ajustados e Res√≠duos Se√ß√£o 2.2 de Heiss (2020) Podemos ‚Äúguardar‚Äù os resultados da estima√ß√£o em um objeto (da classe list) e, depois, extrair informa√ß√µes dele. # atribuindo o resultado da regress√£o em um objeto CEOregres = lm(salary ~ roe, data=ceosal1) # verificando os \u0026#34;nomes\u0026#34; das informa√ß√µes contidas no objeto names(CEOregres) ## [1] \u0026#34;coefficients\u0026#34; \u0026#34;residuals\u0026#34; \u0026#34;effects\u0026#34; \u0026#34;rank\u0026#34; ## [5] \u0026#34;fitted.values\u0026#34; \u0026#34;assign\u0026#34; \u0026#34;qr\u0026#34; \u0026#34;df.residual\u0026#34; ## [9] \u0026#34;xlevels\u0026#34; \u0026#34;call\u0026#34; \u0026#34;terms\u0026#34; \u0026#34;model\u0026#34; Podemos usar a fun√ß√£o coef() para extrairmos um data frame com os coeficientes da regress√£o ( bhat = coef(CEOregres) ) ## (Intercept) roe ## 963.19134 18.50119 bhat_0 = bhat[\u0026#34;(Intercept)\u0026#34;] # ou bhat[1] bhat_1 = bhat[\u0026#34;roe\u0026#34;] # ou bhat[2] Dados estes par√¢metros estimados, podemos calcular os valores ajustados/preditos, $\\hat{y}$, e os desvios, $\\hat{u}$, para cada observa√ß√£o $i=1, ..., n$: \\begin{align}\r\\hat{y}_i \u0026amp;= \\hat{\\beta}_0 + \\hat{\\beta}_1 . x_i \\tag{2.5} \\\\\r\\hat{u}_i \u0026amp;= y_i - \\hat{y}_i \\tag{2.6}\r\\end{align} # Extraindo colunas de ceosal1 em vetores sal = ceosal1$salary roe = ceosal1$roe # Calculando os valores ajustados/preditos sal_hat = bhat_0 + (bhat_1 * roe) # Calculando os desvios u_hat = sal - sal_hat # Visualizando as 6 primerias linhas de sal, roe, sal_hat e u_hat head( cbind(sal, roe, sal_hat, u_hat) ) ## sal roe sal_hat u_hat ## [1,] 1095 14.1 1224.058 -129.0581 ## [2,] 1001 10.9 1164.854 -163.8543 ## [3,] 1122 23.5 1397.969 -275.9692 ## [4,] 578 5.9 1072.348 -494.3483 ## [5,] 1368 13.8 1218.508 149.4923 ## [6,] 1145 20.0 1333.215 -188.2151 Com as fun√ß√µes fitted() e resid() podemos extrair os valores ajustados e os res√≠duos do objeto com resultado da regress√£o: head( cbind(fitted(CEOregres), resid(CEOregres)) ) ## [,1] [,2] ## 1 1224.058 -129.0581 ## 2 1164.854 -163.8543 ## 3 1397.969 -275.9692 ## 4 1072.348 -494.3483 ## 5 1218.508 149.4923 ## 6 1333.215 -188.2151 # Ou tamb√©m head( cbind(CEOregres$fitted.values, CEOregres$residuals) ) ## [,1] [,2] ## 1 1224.058 -129.0581 ## 2 1164.854 -163.8543 ## 3 1397.969 -275.9692 ## 4 1072.348 -494.3483 ## 5 1218.508 149.4923 ## 6 1333.215 -188.2151 Na se√ß√£o 2.3 de Wooldridge (2006), vemos que a estima√ß√£o por MQO assume as seguintes hip√≥teses: \\begin{align}\r\u0026amp;\\sum^n_{i=1}{\\hat{u}_i} = 0 \\quad \\implies \\quad \\bar{\\hat{u}} = 0 \\tag{2.7} \\\\\r\u0026amp;\\sum^n_{i=1}{x_i \\hat{u}_i} = 0 \\quad \\implies \\quad Cov(x,\\hat{u}) ‚Ä¶","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"6eba3d3cbbc47fc3b2fbb75508d487a2","permalink":"https://fhnishida.netlify.app/project/rec2301/sec7/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec2301/sec7/","section":"project","summary":"This page covers topics such as simple OLS regression and assumptions violations. Also includes examples and code snippets to illustrate the concepts discussed.","tags":null,"title":"Regress√£o Simples","type":"book"},{"authors":null,"categories":null,"content":"Problem Set 4 TA Session 7 Recording (in Portuguese) Problem Set 4 Solution: Lista-2_Resolucao.pdf Script File: Lista-4.py ","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"43bf340ab720f1f2afea9e9dba4cb5a8","permalink":"https://fhnishida.netlify.app/project/rec5002-1/sec7/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec5002-1/sec7/","section":"project","summary":"Learn how to use Wowchemy's docs layout for publishing online courses, software documentation, and tutorials.","tags":null,"title":"Session 7 (June 1, 2021)","type":"book"},{"authors":null,"categories":null,"content":" Se√ß√µes 15.1 a 15.5 de Heiss (2020) Nota√ß√µes Considere o modelo multivariado com $K$ regressores: $$ \\boldsymbol{y} = \\beta_0 + \\beta_1 \\boldsymbol{x}^*_{1} + ... + \\beta_J \\boldsymbol{x}^*_{J} + \\beta_{J+1} \\boldsymbol{x}_{J+1} + ... + \\beta_K \\boldsymbol{x}_{K} + \\boldsymbol{\\varepsilon} $$ em que $\\boldsymbol{x}^*_1, ..., \\boldsymbol{x}^*_{iJ}$ s√£o as $J$ regressores end√≥genos do modelo, com $N$ observa√ß√µes.\nMatricialmente, podemos escrever (1) como: $$ \\boldsymbol{y} = \\boldsymbol{X} \\boldsymbol{\\beta} + \\boldsymbol{\\varepsilon} \\tag{2} $$ em que $$ \\underset{N \\times (K+1)}{\\boldsymbol{X}} = \\begin{bmatrix} 1 \u0026amp; x^*_{11} \u0026amp; \\cdots \u0026amp; x^*_{1J} \u0026amp; x_{1,J+1} \u0026amp; \\cdots \u0026amp; x_{1K} \\\\ 1 \u0026amp; x^*_{21} \u0026amp; \\cdots \u0026amp; x^*_{2J} \u0026amp; x_{2,J+1} \u0026amp; \\cdots \u0026amp; x_{2K} \\\\ \\vdots \u0026amp; \\vdots \u0026amp; \\ddots \u0026amp; \\vdots \u0026amp; \\vdots \u0026amp; \\ddots \u0026amp; \\vdots \\\\ 1 \u0026amp; x^*_{N1} \u0026amp; \\cdots \u0026amp; x^*_{NJ} \u0026amp; x_{N,J+1} \u0026amp; \\cdots \u0026amp; x_{NK} \\end{bmatrix}, $$ $$ \\underset{N \\times 1}{\\boldsymbol{y}} = \\left[ \\begin{matrix} \\boldsymbol{y}_1 \\\\ \\boldsymbol{y}_2 \\\\ \\vdots \\\\ \\boldsymbol{y}_N \\end{matrix} \\right] \\quad \\text{ e } \\quad \\underset{N \\times 1}{\\boldsymbol{\\varepsilon}} = \\left[ \\begin{matrix} \\boldsymbol{\\varepsilon}_1 \\\\ \\boldsymbol{\\varepsilon}_2 \\\\ \\vdots \\\\ \\boldsymbol{\\varepsilon}_N \\end{matrix} \\right] $$\nDenote $\\boldsymbol{Z}$ a matriz de instrumentos com $L$ vari√°veis instrumentais, $\\boldsymbol{z}_k$, e $K-J$ vari√°veis ex√≥genas, $\\boldsymbol{x}_k$: $$ \\underset{N \\times (1+L+K-J)}{\\boldsymbol{Z}} = \\begin{bmatrix}\r1 \u0026amp; z_{11} \u0026amp; \\cdots \u0026amp; z_{1L} \u0026amp; x_{1,J+1} \u0026amp; \\cdots \u0026amp; x_{1K} \\\\\r1 \u0026amp; z_{21} \u0026amp; \\cdots \u0026amp; z_{2L} \u0026amp; x_{2,J+1} \u0026amp; \\cdots \u0026amp; x_{2K} \\\\\r\\vdots \u0026amp; \\vdots \u0026amp; \\ddots \u0026amp; \\vdots \u0026amp; \\vdots \u0026amp; \\ddots \u0026amp; \\vdots \\\\\r1 \u0026amp; z_{N1} \u0026amp; \\cdots \u0026amp; z_{NL} \u0026amp; x_{N,J+1} \u0026amp; \\cdots \u0026amp; x_{NK} \\end{bmatrix},$$ em que $J \\ge L$ e, logo, $\\boldsymbol{Z}$ tem pelo menos o mesmo n√∫mero de colunas da matriz $\\boldsymbol{X}$\nNote que:\n$\\boldsymbol{z}_1$ √© o instrumento da vari√°vel ex√≥gena $\\boldsymbol{x}^*_1$ os (melhores) instrumentos de vari√°veis ex√≥genas s√£o elas mesmas ( $\\boldsymbol{x}_2, ..., \\boldsymbol{x}_K$) Apenas no caso em que $J = L$ (n¬∫ de regressores end√≥genos = n¬∫ de instrumentos), a matriz $\\boldsymbol{Z}$ tem as mesmas dimens√µes de $\\boldsymbol{X:}$ $$ \\underset{N \\times (K+1)}{\\boldsymbol{Z}} = \\left[ \\begin{matrix} 1 \u0026amp; z_{11} \u0026amp; \\cdots \u0026amp; z_{1J} \u0026amp; x_{1,J+1} \u0026amp; \\cdots \u0026amp; x_{1K} \\\\ 1 \u0026amp; z_{21} \u0026amp; \\cdots \u0026amp; z_{2J} \u0026amp; x_{2,J+1} \u0026amp; \\cdots \u0026amp; x_{2K} \\\\ \\vdots \u0026amp; \\vdots \u0026amp; \\ddots \u0026amp; \\vdots \u0026amp; \\vdots \u0026amp; \\ddots \u0026amp; \\vdots \\\\ 1 \u0026amp; z_{N1} \u0026amp; \\cdots \u0026amp; z_{NJ} \u0026amp; x_{N,J+1} \u0026amp; \\cdots \u0026amp; x_{NK} \\end{matrix} \\right], $$ E assuma $\\boldsymbol{Z}^*$ a submatriz das $(L+1)$ colunas de $\\boldsymbol{Z}$, com a coluna de 1‚Äôs e os $L$ instrumentos dos regressores end√≥genos: $$ \\underset{N \\times (L+1)}{\\boldsymbol{Z}^*} = \\left[ \\begin{matrix} 1 \u0026amp; z_{11} \u0026amp; z_{12} \u0026amp; \\cdots \u0026amp; z_{1L} \\\\ 1 \u0026amp; z_{21} \u0026amp; z_{22} \u0026amp; \\cdots \u0026amp; z_{2L} \\\\ \\vdots \u0026amp; \\vdots \u0026amp; \\vdots \u0026amp; \\ddots \u0026amp; \\vdots \\\\ 1 \u0026amp; z_{N1} \u0026amp; z_{N2} \u0026amp; \\cdots \u0026amp; z_{NL} \\end{matrix} \\right], $$\nAs nota√ß√µes s√£o um pouco diferentes das notas de aula do professor.\nEstimador VI O estimador de vari√°veis instrumentais (VI) √© dado por $$ \\hat{\\boldsymbol{\\beta}}_{\\scriptscriptstyle{VI}} = (\\boldsymbol{Z}\u0026#39;\\boldsymbol{X})^{-1} \\boldsymbol{Z}\u0026#39; \\boldsymbol{y} $$\nObserve que o estimador VI exige que as dimens√µes de $\\boldsymbol{Z}$ sejam as mesmas de $\\boldsymbol{X}$, caso contr√°rio n√£o √© poss√≠vel inverter $\\boldsymbol{Z\u0026#39;X}$ (pois n√£o seria uma matriz quadrada).\nA matriz de vari√¢ncias-covari√¢ncias do estimador √© dada por $$ V(\\hat{\\boldsymbol{\\beta}}^{\\scriptscriptstyle{VI}})= \\left( \\boldsymbol{Z}\u0026#39; \\boldsymbol{X}\\right)^{-1} \\boldsymbol{Z}\u0026#39; \\boldsymbol{\\Sigma} \\boldsymbol{Z} \\left(\\boldsymbol{X}\u0026#39; \\boldsymbol{Z} \\right)^{-1} $$\nAssumindo homocedasticidade, $\\boldsymbol{\\Sigma} = \\sigma^2 \\boldsymbol{I}$, podemos simplificar a express√£o: \\begin{align} V(\\hat{\\boldsymbol{\\beta}}^{\\scriptscriptstyle{VI}}) \u0026amp;= \\left( \\boldsymbol{Z}\u0026#39; \\boldsymbol{X}\\right)^{-1} \\boldsymbol{Z}\u0026#39; (\\sigma^2 \\boldsymbol{I}) \\boldsymbol{Z} \\left(\\boldsymbol{X}\u0026#39; \\boldsymbol{Z} \\right)^{-1} \\\\\r\u0026amp;= \\sigma^2 {\\color{red}\\left( \\boldsymbol{Z}\u0026#39; \\boldsymbol{X}\\right)^{-1}} {\\color{green}\\boldsymbol{Z}\u0026#39; \\boldsymbol{Z}} {\\color{blue}\\left(\\boldsymbol{X}\u0026#39; \\boldsymbol{Z} \\right)^{-1}} \\\\\r\u0026amp;\\overset{*}{=} \\sigma^2 \\left( {\\color{blue}\\boldsymbol{X}\u0026#39; \\boldsymbol{Z}} {\\color{green}(\\boldsymbol{Z}\u0026#39; \\boldsymbol{Z})^{-1}} {\\color{red}\\boldsymbol{Z}\u0026#39; \\boldsymbol{X}} \\right)^{-1} \\\\\r\u0026amp;= \\sigma^2 \\left( \\boldsymbol{X}\u0026#39; \\boldsymbol{P_{\\scriptscriptstyle{Z}}} \\boldsymbol{X} \\right)^{-1} \\end{align} em que $\\boldsymbol{P_{\\scriptscriptstyle{Z}}}$ √© a matriz de proje√ß√£o ortogonal em $\\boldsymbol{Z}$. (*) Como cada dupla de matrizes tem dimens√£o K x K, ent√£o podemos inverter toda express√£o ‚Äúda direita para esquerda‚Äù, iniciando pela inversa de $\\left(\\boldsymbol{Z}\u0026#39; \\boldsymbol{X} \\right)^{-1}$, inversa de $\\boldsymbol{Z}\u0026#39; \\boldsymbol{Z}$, e inversa de $\\left(\\boldsymbol{X}\u0026#39; \\boldsymbol{Z} \\right)^{-1}$\nA vari√¢ncia do termo de erro pode ser estimada usando: $$ ‚Ä¶","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"36f337c482f5092ddff33cdd1ba4d31a","permalink":"https://fhnishida.netlify.app/project/rec2312/sec7/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec2312/sec7/","section":"project","summary":"The IV / 2SLS section of the current web page context discusses Instrumental Variable and Two-Stage Least Squares methods. These are statistical techniques used to estimate causal relationships when there is a concern about endogeneity, or when one or more of the independent variables are correlated with the error term. The section includes references to several academic sources on these topics, including sections from books by Heiss (2020), Cameron and Trivedi (2005), Wooldridge (2010), and Davidson and MacKinnon (1999). The section also includes mathematical notation and equations related to these methods. For example, it presents a multivariate model with K regressors, matrix notation, and the definition of an instrumental variable. The section also includes information on how to estimate an instrumental variable using R code, including an example using the mroz dataset from the wooldridge package. Overall, this section provides a detailed introduction to instrumental variable and two-stage least squares methods, including both theoretical background and practical examples using R code.","tags":null,"title":"Vari√°vel Instrumental e M√≠nimos Quadrados em 2 Est√°gios","type":"book"},{"authors":null,"categories":null,"content":"Opera√ß√µes matriciais no R Vectorized operations (John Hopkins/Coursera) Ao utilizar as opera√ß√µes matem√°ticas convencionais em vetores, cada elemento √© operacionalizado com o elemento na mesma posi√ß√£o do outro vetor. Vamos criar um vetor x (min√∫sculo): x = 1:4 # vetor de 1 a 4 x ## [1] 1 2 3 4 x + x # soma de cada elemento na mesma posi√ß√£o ## [1] 2 4 6 8 x + 2 # soma de de cada elemento com um mesmo escalar ## [1] 3 4 5 6 x * x # multiplica√ß√£o de cada elemento na mesma posi√ß√£o ## [1] 1 4 9 16 x / x # divis√£o de cada elemento na mesma posi√ß√£o ## [1] 1 1 1 1 O mesmo tamb√©m √© v√°lido para matrizes. Vamos criar a matriz X (mai√∫scula) X = matrix(1:8, nrow=4, ncol=2) # matriz X de dimens√£o 4x2 X ## [,1] [,2] ## [1,] 1 5 ## [2,] 2 6 ## [3,] 3 7 ## [4,] 4 8 # Opera√ß√µes convencionais entre matrizes X + X # soma de cada elemento na mesma posi√ß√£o ## [,1] [,2] ## [1,] 2 10 ## [2,] 4 12 ## [3,] 6 14 ## [4,] 8 16 X + 2 # soma de de cada elemento com um mesmo escalar ## [,1] [,2] ## [1,] 3 7 ## [2,] 4 8 ## [3,] 5 9 ## [4,] 6 10 X * X # multiplica√ß√£o de cada elemento na mesma posi√ß√£o ## [,1] [,2] ## [1,] 1 25 ## [2,] 4 36 ## [3,] 9 49 ## [4,] 16 64 X / X # divis√£o de cada elemento na mesma posi√ß√£o ## [,1] [,2] ## [1,] 1 1 ## [2,] 1 1 ## [3,] 1 1 ## [4,] 1 1 # Opera√ß√µes convencionais entre matriz e vetor x + X # soma por linha em cada uma das colunas ## [,1] [,2] ## [1,] 2 6 ## [2,] 4 8 ## [3,] 6 10 ## [4,] 8 12 x * X # multiplica√ß√£o por linha em cada uma das colunas ## [,1] [,2] ## [1,] 1 5 ## [2,] 4 12 ## [3,] 9 21 ## [4,] 16 32 Al√©m disso, podemos fazer Transposta de uma matriz ou vetor: fun√ß√£o t() Multiplica√ß√£o matricial ou vetorial (produto interno): operador %*% Inversa de uma matriz (quadrada): fun√ß√£o solve() # Opera√ß√µes vetoriais x %*% x # x vetor-linha / x vetor-coluna ## [,1] ## [1,] 30 x %*% t(x) # x vetor-coluna / x vetor-linha (altera ambos, mas t() s√≥ no 2o) ## [,1] [,2] [,3] [,4] ## [1,] 1 2 3 4 ## [2,] 2 4 6 8 ## [3,] 3 6 9 12 ## [4,] 4 8 12 16 Por padr√£o, o R considera que o 1¬∫ vetor √© um vetor-linha e o 2¬∫ √© um vetor-coluna quando fazemos uma multiplica√ß√£o vetorial. Dado que adotamos vetores-coluna como padr√£o, recomenda-se ‚Äúfor√ßar‚Äù um vetor em linha ou em coluna via fun√ß√£o matrix(). # Transformando em vetor-coluna x_col = matrix(x, ncol=1) x_col ## [,1] ## [1,] 1 ## [2,] 2 ## [3,] 3 ## [4,] 4 # Opera√ß√µes vetoriais t(x_col) %*% x_col # produto interno ## [,1] ## [1,] 30 x_col %*% t(x_col) # produto externo ## [,1] [,2] [,3] [,4] ## [1,] 1 2 3 4 ## [2,] 2 4 6 8 ## [3,] 3 6 9 12 ## [4,] 4 8 12 16 O mesmo √© v√°lido para matrizes: # Transposta de X (2x4) t(X) ## [,1] [,2] [,3] [,4] ## [1,] 1 2 3 4 ## [2,] 5 6 7 8 # Produto matricial X\u0026#39;X (2x2) t(X) %*% X ## [,1] [,2] ## [1,] 30 70 ## [2,] 70 174 # Inversa de X\u0026#39;X (2x2) solve( t(X) %*% X ) ## [,1] [,2] ## [1,] 0.54375 -0.21875 ## [2,] -0.21875 0.09375 Tamb√©m podemos criar uma matrix identidade usando a fun√ß√£o diag() e informando um n√∫mero inteiro # Matriz identidade de dimens√£o 4 I = diag(4) I ## [,1] [,2] [,3] [,4] ## [1,] 1 0 0 0 ## [2,] 0 1 0 0 ## [3,] 0 0 1 0 ## [4,] 0 0 0 1 # diag() pode alterar valores da diagonal de uma matriz existente diag(I) = 1:4 I ## [,1] [,2] [,3] [,4] ## [1,] 1 0 0 0 ## [2,] 0 2 0 0 ## [3,] 0 0 3 0 ## [4,] 0 0 0 4 MQO na forma matricial Se√ß√£o 3.2 de Heiss (2020) Nota√ß√µes Considere o modelo multivariado com $K$ regressores para a observa√ß√£o $i$: $$ y_i = \\beta_0 + \\beta_1 x_{i1} + \\beta_2 x_{i2} + ‚Ä¶ + \\beta_K x_{iK} + \\varepsilon_i, \\qquad i=1, 2, ‚Ä¶, N \\tag{1} $$ em que $N$ √© o n√∫mero de observa√ß√µes.\nDefina o vetor-coluna de par√¢metros, $\\boldsymbol{\\beta}$, e o vetor-linha de vari√°veis independentes da observa√ß√£o $i$, $\\boldsymbol{x}\u0026#39;_i$ (min√∫sculo): $$ \\underset{1 \\times K}{\\boldsymbol{x}\u0026#39;_i} = \\left[ \\begin{matrix} 1 \u0026amp; x_{i1} \u0026amp; x_{i2} \u0026amp; \\cdots \u0026amp; x_{iK} \\end{matrix} \\right] \\qquad \\text{e} \\qquad \\underset{(K+1) \\times 1}{\\boldsymbol{\\beta}} = \\left[ \\begin{matrix} \\beta_0 \\\\ \\beta_1 \\\\ \\beta_2 \\\\ \\vdots \\\\ \\beta_K \\end{matrix} \\right],$$\nNote que o produto interno $\\boldsymbol{x}\u0026#39;_i \\boldsymbol{\\beta}$ √©:\n\\begin{align} \\underset{1 \\times 1}{\\boldsymbol{x}\u0026#39;_i \\boldsymbol{\\beta}} \u0026amp;= \\left[ \\begin{matrix} 1 \u0026amp; x_{i1} \u0026amp; x_{i2} \u0026amp; \\cdots \u0026amp; x_{iK} \\end{matrix} \\right] \\left[ \\begin{matrix} \\beta_0 \\\\ \\beta_1 \\\\ \\beta_2 \\\\ \\vdots \\\\ \\beta_K \\end{matrix} \\right]\\\\\r\u0026amp;= 1.\\beta_0 + x_{i1} \\beta_1 + x_{i2} \\beta_2 + \\cdots + x_{iK} \\beta_K, \\end{align} Logo, a equa√ß√£o (1) pode ser reescrita, para $i=1, 2, ..., N$, como $$ y_i = \\underbrace{\\beta_0 + \\beta_1 x_{i1} + \\beta_2 x_{i2} + ‚Ä¶ + \\beta_K x_{iK}}_{\\boldsymbol{x}‚Äô_i \\boldsymbol{\\beta}} + \\varepsilon_i = \\boldsymbol{x}‚Äô_i \\boldsymbol{\\beta} + \\varepsilon_i, \\tag{2} $$\nConsidere $\\boldsymbol{X}$ a matriz de todas $N$ observa√ß√µes para as $K+1$ vari√°veis explicativas: $$ \\underset{N \\times (K+1)}{\\boldsymbol{X}} = \\left[ \\begin{matrix} \\boldsymbol{x}\u0026#39;_1 \\\\ \\boldsymbol{x}\u0026#39;_2 \\\\ \\vdots \\\\ \\boldsymbol{x}\u0026#39;_N \\end{matrix} \\right] = \\left[ \\begin{matrix} 1 \u0026amp; x_{11} \u0026amp; x_{12} \u0026amp; \\cdots \u0026amp; x_{1K} \\\\ 1 \u0026amp; ‚Ä¶","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"817c3451949b1db6eb11f923252584db","permalink":"https://fhnishida.netlify.app/project/rec5004/sec8/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec5004/sec8/","section":"project","summary":"This page explores OLS Multiple Regression, including with qualitative regressors. It also includes examples and code snippets to demonstrate the concepts being discussed.","tags":null,"title":"Multiple Regression","type":"book"},{"authors":null,"categories":null,"content":"Estima√ß√£o MQO multivariado Regress√£o M√∫ltipla via lm() Se√ß√£o 3.1 de Heiss (2020)\nPara estimar um modelo multivariado no R, podemos usar a fun√ß√£o lm():\nO til (~) separa a a vari√°vel dependente das vari√°veis independentes As vari√°veis independentes precisam ser separadas por um + A constante ( $\\beta_0$) √© inclu√≠da automaticamente pela fun√ß√£o lm() ‚Äì para retir√°-la, precisa incluir a ‚Äúvari√°vel independente‚Äù 0 na f√≥rmula. Exemplo 3.1: Determinantes da Nota M√©dia em Curso Superior nos EUA (Wooldridge, 2006) Sejam as vari√°veis colGPA (college GPA): a nota m√©dia em um curso superior, hsGPA (high school GPA): a nota m√©dio do ensino m√©dio, e ACT (achievement test score): a nota de avalia√ß√£o de conhecimentos para ingresso no ensino superior. Usando a base gpa1 do pacote wooldridge, vamos estimar o seguinte modelo: $$ \\text{colGPA} = \\beta_0 + \\beta_1 \\text{hsGPA} + \\beta_2 \\text{ACT} + u $$\n# Acessando a base de dados gpa1 data(gpa1, package = \u0026#34;wooldridge\u0026#34;) # Estimando o modelo GPAres = lm(colGPA ~ hsGPA + ACT, data = gpa1) GPAres ## ## Call: ## lm(formula = colGPA ~ hsGPA + ACT, data = gpa1) ## ## Coefficients: ## (Intercept) hsGPA ACT ## 1.286328 0.453456 0.009426 Note que podemos ver mais detalhes da estima√ß√£o usando a fun√ß√£o summary() no objeto resultante da fun√ß√£o lm() summary(GPAres) ## ## Call: ## lm(formula = colGPA ~ hsGPA + ACT, data = gpa1) ## ## Residuals: ## Min 1Q Median 3Q Max ## -0.85442 -0.24666 -0.02614 0.28127 0.85357 ## ## Coefficients: ## Estimate Std. Error t value Pr(\u0026gt;|t|) ## (Intercept) 1.286328 0.340822 3.774 0.000238 *** ## hsGPA 0.453456 0.095813 4.733 5.42e-06 *** ## ACT 0.009426 0.010777 0.875 0.383297 ## --- ## Signif. codes: 0 \u0026#39;***\u0026#39; 0.001 \u0026#39;**\u0026#39; 0.01 \u0026#39;*\u0026#39; 0.05 \u0026#39;.\u0026#39; 0.1 \u0026#39; \u0026#39; 1 ## ## Residual standard error: 0.3403 on 138 degrees of freedom ## Multiple R-squared: 0.1764,\tAdjusted R-squared: 0.1645 ## F-statistic: 14.78 on 2 and 138 DF, p-value: 1.526e-06 MQO na forma matricial Se√ß√£o 3.2 de Heiss (2020) Nota√ß√µes Para mais detalhes sobre a forma matricial do MQO, ver Ap√™ndice E de Wooldridge (2006)\nConsidere o modelo multivariado com $K$ regressores para a observa√ß√£o $i$: $$ y_i = \\beta_0 + \\beta_1 x_{i1} + \\beta_2 x_{i2} + ‚Ä¶ + \\beta_K x_{iK} + u_i, \\qquad i=1, 2, ‚Ä¶, N \\tag{E.1} $$ em que $N$ √© o n√∫mero de observa√ß√µes.\nDefina o vetor-coluna de par√¢metros, $\\boldsymbol{\\beta}$, e o vetor-linha de vari√°veis independentes da observa√ß√£o $i$, $\\boldsymbol{x}_i$ (min√∫sculo): $$ \\underset{1 \\times K}{\\boldsymbol{x}_i} = \\left[ \\begin{matrix} 1 \u0026amp; x_{i1} \u0026amp; x_{i2} \u0026amp; \\cdots \u0026amp; x_{iK} \\end{matrix} \\right] \\qquad \\text{e} \\qquad \\underset{(K+1) \\times 1}{\\boldsymbol{\\beta}} = \\left[ \\begin{matrix} \\beta_0 \\\\ \\beta_1 \\\\ \\beta_2 \\\\ \\vdots \\\\ \\beta_K \\end{matrix} \\right],$$\nNote que o produto interno $\\boldsymbol{x}_i \\boldsymbol{\\beta}$ √©:\n\\begin{align} \\underset{1 \\times 1}{\\boldsymbol{x}_i \\boldsymbol{\\beta}} \u0026amp;= \\left[ \\begin{matrix} 1 \u0026amp; x_{i1} \u0026amp; x_{i2} \u0026amp; \\cdots \u0026amp; x_{iK} \\end{matrix} \\right] \\left[ \\begin{matrix} \\beta_0 \\\\ \\beta_1 \\\\ \\beta_2 \\\\ \\vdots \\\\ \\beta_K \\end{matrix} \\right]\\\\\r\u0026amp;= 1.\\beta_0 + x_{i1} \\beta_1 + x_{i2} \\beta_2 + \\cdots + x_{iK} \\beta_K, \\end{align} Logo, a equa√ß√£o (3.1) pode ser reescrita, para $i=1, 2, ..., N$, como $$ y_i = \\underbrace{\\beta_0 + \\beta_1 x_{i1} + \\beta_2 x_{i2} + ‚Ä¶ + \\beta_K x_{iK}}_{\\boldsymbol{x}_i \\boldsymbol{\\beta}} + u_i = \\boldsymbol{x}_i \\boldsymbol{\\beta} + u_i, \\tag{E.2} $$\nConsidere $\\boldsymbol{X}$ a matriz de todas $N$ observa√ß√µes para as $K+1$ vari√°veis explicativas: $$ \\underset{N \\times (K+1)}{\\boldsymbol{X}} = \\left[ \\begin{matrix} \\boldsymbol{x}_1 \\\\ \\boldsymbol{x}_2 \\\\ \\vdots \\\\ \\boldsymbol{x}_N \\end{matrix} \\right] = \\left[ \\begin{matrix} 1 \u0026amp; x_{11} \u0026amp; x_{12} \u0026amp; \\cdots \u0026amp; x_{1K} \\\\ 1 \u0026amp; x_{21} \u0026amp; x_{22} \u0026amp; \\cdots \u0026amp; x_{2K} \\\\ \\vdots \u0026amp; \\vdots \u0026amp; \\vdots \u0026amp; \\ddots \u0026amp; \\vdots \\\\ 1 \u0026amp; x_{N1} \u0026amp; x_{N2} \u0026amp; \\cdots \u0026amp; x_{NK} \\end{matrix} \\right] , $$ Agora, podemos ‚Äúempilhar‚Äù as equa√ß√µes (3.2) para todo $i=1, 2, ..., N$ e obtemos: \\begin{align} \\boldsymbol{y} \u0026amp;= \\boldsymbol{X} \\boldsymbol{\\beta} + \\boldsymbol{u} \\tag{E.3} \\\\\r\u0026amp;= \\left[ \\begin{matrix} 1 \u0026amp; x_{11} \u0026amp; x_{12} \u0026amp; \\cdots \u0026amp; x_{1K} \\\\ 1 \u0026amp; x_{21} \u0026amp; x_{22} \u0026amp; \\cdots \u0026amp; x_{2K} \\\\ \\vdots \u0026amp; \\vdots \u0026amp; \\vdots \u0026amp; \\ddots \u0026amp; \\vdots \\\\ 1 \u0026amp; x_{N1} \u0026amp; x_{N2} \u0026amp; \\cdots \u0026amp; x_{NK} \\end{matrix} \\right] \\left[ \\begin{matrix} \\beta_0 \\\\ \\beta_1 \\\\ \\beta_2 \\\\ \\vdots \\\\ \\beta_K \\end{matrix} \\right] + \\left[ \\begin{matrix}u_1 \\\\ u_2 \\\\ \\vdots \\\\ u_N \\end{matrix} \\right] \\\\\r\u0026amp;= \\left[ \\begin{matrix} \\beta_0. 1 + \\beta_1 x_{11} + \\beta_2 x_{12} + ... + \\beta_K x_{1K} \\\\ \\beta_0 .1 + \\beta_1 x_{21} + \\beta_2 x_{22} + ... + \\beta_K x_{2K} \\\\ \\vdots \\\\ \\beta_0. 1 + \\beta_1 x_{N1} + \\beta_2 x_{N2} + ... + \\beta_K x_{NK} \\end{matrix} \\right] + \\left[ \\begin{matrix}u_1 \\\\ u_2 \\\\ \\vdots \\\\ u_N \\end{matrix} \\right]\\\\\r\u0026amp;= \\left[ \\begin{matrix} \\beta_0. 1 + \\beta_1 x_{11} + \\beta_2 x_{12} + ... + \\beta_K x_{1K} + u_1 \\\\ \\beta_0 .1 + \\beta_1 x_{21} + \\beta_2 x_{22} + ... + \\beta_K x_{2K} + u_2 \\\\ \\vdots \\\\ \\beta_0. 1 + \\beta_1 x_{N1} + \\beta_2 x_{N2} + ... + ‚Ä¶","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"9ce35a0707374ef2175b26d1626155b0","permalink":"https://fhnishida.netlify.app/project/rec2301/sec8/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec2301/sec8/","section":"project","summary":"This page explores OLS Multiple Regression, including with qualitative regressors. It also includes examples and code snippets to demonstrate the concepts being discussed.","tags":null,"title":"Regress√£o M√∫ltipla","type":"book"},{"authors":null,"categories":null,"content":" Agora, veremos formas mais gerais de testes de hip√≥tese, que n√£o s√£o normalmente informadas nos resultados das regress√µes. Teste de Wald Considere:\n$G$ o n√∫mero de restri√ß√µes lineares $\\boldsymbol{\\beta}$ √© um vetor de par√¢metros $(K+1) \\times 1$ $\\boldsymbol{h}$ √© um vetor de constantes $G \\times 1$ $\\boldsymbol{R}$ √© uma matriz $G \\times (K+1)$, que empilha $G$ vetores-linha $\\boldsymbol{r}\u0026#39;_g$ de dimens√µes $1 \\times (K+1)$, para $g=1, 2, ..., G$ Modelo multivariado: $$y = \\beta_0 + \\beta_1 x_1 + \\beta_2 x_2 + ... + \\beta_K x_K + \\varepsilon$$ A partir destas matrizes e vetores, √© poss√≠vel construir testes de hip√≥tese na forma: \\begin{align}\r\\text{H}_0: \u0026amp;\\underset{G\\times (K+1)}{\\boldsymbol{R}} \\underset{(K+1)\\times 1}{\\boldsymbol{\\beta}} = \\underset{G \\times 1}{\\boldsymbol{h}} \\\\\r\\text{H}_0: \u0026amp;\\left[ \\begin{matrix} \\boldsymbol{r}\u0026#39;_1 \\\\ \\boldsymbol{r}\u0026#39;_2 \\\\ \\vdots \\\\ \\boldsymbol{r}\u0026#39;_{G} \\end{matrix} \\right] \\boldsymbol{\\beta} = \\left[ \\begin{matrix} h_1 \\\\ h_2 \\\\ \\vdots \\\\ h_G \\end{matrix} \\right] \\\\\r\\text{H}_0: \u0026amp;\\left\\{ \\begin{matrix} \\boldsymbol{r}\u0026#39;_1 \\boldsymbol{\\beta} = h_1 \\\\ \\boldsymbol{r}\u0026#39;_2 \\boldsymbol{\\beta} = h_2 \\\\ \\vdots \\\\ \\boldsymbol{r}\u0026#39;_G \\boldsymbol{\\beta} = h_G \\end{matrix} \\right.\r\\end{align}\nUma restri√ß√£o linear Considere o modelo: $$y = \\beta_0 + \\beta_1 x_1 + \\beta_2 x_2 + \\varepsilon$$\nLogo, h√° $K=2$ vari√°veis explicativas (e h√° 3 par√¢metros)\n1 restri√ß√£o linear $\\Longrightarrow \\ G=1$\nLogo, neste caso espec√≠fico, temos $$\\boldsymbol{R} = \\boldsymbol{r}\u0026#39;_1\\ \\implies\\ \\text{H}_0:\\ \\boldsymbol{r}\u0026#39;_1 \\boldsymbol{\\beta} = h_1 $$\nAvaliando a hip√≥tese nula com restri√ß√£o √∫nica Para o caso com uma √∫nica restri√ß√£o, assumimos que $$ \\boldsymbol{r}\u0026#39;_1 \\hat{\\boldsymbol{\\beta}} \\sim N(\\boldsymbol{r}\u0026#39;_1 \\hat{\\boldsymbol{\\beta}};\\ \\boldsymbol{r}\u0026#39;_1 \\boldsymbol{V(\\hat{\\boldsymbol{\\beta}}) r_1})$$\nCalcula-se a estat√≠stica de Wald (igual √† estat√≠stica t, quando tem uma √∫nica restri√ß√£o): $$ w = t = \\frac{\\boldsymbol{r}\u0026#39;_1 \\hat{\\boldsymbol{\\beta}} - h_1}{\\sqrt{\\boldsymbol{r}\u0026#39;_1 \\hat{\\sigma}^2 (\\boldsymbol{X}\u0026#39;\\boldsymbol{X})^{-1} \\boldsymbol{r}_1}} = \\frac{\\boldsymbol{r}\u0026#39;_1 \\hat{\\boldsymbol{\\beta}} - h_1}{\\sqrt{\\boldsymbol{r}\u0026#39;_1 \\boldsymbol{V(\\hat{\\boldsymbol{\\beta}})} \\boldsymbol{r}_1}} $$\nEscolhe-se o n√≠vel de signific√¢ncia $\\alpha$ e rejeita-se a hip√≥tese nula se a estat√≠stica t n√£o pertencer ao intervalo de confian√ßa.\nExemplo 1: H$_0: \\ \\beta_1 = 4$ Note que $h_1 = 4$ O vetor $r\u0026#39;_1$ pode ser escrito como $$ r\u0026#39;_1 = \\left[ \\begin{matrix} 0 \u0026amp; 1 \u0026amp; 0 \\end{matrix} \\right] $$ Ent√£o, a hip√≥tese nula √© $$\\text{H}_0:\\ \\boldsymbol{r}\u0026#39;_1 \\boldsymbol{\\beta}\\ =\\ \\left[ \\begin{matrix} 0 \u0026amp; 1 \u0026amp; 0 \\end{matrix} \\right] \\left[ \\begin{matrix} \\beta_0 \\\\ \\beta_1 \\\\ \\beta_2 \\end{matrix} \\right] = 4\\ \\iff\\ \\beta_1 = 4 $$\nE o denomidor da estat√≠stica t √© igual a: \\begin{align} \u0026amp;\\sqrt{\\boldsymbol{r}\u0026#39;_1 \\boldsymbol{V(\\hat{\\boldsymbol{\\beta}})} \\boldsymbol{r}_1} \\\\\r\u0026amp;= \\sqrt{\\left[ \\begin{matrix} 0 \u0026amp; 1 \u0026amp; 0 \\end{matrix} \\right] {\\small \\begin{bmatrix}\rvar(\\hat{\\beta}_0) \u0026amp; cov(\\hat{\\beta}_0, \\hat{\\beta}_1) \u0026amp; cov(\\hat{\\beta}_0, \\hat{\\beta}_2) \\\\\rcov(\\hat{\\beta}_0, \\hat{\\beta}_1) \u0026amp; var(\\hat{\\beta}_1) \u0026amp; cov(\\hat{\\beta}_1, \\hat{\\beta}_2) \\\\\rcov(\\hat{\\beta}_0, \\hat{\\beta}_2) \u0026amp; cov(\\hat{\\beta}_1, \\hat{\\beta}_2) \u0026amp; var(\\hat{\\beta}_2) \\\\\r\\end{bmatrix}} \\left[ \\begin{matrix} 0 \\\\ 1 \\\\ 0 \\end{matrix} \\right]} \\\\\r\u0026amp;= \\sqrt{\\small{\\begin{bmatrix}\rcov(\\hat{\\beta}_0, \\hat{\\beta}_1) \u0026amp; var(\\hat{\\beta}_1) \u0026amp; cov(\\hat{\\beta}_1, \\hat{\\beta}_2)\r\\end{bmatrix}} \\left[ \\begin{matrix} 0 \\\\ 1 \\\\ 0 \\end{matrix} \\right]} \\\\\r\u0026amp;= \\sqrt{var(\\hat{\\beta}_1)} = se(\\hat{\\beta}_1) \\end{align}\nExemplo 2: H$_0: \\ \\beta_1 + \\beta_2 = 2$ Note que $h_1 = 2$ O vetor $r\u0026#39;_1$ pode ser escrito como $$ r\u0026#39;_1 = \\left[ \\begin{matrix} 0 \u0026amp; 1 \u0026amp; 1 \\end{matrix} \\right] $$ Ent√£o, a hip√≥tese nula √© $$\\text{H}_0:\\ \\boldsymbol{r}\u0026#39;_1 \\boldsymbol{\\beta}\\ =\\ \\left[ \\begin{matrix} 0 \u0026amp; 1 \u0026amp; 1 \\end{matrix} \\right] \\left[ \\begin{matrix} \\beta_0 \\\\ \\beta_1 \\\\ \\beta_2 \\end{matrix} \\right] = 2\\ \\iff\\ \\beta_1 + \\beta_2 = 2 $$\nE o denomidor da estat√≠stica t √© igual a: \\begin{align} \u0026amp;\\sqrt{\\boldsymbol{r}\u0026#39;_1 \\boldsymbol{V(\\hat{\\boldsymbol{\\beta}})} \\boldsymbol{r}_1} \\\\\r\u0026amp;= \\sqrt{\\left[ \\begin{matrix} 0 \u0026amp; 1 \u0026amp; 1 \\end{matrix} \\right] {\\small \\begin{bmatrix}\rvar(\\hat{\\beta}_0) \u0026amp; cov(\\hat{\\beta}_0, \\hat{\\beta}_1) \u0026amp; cov(\\hat{\\beta}_0, \\hat{\\beta}_2) \\\\\rcov(\\hat{\\beta}_0, \\hat{\\beta}_1) \u0026amp; var(\\hat{\\beta}_1) \u0026amp; cov(\\hat{\\beta}_1, \\hat{\\beta}_2) \\\\\rcov(\\hat{\\beta}_0, \\hat{\\beta}_2) \u0026amp; cov(\\hat{\\beta}_1, \\hat{\\beta}_2) \u0026amp; var(\\hat{\\beta}_2) \\\\\r\\end{bmatrix}} \\left[ \\begin{matrix} 0 \\\\ 1 \\\\ 1 \\end{matrix} \\right]} \\\\\r\u0026amp;= \\sqrt{\\small{\\begin{bmatrix}\rcov(\\hat{\\beta}_0, \\hat{\\beta}_1)+cov(\\hat{\\beta}_0, \\hat{\\beta}_2) \\\\ var(\\hat{\\beta}_1) + cov(\\hat{\\beta}_1, \\hat{\\beta}_2) \\\\ cov(\\hat{\\beta}_1, \\hat{\\beta}_2) + var(\\hat{\\beta}_2)\r\\end{bmatrix}}\u0026#39; \\left[ \\begin{matrix} 0 \\\\ 1 \\\\ 1 \\end{matrix} \\right]} \\\\\r\u0026amp;= \\sqrt{var(\\hat{\\beta}_1) + var(\\hat{\\beta}_2) + 2cov(\\hat{\\beta}_1, \\hat{\\beta}_2)} = \\sqrt{var(\\hat{\\beta}_1 + ‚Ä¶","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"045fb4e69c9de89baae03d1c4324e147","permalink":"https://fhnishida.netlify.app/project/rec5004/sec9/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec5004/sec9/","section":"project","summary":"This page is about statistical hypothesis testing using the Wald test. It explains how to construct hypothesis tests using matrices and vectors and provides examples of linear constraints. The page also includes R code for evaluating the null hypothesis with a single constraint and multiple linear constraints. Additionally, it discusses the F-test and provides an example using the mlb1 dataset from Wooldridge (2006).","tags":null,"title":"Hypothesis Testing","type":"book"},{"authors":null,"categories":null,"content":" Agora, veremos formas mais gerais de testes de hip√≥tese, que n√£o s√£o normalmente informadas nos resultados das regress√µes. Teste de Wald Considere:\n$G$ o n√∫mero de restri√ß√µes lineares $\\boldsymbol{\\beta}$ √© um vetor de par√¢metros $(K+1) \\times 1$ $\\boldsymbol{h}$ √© um vetor de constantes $Q \\times 1$ $\\boldsymbol{R}$ √© uma matriz $G \\times (K+1)$, contida por diversos vetores-linha $\\boldsymbol{r}\u0026#39;_g$ de dimens√µes $1 \\times (K+1)$, para $g=1, 2, ..., Q$ Modelo multivariado: $$y = \\beta_0 + \\beta_1 x_1 + \\beta_2 x_2 + ... + \\beta_K x_K + u$$ A partir destas matrizes e vetores, √© poss√≠vel construir testes de hip√≥tese na forma: \\begin{align}\r\\text{H}_0: \u0026amp;\\underset{G\\times (K+1)}{\\boldsymbol{R}} \\underset{(K+1)\\times 1}{\\boldsymbol{\\beta}} = \\underset{G \\times 1}{\\boldsymbol{h}} \\\\\r\\text{H}_0: \u0026amp;\\left[ \\begin{matrix} \\boldsymbol{r}\u0026#39;_1 \\\\ \\boldsymbol{r}\u0026#39;_2 \\\\ \\vdots \\\\ \\boldsymbol{r}\u0026#39;_{G} \\end{matrix} \\right] \\boldsymbol{\\beta} = \\left[ \\begin{matrix} h_1 \\\\ h_2 \\\\ \\vdots \\\\ h_G \\end{matrix} \\right] \\\\\r\\text{H}_0: \u0026amp;\\left\\{ \\begin{matrix} \\boldsymbol{r}\u0026#39;_1 \\boldsymbol{\\beta} = h_1 \\\\ \\boldsymbol{r}\u0026#39;_2 \\boldsymbol{\\beta} = h_2 \\\\ \\vdots \\\\ \\boldsymbol{r}\u0026#39;_G \\boldsymbol{\\beta} = h_G \\end{matrix} \\right.\r\\end{align}\nUma restri√ß√£o linear Considere o modelo: $$y = \\beta_0 + \\beta_1 x_1 + \\beta_2 x_2 + u$$\nLogo, h√° $K=2$ vari√°veis explicativas (e h√° 3 par√¢metros)\n1 restri√ß√£o linear $\\Longrightarrow \\ G=1$\nLogo, neste caso espec√≠fico, temos $$\\boldsymbol{R} = \\boldsymbol{r}\u0026#39;_1\\ \\implies\\ \\text{H}_0:\\ \\boldsymbol{r}\u0026#39;_1 \\boldsymbol{\\beta} = h_1 $$\nExemplo 1: H$_0: \\ \\beta_1 = 4$ Note que $h_1 = 4$ O vetor $r\u0026#39;_1$ pode ser escrito como $$ r\u0026#39;_1 = \\left[ \\begin{matrix} 0 \u0026amp; 1 \u0026amp; 0 \\end{matrix} \\right] $$ Ent√£o, a hip√≥tese nula √© $$\\text{H}_0:\\ \\left[ \\begin{matrix} 0 \u0026amp; 1 \u0026amp; 0 \\end{matrix} \\right] \\left[ \\begin{matrix} \\beta_0 \\\\ \\beta_1 \\\\ \\beta_2 \\end{matrix} \\right] = 4\\ \\iff\\ \\beta_1 = 4 $$ Exemplo 2: H$_0: \\ \\beta_1 + \\beta_2 = 2$ Note que $h_1 = 2$ O vetor $r\u0026#39;_1$ pode ser escrito como $$ r\u0026#39;_1 = \\left[ \\begin{matrix} 0 \u0026amp; 1 \u0026amp; 1 \\end{matrix} \\right] $$ Ent√£o, a hip√≥tese nula √© $$\\text{H}_0:\\ \\left[ \\begin{matrix} 0 \u0026amp; 1 \u0026amp; 1 \\end{matrix} \\right] \\left[ \\begin{matrix} \\beta_0 \\\\ \\beta_1 \\\\ \\beta_2 \\end{matrix} \\right] = 2\\ \\iff\\ \\beta_1 + \\beta_2 = 2 $$ Exemplo 3: H$_0: \\ \\beta_1 = \\beta_2$ Note que $$\\beta_1 = \\beta_2 \\iff \\beta_1 - \\beta_2 = 0 $$\nLogo, $h_1 = 0$\nO vetor $r\u0026#39;_1$ pode ser escrito como\n$$ r\u0026#39;_1 = \\left[ \\begin{matrix} 0 \u0026amp; 1 \u0026amp; -1 \\end{matrix} \\right] $$ Ent√£o, a hip√≥tese nula √© $$\\text{H}_0:\\ \\left[ \\begin{matrix} 0 \u0026amp; 1 \u0026amp; -1 \\end{matrix} \\right] \\left[ \\begin{matrix} \\beta_0 \\\\ \\beta_1 \\\\ \\beta_2 \\end{matrix} \\right] = 0\\ \\iff\\ \\beta_1 - \\beta_2 = 0 $$ Aplicando no R Avaliando a hip√≥tese nula com restri√ß√£o √∫nica Para o caso com uma √∫nica restri√ß√£o, assumimos que $$ \\boldsymbol{r}\u0026#39;_1 \\hat{\\boldsymbol{\\beta}} \\sim N(\\boldsymbol{r}\u0026#39;_1 \\hat{\\boldsymbol{\\beta}};\\ \\boldsymbol{r}\u0026#39;_1 \\boldsymbol{V_{\\beta(x)} r_1})$$\nCalcula-se a estat√≠stica t: $$ t = \\frac{\\boldsymbol{r}\u0026#39;_1 \\hat{\\boldsymbol{\\beta}} - h_1}{\\sqrt{\\boldsymbol{r}\u0026#39;_1 S^2 (\\boldsymbol{X}\u0026#39;\\boldsymbol{X})^{-1} \\boldsymbol{r}_1}} = \\frac{\\boldsymbol{r}\u0026#39;_1 \\hat{\\boldsymbol{\\beta}} - h_1}{\\sqrt{\\boldsymbol{r}\u0026#39;_1 \\boldsymbol{V_{\\beta(x)}} \\boldsymbol{r}_1}} $$\nNote que, em pequenas amostras, precisamos assumir que $ u|x \\sim N(0; \\sigma^2) $\nEscolhe-se o n√≠vel de signific√¢ncia $\\alpha$ e rejeita-se a hip√≥tese nula se a estat√≠stica t n√£o pertencer ao intervalo de confian√ßa.\n(Continua√ß√£o) Exemplo 7.5 - Equa√ß√£o do Log do Sal√°rio-Hora (Wooldridge, 2006) Anteriormente, estimamos o seguinte modelo: \\begin{align}\r\\log(\\text{wage}) = \u0026amp;\\beta_0 + \\beta_1 \\text{female} + \\beta_2 \\text{married} + \\delta_2 \\text{female*married} + \\beta_3 \\text{educ} +\\\\\r\u0026amp;\\beta_4 \\text{exper} + \\beta_5 \\text{exper}^2 + \\beta_6 \\text{tenure} + \\beta_7 \\text{tenure}^2 + u \\end{align} em que:\nwage: sal√°rio m√©dio por hora female: dummy em que (1) mulher e (0) homem married: dummy em que (1) casado e (0) solteiro female*married: intera√ß√£o (multiplica√ß√£o) das dummies female e married educ: anos de educa√ß√£o exper: anos de experi√™ncia (expersq = anos ao quadrado) tenure: anos de trabalho no empregador atual (tenursq = anos ao quadrado) # Carregando a base de dados necess√°ria data(wage1, package=\u0026#34;wooldridge\u0026#34;) # Estimando o modelo res_7.14 = lm(lwage ~ female*married + educ + exper + expersq + tenure + tenursq, data=wage1) round( summary(res_7.14)$coef, 4 ) ## Estimate Std. Error t value Pr(\u0026gt;|t|) ## (Intercept) 0.3214 0.1000 3.2135 0.0014 ## female -0.1104 0.0557 -1.9797 0.0483 ## married 0.2127 0.0554 3.8419 0.0001 ## educ 0.0789 0.0067 11.7873 0.0000 ## exper 0.0268 0.0052 5.1118 0.0000 ## expersq -0.0005 0.0001 -4.8471 0.0000 ## tenure 0.0291 0.0068 4.3016 0.0000 ## tenursq -0.0005 0.0002 -2.3056 0.0215 ## female:married -0.3006 0.0718 -4.1885 0.0000 Notamos que o efeito do casamento sobre mulheres √© diferente do efeito sobre homens, pois o par√¢metro de female:married ( $\\delta_2$) √© significante. No ‚Ä¶","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"e03fc5946f782fba6319ebaadd8a9e31","permalink":"https://fhnishida.netlify.app/project/rec2301/sec9/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec2301/sec9/","section":"project","summary":"This page is about statistical hypothesis testing using the Wald test. It explains how to construct hypothesis tests using matrices and vectors and provides examples of linear constraints. The page also includes R code for evaluating the null hypothesis with a single constraint and multiple linear constraints. Additionally, it discusses the F-test and provides an example using the mlb1 dataset from Wooldridge (2006).","tags":null,"title":"Testes de Hip√≥tese","type":"book"},{"authors":null,"categories":null,"content":" Se√ß√µes 8.2 e 8.3 de Heiss (2020) Se√ß√µes 5.5, 7.1 a 7.4 de Davidson e MacKinnon (1999) Se√ß√µes 4.2.3 e 4.2.4 de Wooldridge Matriz de vari√¢ncias-covari√¢ncias dos erros Relembre que a matriz de vari√¢ncias-covari√¢ncias dos erros √© dada por:\n$$ cov(\\boldsymbol{\\varepsilon}) = \\underset{N \\times N}{\\boldsymbol{\\Sigma}} = \\left[ \\begin{array}{cccc}\rvar(\\varepsilon_{1}) \u0026amp; cov(\\varepsilon_{1}, \\varepsilon_{2}) \u0026amp; \\cdots \u0026amp; cov(\\varepsilon_{1}, \\varepsilon_{N}) \\\\\rcov(\\varepsilon_{2}, \\varepsilon_{1}) \u0026amp; var(\\varepsilon_{2}) \u0026amp; \\cdots \u0026amp; cov(\\varepsilon_{2}, \\varepsilon_{N}) \\\\\r\\vdots \u0026amp; \\vdots \u0026amp; \\ddots \u0026amp; \\vdots \\\\\rcov(\\varepsilon_{N}, \\varepsilon_{1}) \u0026amp; cov(\\varepsilon_{N}, \\varepsilon_{2}) \u0026amp; \\cdots \u0026amp; var(\\varepsilon_{N}) \\end{array} \\right]$$ Como assumimos amostragem aleat√≥ria, a covari√¢ncia entre dois indiv√≠duos distintos ($i \\neq j$) √©\n$$ cov(\\varepsilon_{i}, \\varepsilon_{j}) = 0, \\qquad \\text{para todo } i \\neq j.$$\nLogo, $$ \\boldsymbol{\\Sigma} = \\left[ \\begin{array}{cccc}\rvar(\\varepsilon_{1}) \u0026amp; 0 \u0026amp; \\cdots \u0026amp; 0 \\\\\r0 \u0026amp; var(\\varepsilon_{2}) \u0026amp; \\cdots \u0026amp; 0 \\\\\r\\vdots \u0026amp; \\vdots \u0026amp; \\ddots \u0026amp; \\vdots \\\\\r0 \u0026amp; 0 \u0026amp; \\cdots \u0026amp; var(\\varepsilon_{N}) \\end{array} \\right]$$\nPara MQO, assum√≠amos homocedasticidade e, portanto, a diagonal principal era toda preenchida por um mesmo $ var(\\varepsilon_i) = \\sigma^2,\\ \\forall i$. Na presen√ßa de heteroscedasticidade, segue que $ var(\\varepsilon_i) = \\sigma^2_i,\\ \\forall i$ e, logo:\n$$ \\boldsymbol{\\Sigma} = \\left[ \\begin{array}{cccc}\r\\sigma^2_1 \u0026amp; 0 \u0026amp; \\cdots \u0026amp; 0 \\\\\r0 \u0026amp; \\sigma^2_2 \u0026amp; \\cdots \u0026amp; 0 \\\\\r\\vdots \u0026amp; \\vdots \u0026amp; \\ddots \u0026amp; \\vdots \\\\\r0 \u0026amp; 0 \u0026amp; \\cdots \u0026amp; \\sigma^2_N \\end{array} \\right] \\ \\neq\\ \\sigma^2 I_N $$ Como √© uma matriz diagonal, √© f√°cil computar a inversa da matriz:\n$$ \\boldsymbol{\\Sigma}^{-1} = \\left[ \\begin{array}{cccc}\r1/\\sigma^2_1 \u0026amp; 0 \u0026amp; \\cdots \u0026amp; 0 \\\\\r0 \u0026amp; 1/\\sigma^2_2 \u0026amp; \\cdots \u0026amp; 0 \\\\\r\\vdots \u0026amp; \\vdots \u0026amp; \\ddots \u0026amp; \\vdots \\\\\r0 \u0026amp; 0 \u0026amp; \\cdots \u0026amp; 1/\\sigma^2_N \\end{array} \\right]$$ e $$\\boldsymbol{\\Sigma}^{-0.5} = \\left[ \\begin{array}{cccc}\r1/\\sigma_1 \u0026amp; 0 \u0026amp; \\cdots \u0026amp; 0 \\\\\r0 \u0026amp; 1/\\sigma_2 \u0026amp; \\cdots \u0026amp; 0 \\\\\r\\vdots \u0026amp; \\vdots \u0026amp; \\ddots \u0026amp; \\vdots \\\\\r0 \u0026amp; 0 \u0026amp; \\cdots \u0026amp; 1/\\sigma_N \\end{array} \\right]$$\nTestes de heterocedasticidade A ideia os testes de heterocedasticidade √© pegar os res√≠duos da estima√ß√£o por MQO, $\\hat{\\boldsymbol{\\varepsilon}}$, e verificar sua correla√ß√£o com as vari√°veis explicativas, $\\boldsymbol{X}$. Em caso de homocedasticidade, essa correla√ß√£o deveria ser estatisticamente nula. Podemos testar isso por meio do testes de Breusch-Pagan ou de White. Teste de Breusch-Pagan Inicialmente, considere o seguinte modelo linear $$\\boldsymbol{y} = \\beta_0 + \\beta_1 \\boldsymbol{x}_{1} + ... + \\beta_K \\boldsymbol{x}_{K} + \\boldsymbol{\\varepsilon} = \\boldsymbol{X} \\boldsymbol{\\beta} + \\boldsymbol{\\varepsilon} $$\nAo estim√°-lo por MQO, obtemos os res√≠duos $\\hat{\\boldsymbol{\\varepsilon}} = \\boldsymbol{y} - \\hat{\\boldsymbol{y}} = \\boldsymbol{y} - \\boldsymbol{X} \\hat{\\boldsymbol{\\beta}}$\nDepois, fazemos a regress√£o dos res√≠duos ao quadrado em fun√ß√£o das covariadas: $$\\hat{\\boldsymbol{\\varepsilon}}^2 = \\alpha + \\gamma_1 \\boldsymbol{x}_{1} + ... + \\gamma_K \\boldsymbol{x}_{K} + \\boldsymbol{u} = \\boldsymbol{X} \\boldsymbol{\\gamma} + \\boldsymbol{u} $$\nBreusch-Pagan (1979) e Koenker (1981) propuseram testar a hip√≥tese nula conjunta de que todos os par√¢metros s√£o iguais a zero: $$H_0: \\quad \\boldsymbol{\\gamma} = \\boldsymbol{0} \\iff \\begin{bmatrix} \\gamma_1 \\\\ \\gamma_2 \\\\ \\vdots \\\\ \\gamma_K \\end{bmatrix} = \\begin{bmatrix} 0 \\\\ 0 \\\\ \\vdots \\\\ 0 \\end{bmatrix} $$\nA verifica√ß√£o dessa hip√≥tese pode ser feita via estat√≠stica LM\n$$ LM = N. R^2_{\\scriptstyle{\\hat{\\varepsilon}}}\\ \\sim\\ \\chi^2_K $$ Exemplo 8.7: Demanda por Cigarros (Wooldridge) Nesta se√ß√£o, vamos usar a base de dados smoke do pacote wooldridge para estimar o seguinte modelo: \\begin{align}\\text{cigs} = \u0026amp;\\beta_0 + \\beta_1 \\text{lincome} + \\beta_2 \\text{lcigpric} + \\beta_3 \\text{educ} + \\beta_4 \\text{age}\\\\ \u0026amp;+ \\beta_5 \\text{agesq} + \\beta_6 \\text{restaurn} + \\varepsilon \\end{align} em que:\ncigs: cigarros fumados por dia\nlincome: log da renda\nlcigpric: log do pre√ßo do cigarro\neduc: anos de escolaridade\nage: idade\nagesq: idade ao quadrado\nrestaurn: dummy resturante tem restri√ß√µes de fumo\nlibrary(lmtest) # precisa ser instalado data(smoke, package=\u0026#34;wooldridge\u0026#34;) # Regress√£o do modelo reg = lm(cigs ~ lincome + lcigpric + educ + age + agesq + restaurn, data=smoke) bptest(reg) ## ## studentized Breusch-Pagan test ## ## data: reg ## BP = 32.258, df = 6, p-value = 1.456e-05 # Teste BP na \u0026#34;m√£o\u0026#34; N = nrow(smoke) K = ncol(model.matrix(reg)) - 1 reg.resid = lm(resid(reg)^2 ~ lincome + lcigpric + educ + age + agesq + restaurn, data=smoke) r2e = summary(reg.resid)$r.squared LM = N * r2e 1 - pchisq(LM, K) ## [1] 1.455779e-05 Alternativamente, o teste tamb√©m pode ser feito pela estat√≠stica LM (ou, tamb√©m, Wald): $$ F_{\\scriptscriptstyle{K, (N-K-1)}} = \\frac{R^2_{\\scriptstyle{\\hat{\\varepsilon}}}/K}{(1 - R^2_{\\scriptstyle{\\hat{\\varepsilon}}}) / (N-K-1)} $$ # Teste F j√° vem calculado no ‚Ä¶","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"e2f7f7abb3c24a069c0cc1eb84cb43c7","permalink":"https://fhnishida.netlify.app/project/rec5004/sec10/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec5004/sec10/","section":"project","summary":"The section covers topics such as the variance-covariance matrix of errors, heteroskedasticity tests (including the Breusch-Pagan and White tests), and various estimators such as OLS with robust standard errors, GLS, WLS, and FGLS. The section provides R code examples for performing these analyses and includes references to relevant literature. Overall, this section of the webpage provides a comprehensive overview of econometric methods and techniques for analyzing data using R. It is a valuable resource for anyone interested in learning more about these topics.","tags":null,"title":"Heterocedasticidade","type":"book"},{"authors":null,"categories":null,"content":"Otimiza√ß√£o num√©rica Essa se√ß√£o tem o objetivo para dar uma intui√ß√£o sobre m√©todos de otimiza√ß√£o. Veremos os m√©todos de grid search e gradient ascent (descent) que representam fam√≠lias de m√©todos de otimiza√ß√£o. Grid Search O m√©todo mais simples de otimiza√ß√£o num√©rica √© o grid search (discretiza√ß√£o). Como o R n√£o lida com problemas com infinitos valores, uma forma lidar com isso √© discretizando diversos poss√≠veis valores dos par√¢metros de escolha dentro de intervalos. Para cada poss√≠vel combina√ß√£o de par√¢metros, calculam-se diversos valores a partir da fun√ß√£o objetivo. De todos os valores calculados, escolhe-se a combina√ß√£o de par√¢metros que maximizam (ou minimizam) a fun√ß√£o objetivo. O exemplo abaixo considera apenas um par√¢metro de escolha $\\theta$ e, para cada ponto escolhido dentro do intervalo $[-1, 1]$, calcula-se a fun√ß√£o objetivo: Este √© um m√©todo robusto a fun√ß√µes com descontinuidades e quinas (n√£o diferenci√°veis), e menos sens√≠vel a chutes de valores iniciais. (ver m√©todo abaixo) Por√©m, este m√©todo fica preciso apenas com maiores quantidades de pontos e, como √© necess√°rio fazer o c√°lculo da fun√ß√£o objetivo para cada ponto, o grid search tende a ser menos eficiente computacionalmente (demora mais tempo para calcular). Gradient Ascent (Descent) Conforme o n√∫mero de par√¢metros do modelo cresce, aumenta o n√∫mero de poss√≠veis combina√ß√µes entre par√¢metros e torna o processo computacional cada vez mais lento. Uma forma mais eficiente de encontrar o conjunto de par√¢metros que otimizam a fun√ß√£o objetivo √© por meio do m√©todo gradient ascent (descent). Queremos encontrar o ${\\theta}^{**}$ que √© o par√¢metro que maximiza globalmente a fun√ß√£o objetivo Passos para encontrar um m√°ximo: Comece com algum valor inicial de par√¢metro, ${\\theta}^0$ Calcula-se a derivada e avalia-se a possibilidade de ‚Äúandar para cima‚Äù a um valor mais alto Caso possa, ande na dire√ß√£o correta a ${\\theta}^1$ Repita os passos (2) e (3), andando para um novo ${\\theta}^2, {\\theta}^3, ...$ at√© atingir um ponto m√°ximo cuja derivada √© igual a zero. Note que esse m√©todo de otimiza√ß√£o √© sens√≠vel ao par√¢metro inicial e √†s descontinuidades da fun√ß√£o objetivo. No exemplo, se os chutes iniciais forem ${\\theta}^0_A$ ou ${\\theta}^0_B$, ent√£o consegue atingir o m√°ximo global. J√° se o chute inicial for ${\\theta}^0_C$, ent√£o ele acaba atingindo um m√°ximo local com ${\\theta}^*$ (menor do que o m√°ximo global em ${\\theta}^{**}$). Por outro lado, √© um m√©todo mais eficiente, pois calcula-se a fun√ß√£o objetivo uma vez a cada passo, al√©m de ser mais preciso nas estima√ß√µes. Encontrando MQO por diferentes estrat√©gias Nesta se√ß√£o, encontraremos as estimativas de MQO usando as estrat√©gias da (a) minimiza√ß√£o da fun√ß√£o perda, de (b) m√°xima verossimilhan√ßa e de (c) m√©todo dos momentos. Em cada uma delas, usaremos uma fun√ß√£o objetivo distinta para encontrar o vetor com dois par√¢metros, $ \\boldsymbol{\\theta} = \\{ \\beta_0, \\beta_1 \\} $, que a otimiza. No R, vamos chamar esse vetor de params. Base mtcars √â necess√°rio carregar o pacote dplyr para manipula√ß√£o da base de dados abaixo.\nlibrary(dplyr) Usaremos dados extra√≠dos da Motor Trend US magazine de 1974, que analisa o consumo de combust√≠vel e 10 aspectos t√©cnicos de 32 autom√≥veis.\nNo R, a base de dados j√° est√° incorporada ao programa e pode ser acessada pelo c√≥digo mtcars, contendo a seguinte estrutura:\nmpg: milhas por gal√£o hp: cavalos-vapor bruto Queremos estimar o seguinte modelo: $$ \\text{mpg} = \\beta_0 + \\beta_1 \\text{hp} + \\varepsilon $$ ## Regressao MQO reg = lm(formula = mpg ~ hp, data = mtcars) summary(reg)$coef ## Estimate Std. Error t value Pr(\u0026gt;|t|) ## (Intercept) 30.09886054 1.6339210 18.421246 6.642736e-18 ## hp -0.06822828 0.0101193 -6.742389 1.787835e-07 (a) Minimiza√ß√£o da fun√ß√£o perda A fun√ß√£o perda adotada pela Teoria da Decis√£o √© a fun√ß√£o de soma dos quadrados dos res√≠duos Por essa estrat√©gia, queremos encontrar as estimativas, $\\boldsymbol{\\theta} = \\{ \\hat{\\beta}_0,\\ \\hat{\\beta}_1 \\}$, que minimizam essa fun√ß√£o. 1. Criar fun√ß√£o perda que calcula a soma dos res√≠duos quadr√°ticos A fun√ß√£o para calcular a soma dos res√≠duos quadr√°ticos recebe como inputs: um vetor de poss√≠veis valores $\\boldsymbol{\\theta} = \\{ \\hat{\\beta}_0,\\ \\hat{\\beta}_1 \\}$ um texto com o nome da vari√°vel dependente um vetor de texto com os nomes dos regressores uma base de dados resid_quad = function(params, yname, xname, data) { # Extraindo as vari√°veis da base em vetores y = as.matrix(data[yname]) x = as.matrix(data[xname]) # Extraindo os par√¢metros de params b0 = params[1] b1 = params[2] sig2 = params[3] yhat = b0 + b1 * x # valores ajustados e_hat = y - yhat # desvios = observados - ajustados sum(e_hat^2) } 2. Otimiza√ß√£o Agora encontraremos os par√¢metros que minimizam a fun√ß√£o perda $$ \\underset{\\hat{\\beta}_0, \\hat{\\beta}_1}{\\text{argmin}} \\sum_{i=1}^{N}\\hat{u}^2 \\quad = \\quad \\underset{\\hat{\\beta}_0, \\hat{\\beta}_1}{\\text{argmin}} \\sum_{i=1}^{N}\\left( \\text{mpg}_i - \\widehat{\\text{mpg}}_i \\right)^2 $$ Para isto usaremos a fun√ß√£o ‚Ä¶","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"9b82f56b956679f748ad872e7c5ffac8","permalink":"https://fhnishida.netlify.app/project/rec2301/sec10/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec2301/sec10/","section":"project","summary":"The author covers topics such as grid search and steepest ascent methods for optimization to show three approaches to reach the OLS estimation formula. The page also includes examples and code snippets to illustrate the concepts discussed.","tags":null,"title":"(Extra) Otimiza√ß√£o Num√©rica","type":"book"},{"authors":null,"categories":null,"content":" Se√ß√µes 15.1 a 15.5 de Heiss (2020) Se√ß√£o 4.8 de Cameron e Trivedi (2005) Cap√≠tulo 5 de Wooldridge (2010) Cap√≠tulo 8 de Davidson e MacKinnon (1999) Nota√ß√µes Considere o modelo multivariado com $K$ regressores: $$ \\boldsymbol{y} = \\beta_0 + \\beta_1 \\boldsymbol{x}^*_{1} + ... + \\beta_J \\boldsymbol{x}^*_{J} + \\beta_{J+1} \\boldsymbol{x}_{J+1} + ... + \\beta_K \\boldsymbol{x}_{K} + \\boldsymbol{\\varepsilon} $$ em que $\\boldsymbol{x}^*_1, ..., \\boldsymbol{x}^*_{iJ}$ s√£o as $J$ regressores end√≥genos do modelo, com $N$ observa√ß√µes.\nMatricialmente, podemos escrever (1) como: $$ \\boldsymbol{y} = \\boldsymbol{X} \\boldsymbol{\\beta} + \\boldsymbol{\\varepsilon} \\tag{2} $$ em que $$ \\underset{N \\times (K+1)}{\\boldsymbol{X}} = \\begin{bmatrix} 1 \u0026amp; x^*_{11} \u0026amp; \\cdots \u0026amp; x^*_{1J} \u0026amp; x_{1,J+1} \u0026amp; \\cdots \u0026amp; x_{1K} \\\\ 1 \u0026amp; x^*_{21} \u0026amp; \\cdots \u0026amp; x^*_{2J} \u0026amp; x_{2,J+1} \u0026amp; \\cdots \u0026amp; x_{2K} \\\\ \\vdots \u0026amp; \\vdots \u0026amp; \\ddots \u0026amp; \\vdots \u0026amp; \\vdots \u0026amp; \\ddots \u0026amp; \\vdots \\\\ 1 \u0026amp; x^*_{N1} \u0026amp; \\cdots \u0026amp; x^*_{NJ} \u0026amp; x_{N,J+1} \u0026amp; \\cdots \u0026amp; x_{NK} \\end{bmatrix}, $$ $$ \\underset{N \\times 1}{\\boldsymbol{y}} = \\left[ \\begin{matrix} \\boldsymbol{y}_1 \\\\ \\boldsymbol{y}_2 \\\\ \\vdots \\\\ \\boldsymbol{y}_N \\end{matrix} \\right] \\quad \\text{ e } \\quad \\underset{N \\times 1}{\\boldsymbol{\\varepsilon}} = \\left[ \\begin{matrix} \\boldsymbol{\\varepsilon}_1 \\\\ \\boldsymbol{\\varepsilon}_2 \\\\ \\vdots \\\\ \\boldsymbol{\\varepsilon}_N \\end{matrix} \\right] $$\nDenote $\\boldsymbol{Z}$ a matriz de instrumentos com $L$ vari√°veis instrumentais, $\\boldsymbol{z}_k$, e $K-J$ vari√°veis ex√≥genas, $\\boldsymbol{x}_k$: $$ \\underset{N \\times (1+L+K-J)}{\\boldsymbol{Z}} = \\begin{bmatrix}\r1 \u0026amp; z_{11} \u0026amp; \\cdots \u0026amp; z_{1L} \u0026amp; x_{1,J+1} \u0026amp; \\cdots \u0026amp; x_{1K} \\\\\r1 \u0026amp; z_{21} \u0026amp; \\cdots \u0026amp; z_{2L} \u0026amp; x_{2,J+1} \u0026amp; \\cdots \u0026amp; x_{2K} \\\\\r\\vdots \u0026amp; \\vdots \u0026amp; \\ddots \u0026amp; \\vdots \u0026amp; \\vdots \u0026amp; \\ddots \u0026amp; \\vdots \\\\\r1 \u0026amp; z_{N1} \u0026amp; \\cdots \u0026amp; z_{NL} \u0026amp; x_{N,J+1} \u0026amp; \\cdots \u0026amp; x_{NK} \\end{bmatrix},$$ em que $J \\ge L$ e, logo, $\\boldsymbol{Z}$ tem pelo menos o mesmo n√∫mero de colunas da matriz $\\boldsymbol{X}$\nNote que:\nos (melhores) instrumentos de vari√°veis ex√≥genas s√£o elas mesmas ( $\\boldsymbol{x}_2, ..., \\boldsymbol{x}_K$) Apenas no caso em que $J = L$ (n¬∫ de regressores end√≥genos = n¬∫ de instrumentos), a matriz $\\boldsymbol{Z}$ tem as mesmas dimens√µes de $\\boldsymbol{X:}$ $$ \\underset{N \\times (K+1)}{\\boldsymbol{Z}} = \\left[ \\begin{matrix} 1 \u0026amp; z_{11} \u0026amp; \\cdots \u0026amp; z_{1J} \u0026amp; x_{1,J+1} \u0026amp; \\cdots \u0026amp; x_{1K} \\\\ 1 \u0026amp; z_{21} \u0026amp; \\cdots \u0026amp; z_{2J} \u0026amp; x_{2,J+1} \u0026amp; \\cdots \u0026amp; x_{2K} \\\\ \\vdots \u0026amp; \\vdots \u0026amp; \\ddots \u0026amp; \\vdots \u0026amp; \\vdots \u0026amp; \\ddots \u0026amp; \\vdots \\\\ 1 \u0026amp; z_{N1} \u0026amp; \\cdots \u0026amp; z_{NJ} \u0026amp; x_{N,J+1} \u0026amp; \\cdots \u0026amp; x_{NK} \\end{matrix} \\right], $$ E assuma $\\boldsymbol{Z}^*$ a submatriz das $(L+1)$ colunas de $\\boldsymbol{Z}$, com a coluna de 1‚Äôs e os $L$ instrumentos dos regressores end√≥genos: $$ \\underset{N \\times (L+1)}{\\boldsymbol{Z}^*} = \\left[ \\begin{matrix} 1 \u0026amp; z_{11} \u0026amp; z_{12} \u0026amp; \\cdots \u0026amp; z_{1L} \\\\ 1 \u0026amp; z_{21} \u0026amp; z_{22} \u0026amp; \\cdots \u0026amp; z_{2L} \\\\ \\vdots \u0026amp; \\vdots \u0026amp; \\vdots \u0026amp; \\ddots \u0026amp; \\vdots \\\\ 1 \u0026amp; z_{N1} \u0026amp; z_{N2} \u0026amp; \\cdots \u0026amp; z_{NL} \\end{matrix} \\right], $$\nAs nota√ß√µes s√£o um pouco diferentes das notas de aula do professor.\nEstimador VI O estimador de vari√°veis instrumentais (VI) √© dado por $$ \\hat{\\boldsymbol{\\beta}}_{\\scriptscriptstyle{VI}} = (\\boldsymbol{Z}\u0026#39;\\boldsymbol{X})^{-1} \\boldsymbol{Z}\u0026#39; \\boldsymbol{y} $$\nObserve que o estimador VI exige que as dimens√µes de $\\boldsymbol{Z}$ sejam as mesmas de $\\boldsymbol{X}$, caso contr√°rio n√£o √© poss√≠vel inverter $\\boldsymbol{Z\u0026#39;X}$ (pois n√£o seria uma matriz quadrada).\nA matriz de vari√¢ncias-covari√¢ncias do estimador √© dada por $$ V(\\hat{\\boldsymbol{\\beta}}^{\\scriptscriptstyle{VI}})= \\left( \\boldsymbol{Z}\u0026#39; \\boldsymbol{X}\\right)^{-1} \\boldsymbol{Z}\u0026#39; \\boldsymbol{\\Sigma} \\boldsymbol{Z} \\left(\\boldsymbol{X}\u0026#39; \\boldsymbol{Z} \\right)^{-1} $$\nAssumindo homocedasticidade, $\\boldsymbol{\\Sigma} = \\sigma^2 \\boldsymbol{I}$, podemos simplificar a express√£o: \\begin{align} V(\\hat{\\boldsymbol{\\beta}}^{\\scriptscriptstyle{VI}}) \u0026amp;= \\left( \\boldsymbol{Z}\u0026#39; \\boldsymbol{X}\\right)^{-1} \\boldsymbol{Z}\u0026#39; (\\sigma^2 \\boldsymbol{I}) \\boldsymbol{Z} \\left(\\boldsymbol{X}\u0026#39; \\boldsymbol{Z} \\right)^{-1} \\\\\r\u0026amp;= \\sigma^2 {\\color{red}\\left( \\boldsymbol{Z}\u0026#39; \\boldsymbol{X}\\right)^{-1}} {\\color{green}\\boldsymbol{Z}\u0026#39; \\boldsymbol{Z}} {\\color{blue}\\left(\\boldsymbol{X}\u0026#39; \\boldsymbol{Z} \\right)^{-1}} \\\\\r\u0026amp;\\overset{*}{=} \\sigma^2 \\left( {\\color{blue}\\boldsymbol{X}\u0026#39; \\boldsymbol{Z}} {\\color{green}(\\boldsymbol{Z}\u0026#39; \\boldsymbol{Z})^{-1}} {\\color{red}\\boldsymbol{Z}\u0026#39; \\boldsymbol{X}} \\right)^{-1} \\\\\r\u0026amp;= \\sigma^2 \\left( \\boldsymbol{X}\u0026#39; \\boldsymbol{P_{\\scriptscriptstyle{Z}}} \\boldsymbol{X} \\right)^{-1} \\end{align} em que $\\boldsymbol{P_{\\scriptscriptstyle{Z}}}$ √© a matriz de proje√ß√£o ortogonal em $\\boldsymbol{Z}$. (*) Como cada dupla de matrizes tem dimens√£o K x K, ent√£o podemos inverter toda express√£o ‚Äúda direita para esquerda‚Äù, iniciando pela inversa de $\\left(\\boldsymbol{Z}\u0026#39; \\boldsymbol{X} \\right)^{-1}$, inversa de $\\boldsymbol{Z}\u0026#39; \\boldsymbol{Z}$, e inversa de $\\left(\\boldsymbol{X}\u0026#39; \\boldsymbol{Z} \\right)^{-1}$\nA vari√¢ncia do termo de ‚Ä¶","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"37df2bf5df398db26a3a58aa610536a9","permalink":"https://fhnishida.netlify.app/project/rec5004/sec11/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec5004/sec11/","section":"project","summary":"The IV / 2SLS section of the current web page context discusses Instrumental Variable and Two-Stage Least Squares methods. These are statistical techniques used to estimate causal relationships when there is a concern about endogeneity, or when one or more of the independent variables are correlated with the error term. The section includes references to several academic sources on these topics, including sections from books by Heiss (2020), Cameron and Trivedi (2005), Wooldridge (2010), and Davidson and MacKinnon (1999). The section also includes mathematical notation and equations related to these methods. For example, it presents a multivariate model with K regressors, matrix notation, and the definition of an instrumental variable. The section also includes information on how to estimate an instrumental variable using R code, including an example using the mroz dataset from the wooldridge package. Overall, this section provides a detailed introduction to instrumental variable and two-stage least squares methods, including both theoretical background and practical examples using R code.","tags":null,"title":"Instrumental Variable and Two-Stage Least Squares","type":"book"},{"authors":null,"categories":null,"content":"","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"953196db7c380b76ca4093c0276efb1f","permalink":"https://fhnishida.netlify.app/project/rec5004/sec12/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec5004/sec12/","section":"project","summary":"----------------","tags":null,"title":"","type":"book"},{"authors":null,"categories":null,"content":"Grava√ß√µes REC2312 Monitoria 4: Dados em Painel e Matriz de Covari√¢ncias dos Erros | Script Monitoria 5: Estima√ß√£o da Matriz de Covari√¢ncias dos Erros e Estimador de MQE | Script Monitoria 6: Estimador de MQGF | Script Monitoria 7: Matrizes de Transforma√ß√£o e Estimador Between | Script Monitoria 8: Estimadores Within e de Primeiras Diferen√ßas | Script Estrutura dos Dados Se√ß√£o 2.1.1 de ‚ÄúPanel Data Econometrics with R‚Äù (Croissant \u0026amp; Millo, 2018) A maioria das nota√ß√µes foram adaptadas de acordo com as notas de aula de Econometria I. Corte Transversal At√© agora, utilizamos bases de dados em corte transversal (ou cross-section, em ingl√™s), ou seja, em que cada linha representava um indiv√≠duo $i = 1, ..., N$ e observamos as realiza√ß√µes da vari√°vel dependente $y$ e das vari√°veis explicativas $k = 1, 2, ..., K$:\nExemplo Considerando $N = 4$ indiv√≠duos e $K = 2$ covariadas, segue o exemplo:\nPainel Tamb√©m √© comum utilizarmos dados em painel, isto √©, uma base de dados em que observamos os indiv√≠duos $i = 1, ..., N$ nos $t = 1, ..., T$ per√≠odos.\nEste tipo de estrutura de dado permite, al√©m de fazer compara√ß√µes inter-indiv√≠duos (between), avaliar diferen√ßas intra-indiv√≠duos (within) a partir das varia√ß√µes ocorridas ao longo do tempo para um mesmo indiv√≠duo.\nPor simplicidade, consideramos que todos indiv√≠duos possuem $T$ observa√ß√µes ao longo do tempo (painel balanceado). Al√©m disso, dados em painel podem estar dispostos de duas formas: longa ou curta.\nPainel longo (long, em ingl√™s) Aqui, cada indiv√≠duo aparece em $T$ linhas. Cada observa√ß√£o √© indicada pela dupla $i$ e $t$ (vari√°veis-chave da base de dados). Essa √© a forma padr√£o utilizada em Econometria.\nPainel curto (wide, em ingl√™s) Na forma curta, as informa√ß√µes das vari√°veis dependentes e independentes aparecem repetidamente por $T$ vezes, sendo que cada repeti√ß√£o corresponde a um dos $T$ per√≠odos:\nExemplos Como exemplo, consideramos $N = 4$ indiv√≠duos e $K = 2$ covariadas e $T = 2$ per√≠odos. As bases de dados em paineis longo e curto, respectivamente, teriam as seguintes estruturas:\nModelo em Painel Para a observa√ß√£o do indiv√≠duo $i \\in \\{1, ..., N\\}$ no per√≠odo $t \\in \\{1, ..., T\\}$, podemos escrever o modelo como:\n$$ y_{it} = \\boldsymbol{x}\u0026#39;_{it} \\boldsymbol{\\beta} + \\varepsilon_{it} \\tag{1} $$ em que $\\boldsymbol{\\beta}$ √© um vetor-coluna de $K$ par√¢metros\n$$ \\boldsymbol{\\beta} = \\left[ \\begin{array}{c} \\beta_0 \\\\ \\beta_1 \\\\ \\beta_2 \\\\ \\vdots \\\\ \\beta_K \\end{array} \\right], $$ $y_{it}$ √© a vari√°vel dependente, $\\boldsymbol{x}\u0026#39;_{it}$ √© o vetor-linha de dimens√£o $K+1$:\n$$ \\boldsymbol{x}\u0026#39;_{it} = \\left[ \\begin{array}{c} 1 \u0026amp; x^1_{it} \u0026amp; x^2_{it} \u0026amp; \\cdots \u0026amp; x^K_{it} \\end{array} \\right], $$ e o erro $\\varepsilon_{it}$ pode ser escrito como:\n$$ \\varepsilon_{it} = u_i + v_{it}, $$ sendo $u_i$ o erro individual para o indiv√≠duo $i$ e $v_{it}$ √© o erro idiossincr√°tico (residual).\nEmpilhando as equa√ß√µes (1) para todo indiv√≠duo $i = 1, 2, ..., N$ e todo per√≠odo $t = 1, 2, ..., T $, temos\n$$ \\underbrace{\\boldsymbol{y}}_{NT \\times 1} = \\left[ \\begin{array}{c}\ry_{11} \\\\ y_{12} \\\\ \\vdots \\\\ y_{1T} \\\\\\hline y_{21} \\\\ y_{22} \\\\ \\vdots \\\\ y_{2T} \\\\\\hline \\vdots \\\\\\hline y_{N1} \\\\ y_{N2} \\\\ \\vdots \\\\ y_{NT}\r\\end{array} \\right] \\quad \\text{ e } \\quad \\underbrace{\\boldsymbol{X}}_{NT \\times K} = \\left[ \\begin{array}{c}\r\\boldsymbol{x}\u0026#39;_{11} \\\\ \\boldsymbol{x}\u0026#39;_{12} \\\\ \\vdots \\\\ \\boldsymbol{x}\u0026#39;_{1T} \\\\\\hline\r\\boldsymbol{x}\u0026#39;_{21} \\\\ \\boldsymbol{x}\u0026#39;_{22} \\\\ \\vdots \\\\ \\boldsymbol{x}\u0026#39;_{2T} \\\\\\hline\r\\vdots \\\\\\hline\r\\boldsymbol{x}\u0026#39;_{N1} \\\\ \\boldsymbol{x}\u0026#39;_{N2} \\\\ \\vdots \\\\ \\boldsymbol{x}\u0026#39;_{NT} \\end{array} \\right]\r= \\left[ \\begin{array}{ccccc}\r1 \u0026amp; x^1_{11} \u0026amp; x^2_{11} \u0026amp; \\cdots \u0026amp; x^K_{11} \\\\\r1 \u0026amp; x^1_{12} \u0026amp; x^2_{12} \u0026amp; \\cdots \u0026amp; x^K_{12} \\\\\r\\vdots \u0026amp; \\vdots \u0026amp; \\vdots \u0026amp; \\ddots \u0026amp; \\vdots \\\\\r1 \u0026amp; x^1_{1T} \u0026amp; x^2_{1T} \u0026amp; \\cdots \u0026amp; x^K_{1T} \\\\\\hline\r1 \u0026amp; x^1_{21} \u0026amp; x^2_{21} \u0026amp; \\cdots \u0026amp; x^K_{21} \\\\\r1 \u0026amp; x^1_{22} \u0026amp; x^2_{22} \u0026amp; \\cdots \u0026amp; x^K_{22} \\\\\r\\vdots \u0026amp; \\vdots \u0026amp; \\vdots \u0026amp; \\ddots \u0026amp; \\vdots \\\\\r1 \u0026amp; x^1_{2T} \u0026amp; x^2_{2T} \u0026amp; \\cdots \u0026amp; x^K_{2T} \\\\\\hline\r\\vdots \u0026amp; \\vdots \u0026amp; \\vdots \u0026amp; \\ddots \u0026amp; \\vdots \\\\\\hline\r1 \u0026amp; x^1_{N1} \u0026amp; x^2_{N1} \u0026amp; \\cdots \u0026amp; x^K_{N1} \\\\\r1 \u0026amp; x^1_{N2} \u0026amp; x^2_{N2} \u0026amp; \\cdots \u0026amp; x^K_{N2} \\\\\r\\vdots \u0026amp; \\vdots \u0026amp; \\vdots \u0026amp; \\ddots \u0026amp; \\vdots \\\\\r1 \u0026amp; x^1_{NT} \u0026amp; x^2_{NT} \u0026amp; \\cdots \u0026amp; x^K_{NT}\r\\end{array} \\right] $$ As linhas horizontais foram inseridas apenas para facilitar a visualiza√ß√£o dos valores referentes a cada indiv√≠duo $i$.\nMatriz de Vari√¢ncias-Covari√¢ncias dos Erros Se√ß√£o 2.2 de ‚ÄúPanel Data Econometrics with R‚Äù (Croissant \u0026amp; Millo, 2018) A Matriz de Vari√¢ncias-Covari√¢ncias dos Erros relaciona um termo de erro, $\\varepsilon_{it}$, com todos os demais termos de erro $\\varepsilon_{js}$, para todo $j = 1, ..., N$ e todo $a = 1, ..., T$.\nNa matriz de covari√¢ncia de erro, cada linha representa um $\\varepsilon_{it}$ e cada coluna representa um $\\varepsilon_{jt}$. Seus elementos representam a covari√¢ncia entre $\\varepsilon_{it}$ e $\\varepsilon_{jt}$, sendo que pode haver $\\varepsilon_{it} = \\varepsilon_{jt}$ (que, neste caso, torna-se ‚Ä¶","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"8c7ed13cf8c4f0f1bfeca0e0f393b0cd","permalink":"https://fhnishida.netlify.app/project/rec5004/sec13/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec5004/sec13/","section":"project","summary":"This page includes a section on panel data estimation with R and provides examples of data structures and models. The content is based on the book ‚ÄúPanel Data Econometrics with R‚Äù by Croissant \u0026 Millo (2018) and adapted from lecture notes on Econometrics I (2022).","tags":null,"title":"Panel Data Estimation","type":"book"},{"authors":null,"categories":null,"content":"Manipula√ß√£o de dados em painel Para o que estamos estudando, √© normalmente exigido que os dados estejam no formato long: para cada indiv√≠duo, temos uma linha para cada per√≠odo; balanceados: o tamanho da amostra √© $N \\times T$, com $N$ indiv√≠duos e $T$ per√≠odos; e devidamente ordenados por indiv√≠duos e, depois, por tempo. Em muitos casos, as informa√ß√µes s√£o disponibilizadas em v√°rias bases de dados de cortes transversais (cross sections), ent√£o √© necess√°rio estruturar a base de dados em painel. Isso por ser feito no R de, pelo menos, duas formas: empilhando as bases de dados e filtrando apenas indiv√≠duos que aparecem em todos per√≠odos; ou fazendo a jun√ß√£o interna (inner join) das bases por indiv√≠duo e transformando do formato wide para o long. Como exemplo, usaremos a PNAD Cont√≠nua que √© publicada trimestralmente e possui o pacote PNADcIBGE que auxilia na sua utiliza√ß√£o. Os dados podem ser obtidos viaread_pnadc(microdata, input_txt) que necessita que voc√™ fa√ßa download das bases de dados e do txt com informa√ß√µes das vari√°veis (input_txt) no FTP do IBGE: # install.packages(\u0026#34;PNADcIBGE\u0026#34;) # install.packages(\u0026#34;dplyr\u0026#34;) library(PNADcIBGE) library(dplyr) O arquivo compactado .zip √© cerca de 12% do arquivo descompactado .txt (133mb $\\times$ 1,08gb). Para n√£o precisar manter o arquivo .txt no computador, podemos usar a fun√ß√£o unz() para descompactar arquivos temporariamente: # Descompactando as bases da PNADc e carregando no R pnad_012021 = read_pnadc(unz(\u0026#34;PNADC_012021_20220224.zip\u0026#34;, \u0026#34;PNADC_012021.txt\u0026#34;), input_txt = \u0026#34;input_PNADC_trimestral.txt\u0026#34;) pnad_022021 = read_pnadc(unz(\u0026#34;PNADC_022021_20220224.zip\u0026#34;, \u0026#34;PNADC_022021.txt\u0026#34;), input_txt = \u0026#34;input_PNADC_trimestral.txt\u0026#34;) Para identificar um indiv√≠duo na base do PNAD, o IBGE usa as seguintes vari√°veis-chave: UPA: Unidade Prim√°ria de Amostragem / UF (2) + N¬∫ Sequencial (6) + DV (1) V1008: N√∫mero do domic√≠lio (01 a 14) V1014: Painel/Grupo de amostra (01 a 99) V2003: N√∫mero de ordem (01 a 30) Pesquisadores do Ipea (Teixeira J√∫nior et al., 2020) usam mais algumas vari√°veis-chave invariantes no tempo para tornar esse V2007: Sexo V2008/V20081/V20082: Data de nascimento (dia/m√™s/ano) Al√©m disso, vamos adicionar mais algumas vari√°veis: invariante no tempo: UF: Unidade da Federa√ß√£o variantes no tempo: V2009: Idade (em anos) VD4020: Rendimento mensal efetivo de todos os trabalhos para pessoas de 14 anos ou mais de idade # Lista de vari√°veis que vamos utilizar lista_var = c(\u0026#34;Trimestre\u0026#34;, \u0026#34;UPA\u0026#34;, \u0026#34;V1008\u0026#34;, \u0026#34;V1014\u0026#34;, \u0026#34;V2003\u0026#34;, \u0026#34;V2007\u0026#34;, \u0026#34;V2008\u0026#34;, \u0026#34;V20081\u0026#34;, \u0026#34;V20082\u0026#34;, \u0026#34;UF\u0026#34;, \u0026#34;V2009\u0026#34;, \u0026#34;VD4020\u0026#34;) # Selecionando e renomeando vari√°veis, e filtrando apenas maiores de 14 anos pnad_1 = pnad_012021 %\u0026gt;% select(all_of(lista_var)) %\u0026gt;% rename(DOMIC = V1008, PAINEL = V1014, ORDEM = V2003, SEXO = V2007, DIA_NASC = V2008, MES_NASC = V20081, ANO_NASC = V20082, IDADE = V2009, RENDA = VD4020) %\u0026gt;% filter(IDADE \u0026gt;= 14) pnad_2 = pnad_022021 %\u0026gt;% select(all_of(lista_var)) %\u0026gt;% rename(DOMIC = V1008, PAINEL = V1014, ORDEM = V2003, SEXO = V2007, DIA_NASC = V2008, MES_NASC = V20081, ANO_NASC = V20082, IDADE = V2009, RENDA = VD4020) %\u0026gt;% filter(IDADE \u0026gt;= 14) Filtrando indiv√≠duos presentes em todos per√≠odos Primeiro, empilharemos as bases de dados usando rbind(). √â necess√°rio garantir que tenham o mesmo n√∫mero de colunas e estas sejam da mesma classe (character, numeric, etc.): pnad_bind = rbind(pnad_1, pnad_2) head(pnad_bind) ## # A tibble: 6 √ó 12 ## Trimestre UPA DOMIC PAINEL ORDEM SEXO DIA_NASC MES_NASC ANO_NASC UF ## \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; ## 1 1 110000016 01 08 01 2 16 05 1981 11 ## 2 1 110000016 01 08 02 2 12 06 2000 11 ## 3 1 110000016 01 08 03 2 15 05 2004 11 ## 4 1 110000016 01 08 04 1 26 07 1947 11 ## 5 1 110000016 01 08 05 2 15 08 1961 11 ## 6 1 110000016 02 08 01 2 11 07 1983 11 ## # ‚Ñπ 2 more variables: IDADE \u0026lt;dbl\u0026gt;, RENDA \u0026lt;dbl\u0026gt; Note que a 2¬™ observa√ß√£o n√£o corresponde √† mesma pessoa da 1¬∫ linha. Vamos criar uma vari√°vel ID, juntando informa√ß√µes de todas vari√°veis-chave, e rearranjar a base de dados de acordo com ela e o trimestre: pnad_bind = pnad_bind %\u0026gt;% mutate( ID = paste0(UPA, DOMIC, PAINEL, ORDEM, SEXO, DIA_NASC, MES_NASC, ANO_NASC) ) %\u0026gt;% select(ID, everything()) %\u0026gt;% # reordenando vari√°veis, come√ßando com ID arrange(ID, Trimestre) head(pnad_bind, 10) ## # A tibble: 10 √ó 13 ## ID Trimestre UPA DOMIC PAINEL ORDEM SEXO DIA_NASC MES_NASC ANO_NASC ## \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; ## 1 11000001‚Ä¶ 1 1100‚Ä¶ 01 08 01 2 16 05 1981 ## 2 11000001‚Ä¶ 1 1100‚Ä¶ 01 08 02 2 12 06 2000 ## 3 11000001‚Ä¶ 1 1100‚Ä¶ 01 08 03 2 15 05 2004 ## 4 11000001‚Ä¶ 1 1100‚Ä¶ 01 08 04 1 26 07 1947 ## 5 11000001‚Ä¶ 1 1100‚Ä¶ 01 08 05 2 15 08 1961 ## 6 11000001‚Ä¶ 1 1100‚Ä¶ 02 08 01 2 11 07 1983 ## 7 11000001‚Ä¶ 2 1100‚Ä¶ 02 08 01 2 11 07 1983 ## 8 11000001‚Ä¶ 1 1100‚Ä¶ 02 08 02 1 99 99 9999 ## 9 11000001‚Ä¶ 2 1100‚Ä¶ 02 08 02 1 99 99 9999 ## 10 11000001‚Ä¶ 1 1100‚Ä¶ 03 08 01 2 09 03 1976 ## # ‚Ñπ 3 more variables: UF \u0026lt;chr\u0026gt;, IDADE \u0026lt;dbl\u0026gt;, RENDA \u0026lt;dbl\u0026gt; Observe que o base de dados em painel n√£o est√° balanceada, ou seja, nem ‚Ä¶","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"4482586a5f474b00b65f5797b9f26d90","permalink":"https://fhnishida.netlify.app/project/rec5004/sec14/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/project/rec5004/sec14/","section":"project","summary":"Learn how to use Wowchemy's docs layout for publishing online courses, software documentation, and tutorials.","tags":null,"title":"Panel Data Manipulation","type":"book"},{"authors":null,"categories":null,"content":"Welcome to TA Sessions for Econometrics I course (jointly prepared with Felipe Bauer).\nCourse webpage (prof. Daniel Domingues dos Santos): https://edisciplinas.usp.br/course/view.php?id=108682\nFeel free to contact us if you have any question:\nF√°bio Nishida: fabio.nishida@usp.br Felipe Bauer: felipebauer@usp.br üëâ Proceed to R Toolkit Listas Pr√°ticas Lista Pr√°tica 1 | Solu√ß√£o Lista Pr√°tica 2 | Solu√ß√£o (v2) Lista Pr√°tica 3 Lista Pr√°tica 4 Grava√ß√µes das Monitorias Monitoria 12: VI, MQ2E e Testes | Script Monitoria 11: MQG, MQP e MQGF | Script Monitoria 10: Testes de Heterocedasticidade e MQO com Erros Padr√£o Robustos | Script Monitoria 9: Testes de Hip√≥tese | Script Monitoria 8: Regress√£o M√∫ltipla | Script Monitoria 7: Otimiza√ß√£o Num√©rica | Script Monitoria 6: Regress√£o Simples | Script Monitoria 5: Visualiza√ß√£o de Dados e Distribui√ß√µes | Script Monitoria 4: Manipula√ß√£o de Dados | Script Monitoria 3: Programa√ß√£o em R - Parte 2 | Script\nO √°udio ficou meio ruim em algumas partes. Caso n√£o estejam entendendo, por favor, me avisem. Monitoria 2: Programa√ß√£o em R - Parte 1 | Script Monitoria 1: Ferramentas do R | Script [R Markdown](Segue o v√≠deo curto sobre o uso do R Markdown: https://www.youtube.com/watch?v=kpQBfVM3mww) ","date":1680480000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1680480000,"objectID":"990ebd8f9303f13109e092b3f2399873","permalink":"https://fhnishida.netlify.app/project/rec5004/","publishdate":"2023-04-03T00:00:00Z","relpermalink":"/project/rec5004/","section":"project","summary":"Graduate TA Sessions on OLS, GLS, IV and Panel Data.","tags":["Graduate"],"title":"Econometrics I (Spring 2023)","type":"book"},{"authors":null,"categories":null,"content":"Sejam bem-vindas(os) ao conte√∫do de Monitoria da disciplina de Econometria II!\nP√°gina do curso (prof. Daniel Domingues dos Santos): https://edisciplinas.usp.br/course/view.php?id=108687\nCaso tenham d√∫vidas, podem enviar e-mail para: fabio.nishida@usp.br\nMonitorias presenciais √†s quintas-feiras das 13h √†s 14h na sala 14-B1\nSe necess√°rio, usaremos a seguinte sala de Google Meet: https://meet.google.com/qtr-upxi-nwu\nüëâ Seguir para Revis√£o de R Grava√ß√µes das Monitorias Monitoria 10 (20/06): VI, MQ2E e Testes | Script Monitoria 9 (09/06): Testes de Hip√≥tese | Script Monitoria 8 (18/05): Estimadores Within e de Primeiras Diferen√ßas | Script Monitoria 7 (04/05): Matrizes de Tranforma√ß√£o e Estimador Between | Script Monitoria 6 (27/04): Estima√ß√£o de MQGF | Script Monitoria 5 (20/04): Estima√ß√£o da Matriz de Covari√¢ncias dos Erros e de MQE | Script Monitoria 4 (13/04): Dados em Painel e Matriz de Covari√¢ncias dos Erros | Script\nMonitoria 3 (30/03): MQO com Vari√°veis Categ√≥ricas | Script Monitoria 2 (23/03): M√≠nimos Quadrados Ordin√°rios | Script Monitoria 1 (16/03): Revis√£o de Programa√ß√£o em R | Script ","date":1678233600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1678233600,"objectID":"3d2771c07da2e80fd4770c0ec31c3c6c","permalink":"https://fhnishida.netlify.app/project/rec2312/","publishdate":"2023-03-08T00:00:00Z","relpermalink":"/project/rec2312/","section":"project","summary":"Undergraduate TA Sessions on Panel Data and IV.","tags":["Undergraduate"],"title":"Econometrics II (Spring 2023)","type":"book"},{"authors":null,"categories":null,"content":"Sejam bem-vindas(os) ao conte√∫do de Monitoria da disciplina de Econometria I!\nP√°gina do curso (prof. Daniel Domingues dos Santos): https://edisciplinas.usp.br/course/view.php?id=99924\nüëâ Seguir para Ferramentas do R Listas de Exerc√≠cios Listas Te√≥ricas Lista Te√≥rica - Cap√≠tulo 2 Lista Te√≥rica - Cap√≠tulo 3 Listas Pr√°ticas Lista Pr√°tica 1 Lista Pr√°tica 2 Lista Pr√°tica 3 Grava√ß√µes das Monitorias Monitoria 1 (18/08): Introdu√ß√£o ao R, Opera√ß√µes b√°sicas e Objetos (simples e vetores) | Script Monitoria 2 (25/08): Objetos (vetores, matrizes, listas e data frames) e Subconjuntos de objetos (at√© remo√ß√£o de valores ausentes) | Script Monitoria 3 (01/09): Opera√ß√µes vetoriais/matriciais, Estruturas de controle (if/else, for e while), e Exemplos de otimiza√ß√£o de fun√ß√µes | Script Monitoria 4 (22/09): Fun√ß√µes, Resumo e Manipula√ß√£o de dados | Script Monitoria 5 (29/09): Manipula√ß√£o de dados via dplyr | Script Monitoria 6 (06/10): Distribui√ß√µes, Simula√ß√£o, Intervalo de Confian√ßa, Teste t e P-valor | Script Monitoria 7 (13/10): Modelo de regress√£o simples, fun√ß√£o lm(), transforma√ß√£o log e diferen√ßa de m√©dias | Script ","date":1670198400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1670198400,"objectID":"ce4cf6f448ca315ff0c2b6578d3107f9","permalink":"https://fhnishida.netlify.app/project/rec2301/","publishdate":"2022-12-05T00:00:00Z","relpermalink":"/project/rec2301/","section":"project","summary":"Undergraduate TA Sessions on OLS.","tags":["Undergraduate"],"title":"Econometrics I (Fall 2022)","type":"book"},{"authors":null,"categories":null,"content":"Welcome to TA Sessions for Macroeconomics I (Part 2) course!\nCourse webpage (prof. Luciano Nakabashi): https://edisciplinas.usp.br/course/view.php?id=89644\nüëâ Proceed to Session 1 Solutions to Problem Sets Problem Set 1 Problem Set 2 Problem Set 3 Previous Exams 2020 v12 | 2020 v7 2019 Complementary Content LaTeX LaTeX for Students, Engineers, and Scientists Course LaTeX Table Generator Search for Math Symbol Code R Markdown: Reproducible Templates for Analysis and Dissemination Course Install tinytex package to generate pdf‚Äôs in RStudio R Programming HarvardX Data Science Specialization John Hopkins Data Science Specialization ","date":1626825600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1626825600,"objectID":"2fb92ac18c4ed08592b3f73189443048","permalink":"https://fhnishida.netlify.app/project/rec5002-2/","publishdate":"2021-07-21T00:00:00Z","relpermalink":"/project/rec5002-2/","section":"project","summary":"Graduate TA Sessions on Neoclassical Theory of Optimal Control.","tags":["Graduate"],"title":"Macroeconomics I, Part 2 (Spring 2021)","type":"book"},{"authors":null,"categories":null,"content":"Welcome to TA Sessions for Macroeconomics I (Part 1) course!\nCourse webpage (prof. Fernando Barros Jr): https://sites.google.com/view/fernandobarros/teaching/macroeconomics-i\nüëâ Proceed to Session 1 Solutions to Problem Sets Problem Set 1 | Python Script Problem Set 2 | Python Script Problem Set 3 Problem Set 4 | Python Script ","date":1622505600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1622505600,"objectID":"656b23fb76049607c2f0bfc5596e8d71","permalink":"https://fhnishida.netlify.app/project/rec5002-1/","publishdate":"2021-06-01T00:00:00Z","relpermalink":"/project/rec5002-1/","section":"project","summary":"Graduate TA Sessions on Neoclassical Growth Model and Recursive Methods.","tags":["Graduate"],"title":"Macroeconomics I, Part 1 (Spring 2021)","type":"book"},{"authors":["F√°bio Nishida","Âê≥ÊÅ©ÈÅî"],"categories":["Demo","ÊïôÁ®ã"],"content":" Table of Contents Overview Get Started Crowd-funded open-source software ‚ù§Ô∏è Click here to become a sponsor and help support Wowchemy‚Äôs future ‚ù§Ô∏è Ecosystem Inspiration Features Themes License import libr print(\u0026#39;hello\u0026#39;) Overview The Wowchemy website builder for Hugo, along with its starter templates, is designed for professional creators, educators, and teams/organizations - although it can be used to create any kind of site The template can be modified and customised to suit your needs. It‚Äôs a good platform for anyone looking to take control of their data and online identity whilst having the convenience to start off with a no-code solution (write in Markdown and customize with YAML parameters) and having flexibility to later add even deeper personalization with HTML and CSS You can work with all your favourite tools and apps with hundreds of plugins and integrations to speed up your workflows, interact with your readers, and much more Get Started üëâ Create a new site üìö Personalize your site üí¨ Chat with the Wowchemy community or Hugo community üê¶ Twitter: @wowchemy @GeorgeCushen #MadeWithWowchemy üí° Request a feature or report a bug for Wowchemy ‚¨ÜÔ∏è Updating Wowchemy? View the Update Tutorial and Release Notes Crowd-funded open-source software To help us develop this template and software sustainably under the MIT license, we ask all individuals and businesses that use it to help support its ongoing maintenance and development via sponsorship.\n‚ù§Ô∏è Click here to become a sponsor and help support Wowchemy‚Äôs future ‚ù§Ô∏è As a token of appreciation for sponsoring, you can unlock these awesome rewards and extra features ü¶Ñ‚ú®\nEcosystem Hugo Academic CLI: Automatically import publications from BibTeX Inspiration Check out the latest demo of what you‚Äôll get in less than 10 minutes, or view the showcase of personal, project, and business sites.\nFeatures Page builder - Create anything with widgets and elements Edit any type of content - Blog posts, publications, talks, slides, projects, and more! Create content in Markdown, Jupyter, or RStudio Plugin System - Fully customizable color and font themes Display Code and Math - Code highlighting and LaTeX math supported Integrations - Google Analytics, Disqus commenting, Maps, Contact Forms, and more! Beautiful Site - Simple and refreshing one page design Industry-Leading SEO - Help get your website found on search engines and social media Media Galleries - Display your images and videos with captions in a customizable gallery Mobile Friendly - Look amazing on every screen with a mobile friendly version of your site Multi-language - 34+ language packs including English, ‰∏≠Êñá, and Portugu√™s Multi-user - Each author gets their own profile page Privacy Pack - Assists with GDPR Stand Out - Bring your site to life with animation, parallax backgrounds, and scroll effects One-Click Deployment - No servers. No databases. Only files. Themes Wowchemy and its templates come with automatic day (light) and night (dark) mode built-in. Alternatively, visitors can choose their preferred mode - click the moon icon in the top right of the Demo to see it in action! Day/night mode can also be disabled by the site admin in params.toml.\nChoose a stunning theme and font for your site. Themes are fully customizable.\nLicense Copyright 2016-present George Cushen.\nReleased under the MIT license.\n","date":1607817600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1607817600,"objectID":"279b9966ca9cf3121ce924dca452bb1c","permalink":"https://fhnishida.netlify.app/post/getting-started/","publishdate":"2020-12-13T00:00:00Z","relpermalink":"/post/getting-started/","section":"post","summary":"Table of Contents Overview Get Started Crowd-funded open-source software ‚ù§Ô∏è Click here to become a sponsor and help support Wowchemy‚Äôs future ‚ù§Ô∏è Ecosystem Inspiration Features Themes License import libr print('hello') Overview The Wowchemy website builder for Hugo, along with its starter templates, is designed for professional creators, educators, and teams/organizations - although it can be used to create any kind of site The template can be modified and customised to suit your needs.","tags":["Academic","ÂºÄÊ∫ê"],"title":"Welcome to Wowchemy, the website builder for Hugo","type":"book"},{"authors":[],"categories":null,"content":" Click on the Slides button above to view the built-in slides feature. Slides can be added in a few ways:\nCreate slides using Wowchemy‚Äôs Slides feature and link using slides parameter in the front matter of the talk file Upload an existing slide deck to static/ and link using url_slides parameter in the front matter of the talk file Embed your slides (e.g. Google Slides) or presentation video on this page using shortcodes. Further event details, including page elements such as image galleries, can be added to the body of this page.\n","date":1906549200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1906549200,"objectID":"a8edef490afe42206247b6ac05657af0","permalink":"https://fhnishida.netlify.app/talk/example-talk/","publishdate":"2017-01-01T00:00:00Z","relpermalink":"/talk/example-talk/","section":"event","summary":"An example talk using Wowchemy's Markdown slides feature.","tags":[],"title":"Example Talk","type":"event"},{"authors":["F√°bio Nishida","Alexandre Nicolella","Bruno Canassa","Diego Espinoza","Thalles Liduares"],"categories":null,"content":"","date":1640995200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1640995200,"objectID":"966884cc0d8ac9e31fab966c4534e973","permalink":"https://fhnishida.netlify.app/publication/journal-article/","publishdate":"2017-01-01T00:00:00Z","relpermalink":"/publication/journal-article/","section":"publication","summary":"The study reveals a negative and significant impact of retirement on the dropout of boys, especially in the presence of male pensioners in the household. This effect is not observed for girls. This evidence suggests pro-male biases possibly generated by expectations related to the gender of the young, in which boys must prepare for the job market while girls contribute to household chores.","tags":null,"title":"Impacts of rural pension on school dropout in Brazil","type":"publication"},{"authors":null,"categories":["R"],"content":"\rR Markdown\rThis is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see http://rmarkdown.rstudio.com.\nYou can embed an R code chunk like this:\nsummary(cars)\r## speed dist ## Min. : 4.0 Min. : 2.00 ## 1st Qu.:12.0 1st Qu.: 26.00 ## Median :15.0 Median : 36.00 ## Mean :15.4 Mean : 42.98 ## 3rd Qu.:19.0 3rd Qu.: 56.00 ## Max. :25.0 Max. :120.00\rfit \u0026lt;- lm(dist ~ speed, data = cars)\rfit\r## ## Call:\r## lm(formula = dist ~ speed, data = cars)\r## ## Coefficients:\r## (Intercept) speed ## -17.579 3.932\rIncluding Plots\rYou can also embed plots. See Figure 1 for example:\npar(mar = c(0, 1, 0, 1))\rpie(\rc(280, 60, 20),\rc(\u0026#39;Sky\u0026#39;, \u0026#39;Sunny side of pyramid\u0026#39;, \u0026#39;Shady side of pyramid\u0026#39;),\rcol = c(\u0026#39;#0292D8\u0026#39;, \u0026#39;#F7EA39\u0026#39;, \u0026#39;#C4B632\u0026#39;),\rinit.angle = -50, border = NA\r)\rFigure 1: A fancy pie chart.\r","date":1606875194,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1606875194,"objectID":"bf1eb249db79f10ace7d22321494165a","permalink":"https://fhnishida.netlify.app/post/2020-12-01-r-rmarkdown/","publishdate":"2020-12-01T21:13:14-05:00","relpermalink":"/post/2020-12-01-r-rmarkdown/","section":"post","summary":"R Markdown\rThis is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see http://rmarkdown.","tags":["R Markdown","plot","regression"],"title":"Hello R Markdown","type":"post"},{"authors":null,"categories":null,"content":"Wowchemy is designed to give technical content creators a seamless experience. You can focus on the content and Wowchemy handles the rest.\nHighlight your code snippets, take notes on math classes, and draw diagrams from textual representation.\nOn this page, you‚Äôll find some examples of the types of technical content that can be rendered with Wowchemy.\nExamples Code Wowchemy supports a Markdown extension for highlighting code syntax. You can customize the styles under the syntax_highlighter option in your config/_default/params.yaml file.\n```python import pandas as pd data = pd.read_csv(\u0026#34;data.csv\u0026#34;) data.head() ``` renders as\nimport pandas as pd data = pd.read_csv(\u0026#34;data.csv\u0026#34;) data.head() Mindmaps Wowchemy supports a Markdown extension for mindmaps.\nSimply insert a Markdown markmap code block and optionally set the height of the mindmap as shown in the example below.\nA simple mindmap defined as a Markdown list:\n```markmap {height=\u0026#34;200px\u0026#34;} - Hugo Modules - wowchemy - wowchemy-plugins-netlify - wowchemy-plugins-netlify-cms - wowchemy-plugins-reveal ``` renders as\n- Hugo Modules - wowchemy - wowchemy-plugins-netlify - wowchemy-plugins-netlify-cms - wowchemy-plugins-reveal A more advanced mindmap with formatting, code blocks, and math:\n```markmap - Mindmaps - Links - [Wowchemy Docs](https://wowchemy.com/docs/) - [Discord Community](https://discord.gg/z8wNYzb) - [GitHub](https://github.com/wowchemy/wowchemy-hugo-themes) - Features - Markdown formatting - **inline** ~~text~~ *styles* - multiline text - `inline code` - ```js console.log(\u0026#39;hello\u0026#39;); console.log(\u0026#39;code block\u0026#39;); ``` - Math: $x = {-b \\pm \\sqrt{b^2-4ac} \\over 2a}$ ``` renders as\n- Mindmaps - Links - [Wowchemy Docs](https://wowchemy.com/docs/) - [Discord Community](https://discord.gg/z8wNYzb) - [GitHub](https://github.com/wowchemy/wowchemy-hugo-themes) - Features - Markdown formatting - **inline** ~~text~~ *styles* - multiline text - `inline code` - ```js console.log(\u0026#39;hello\u0026#39;); console.log(\u0026#39;code block\u0026#39;); ``` - Math: $x = {-b \\pm \\sqrt{b^2-4ac} \\over 2a}$ Charts Wowchemy supports the popular Plotly format for interactive charts.\nSave your Plotly JSON in your page folder, for example line-chart.json, and then add the {{\u0026lt; chart data=\u0026#34;line-chart\u0026#34; \u0026gt;}} shortcode where you would like the chart to appear.\nDemo:\nYou might also find the Plotly JSON Editor useful.\nMath Wowchemy supports a Markdown extension for $\\LaTeX$ math. You can enable this feature by toggling the math option in your config/_default/params.yaml file.\nTo render inline or block math, wrap your LaTeX math with {{\u0026lt; math \u0026gt;}}$...${{\u0026lt; /math \u0026gt;}} or {{\u0026lt; math \u0026gt;}}$$...$${{\u0026lt; /math \u0026gt;}}, respectively. (We wrap the LaTeX math in the Wowchemy math shortcode to prevent Hugo rendering our math as Markdown. The math shortcode is new in v5.5-dev.)\nExample math block:\n{{\u0026lt; math \u0026gt;}} $$ \\gamma_{n} = \\frac{ \\left | \\left (\\mathbf x_{n} - \\mathbf x_{n-1} \\right )^T \\left [\\nabla F (\\mathbf x_{n}) - \\nabla F (\\mathbf x_{n-1}) \\right ] \\right |}{\\left \\|\\nabla F(\\mathbf{x}_{n}) - \\nabla F(\\mathbf{x}_{n-1}) \\right \\|^2} $$ {{\u0026lt; /math \u0026gt;}} renders as\n$$\\gamma_{n} = \\frac{ \\left | \\left (\\mathbf x_{n} - \\mathbf x_{n-1} \\right )^T \\left [\\nabla F (\\mathbf x_{n}) - \\nabla F (\\mathbf x_{n-1}) \\right ] \\right |}{\\left \\|\\nabla F(\\mathbf{x}_{n}) - \\nabla F(\\mathbf{x}_{n-1}) \\right \\|^2}$$ Example inline math {{\u0026lt; math \u0026gt;}}$\\nabla F(\\mathbf{x}_{n})${{\u0026lt; /math \u0026gt;}} renders as $\\nabla F(\\mathbf{x}_{n})$.\nExample multi-line math using the math linebreak (\\\\):\n{{\u0026lt; math \u0026gt;}} $$f(k;p_{0}^{*}) = \\begin{cases}p_{0}^{*} \u0026amp; \\text{if }k=1, \\\\ 1-p_{0}^{*} \u0026amp; \\text{if }k=0.\\end{cases}$$ {{\u0026lt; /math \u0026gt;}} renders as\n$$ f(k;p_{0}^{*}) = \\begin{cases}p_{0}^{*} \u0026amp; \\text{if }k=1, \\\\ 1-p_{0}^{*} \u0026amp; \\text{if }k=0.\\end{cases} $$ Diagrams Wowchemy supports a Markdown extension for diagrams. You can enable this feature by toggling the diagram option in your config/_default/params.toml file or by adding diagram: true to your page front matter.\nAn example flowchart:\n```mermaid graph TD A[Hard] --\u0026gt;|Text| B(Round) B --\u0026gt; C{Decision} C --\u0026gt;|One| D[Result 1] C --\u0026gt;|Two| E[Result 2] ``` renders as\ngraph TD A[Hard] --\u0026gt;|Text| B(Round) B --\u0026gt; C{Decision} C --\u0026gt;|One| D[Result 1] C --\u0026gt;|Two| E[Result 2] An example sequence diagram:\n```mermaid sequenceDiagram Alice-\u0026gt;\u0026gt;John: Hello John, how are you? loop Healthcheck John-\u0026gt;\u0026gt;John: Fight against hypochondria end Note right of John: Rational thoughts! John--\u0026gt;\u0026gt;Alice: Great! John-\u0026gt;\u0026gt;Bob: How about you? Bob--\u0026gt;\u0026gt;John: Jolly good! ``` renders as\nsequenceDiagram Alice-\u0026gt;\u0026gt;John: Hello John, how are you? loop Healthcheck John-\u0026gt;\u0026gt;John: Fight against hypochondria end Note right of John: Rational thoughts! John--\u0026gt;\u0026gt;Alice: Great! John-\u0026gt;\u0026gt;Bob: How about you? Bob--\u0026gt;\u0026gt;John: Jolly good! An example Gantt diagram:\n```mermaid gantt section Section Completed :done, des1, 2014-01-06,2014-01-08 Active :active, des2, 2014-01-07, 3d Parallel 1 : des3, after des1, 1d Parallel 2 : des4, after des1, 1d Parallel 3 : des5, after des3, 1d Parallel 4 : des6, after des4, 1d ``` renders ‚Ä¶","date":1562889600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1562889600,"objectID":"07e02bccc368a192a0c76c44918396c3","permalink":"https://fhnishida.netlify.app/post/writing-technical-content/","publishdate":"2019-07-12T00:00:00Z","relpermalink":"/post/writing-technical-content/","section":"post","summary":"Wowchemy is designed to give technical content creators a seamless experience. You can focus on the content and Wowchemy handles the rest.\nHighlight your code snippets, take notes on math classes, and draw diagrams from textual representation.","tags":null,"title":"Writing technical content in Markdown","type":"post"},{"authors":["F√°bio Nishida"],"categories":null,"content":" Create your slides in Markdown - click the Slides button to check out the example. Supplementary notes can be added here, including code, math, and images.\n","date":1554595200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1554595200,"objectID":"557dc08fd4b672a0c08e0a8cf0c9ff7d","permalink":"https://fhnishida.netlify.app/publication/preprint/","publishdate":"2017-01-01T00:00:00Z","relpermalink":"/publication/preprint/","section":"publication","summary":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum.","tags":["Source Themes"],"title":"An example preprint / working paper","type":"publication"},{"authors":["F√°bio Nishida"],"categories":[],"content":"from IPython.core.display import Image Image(\u0026#39;https://www.python.org/static/community_logos/python-logo-master-v3-TM-flattened.png\u0026#39;) print(\u0026#34;Welcome to Academic!\u0026#34;) Welcome to Academic! Install Python and JupyterLab Install Anaconda which includes Python 3 and JupyterLab.\nAlternatively, install JupyterLab with pip3 install jupyterlab.\nCreate or upload a Jupyter notebook Run the following commands in your Terminal, substituting \u0026lt;MY-WEBSITE-FOLDER\u0026gt; and \u0026lt;SHORT-POST-TITLE\u0026gt; with the file path to your Academic website folder and a short title for your blog post (use hyphens instead of spaces), respectively:\nmkdir -p \u0026lt;MY-WEBSITE-FOLDER\u0026gt;/content/post/\u0026lt;SHORT-POST-TITLE\u0026gt;/ cd \u0026lt;MY-WEBSITE-FOLDER\u0026gt;/content/post/\u0026lt;SHORT-POST-TITLE\u0026gt;/ jupyter lab index.ipynb The jupyter command above will launch the JupyterLab editor, allowing us to add Academic metadata and write the content.\nEdit your post metadata The first cell of your Jupter notebook will contain your post metadata (front matter).\nIn Jupter, choose Markdown as the type of the first cell and wrap your Academic metadata in three dashes, indicating that it is YAML front matter:\n--- title: My post\u0026#39;s title date: 2019-09-01 # Put any other Academic metadata here... --- Edit the metadata of your post, using the documentation as a guide to the available options.\nTo set a featured image, place an image named featured into your post‚Äôs folder.\nFor other tips, such as using math, see the guide on writing content with Academic.\nConvert notebook to Markdown jupyter nbconvert index.ipynb --to markdown --NbConvertApp.output_files_dir=. Example This post was created with Jupyter. The orginal files can be found at https://github.com/gcushen/hugo-academic/tree/master/exampleSite/content/post/jupyter\n","date":1549324800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1567641600,"objectID":"6e929dc84ed3ef80467b02e64cd2ed64","permalink":"https://fhnishida.netlify.app/post/jupyter/","publishdate":"2019-02-05T00:00:00Z","relpermalink":"/post/jupyter/","section":"post","summary":"Learn how to blog in Academic using Jupyter notebooks","tags":[],"title":"Display Jupyter Notebooks with Academic","type":"post"},{"authors":[],"categories":[],"content":"Create slides in Markdown with Wowchemy Wowchemy | Documentation\nFeatures Efficiently write slides in Markdown 3-in-1: Create, Present, and Publish your slides Supports speaker notes Mobile friendly slides Controls Next: Right Arrow or Space Previous: Left Arrow Start: Home Finish: End Overview: Esc Speaker notes: S Fullscreen: F Zoom: Alt + Click PDF Export Code Highlighting Inline code: variable\nCode block:\nporridge = \u0026#34;blueberry\u0026#34; if porridge == \u0026#34;blueberry\u0026#34;: print(\u0026#34;Eating...\u0026#34;) Math In-line math: $x + y = z$\nBlock math:\n$$ f\\left( x \\right) = ;\\frac{{2\\left( {x + 4} \\right)\\left( {x - 4} \\right)}}{{\\left( {x + 4} \\right)\\left( {x + 1} \\right)}} $$\nFragments Make content appear incrementally\n{{% fragment %}} One {{% /fragment %}} {{% fragment %}} **Two** {{% /fragment %}} {{% fragment %}} Three {{% /fragment %}} Press Space to play!\nOne Two Three A fragment can accept two optional parameters:\nclass: use a custom style (requires definition in custom CSS) weight: sets the order in which a fragment appears Speaker Notes Add speaker notes to your presentation\n{{% speaker_note %}} - Only the speaker can read these notes - Press `S` key to view {{% /speaker_note %}} Press the S key to view the speaker notes!\nOnly the speaker can read these notes Press S key to view Themes black: Black background, white text, blue links (default) white: White background, black text, blue links league: Gray background, white text, blue links beige: Beige background, dark text, brown links sky: Blue background, thin dark text, blue links night: Black background, thick white text, orange links serif: Cappuccino background, gray text, brown links simple: White background, black text, blue links solarized: Cream-colored background, dark green text, blue links Custom Slide Customize the slide style and background\n{{\u0026lt; slide background-image=\u0026#34;/media/boards.jpg\u0026#34; \u0026gt;}} {{\u0026lt; slide background-color=\u0026#34;#0000FF\u0026#34; \u0026gt;}} {{\u0026lt; slide class=\u0026#34;my-style\u0026#34; \u0026gt;}} Custom CSS Example Let‚Äôs make headers navy colored.\nCreate assets/css/reveal_custom.css with:\n.reveal section h1, .reveal section h2, .reveal section h3 { color: navy; } Questions? Ask\nDocumentation\n","date":1549324800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1549324800,"objectID":"0e6de1a61aa83269ff13324f3167c1a9","permalink":"https://fhnishida.netlify.app/slides/example/","publishdate":"2019-02-05T00:00:00Z","relpermalink":"/slides/example/","section":"slides","summary":"An introduction to using Wowchemy's Slides feature.","tags":[],"title":"Slides","type":"slides"},{"authors":["F√°bio Nishida","Robert Ford"],"categories":null,"content":" Click the Cite button above to demo the feature to enable visitors to import publication metadata into their reference management software. Create your slides in Markdown - click the Slides button to check out the example. Supplementary notes can be added here, including code, math, and images.\n","date":1372636800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1372636800,"objectID":"69425fb10d4db090cfbd46854715582c","permalink":"https://fhnishida.netlify.app/publication/conference-paper/","publishdate":"2017-01-01T00:00:00Z","relpermalink":"/publication/conference-paper/","section":"publication","summary":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum.","tags":[],"title":"An example conference paper","type":"publication"}]